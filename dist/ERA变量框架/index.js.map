{"version":3,"file":"index.js","mappings":"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","sources":["webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/MetaHeader.vue?d9bd","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/TabSwitch.vue?ef1c","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/EraAccordion.vue?7d03","webpack://tavern_helper_template/src/ERA/ui/App.vue?3085","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/PrettyJsonViewer.vue?bcdf","webpack://tavern_helper_template/src/ERA/ui/App.vue?33f3","webpack://tavern_helper_template/src/ERA/ui/components/EraSettingsPanel.vue?8f30","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/JsonNode.vue?879b","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/EraAccordion.vue?1c4e","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/TabSwitch.vue?0160","webpack://tavern_helper_template/src/ERA/ui/App.vue?8b15","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/listToStyles.js","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js","src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/MetaHeader.vue?812e","webpack://tavern_helper_template/src/ERA/ui/components/EraSettingsPanel.vue?d251","webpack://tavern_helper_template/src/ERA/ui/components/ActionButtons.vue?6bd8","webpack://tavern_helper_template/src/ERA/ui/components/ActionButtons.vue?1900","webpack://tavern_helper_template/src/ERA/ui/components/FloatingBall.vue?e1c6","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/PrettyJsonViewer.vue?8546","webpack://tavern_helper_template/src/ERA/ui/components/FloatingBall.vue?d88d","webpack://tavern_helper_template/src/ERA/ui/App.vue?1b63","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/JsonNode.vue?8db1","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/webpack/runtime/make namespace object","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src/ERA/utils/constants.ts","src://tavern_helper_template/src/ERA/utils/log.ts","src://tavern_helper_template/src/ERA/events/merger.ts","src://tavern_helper_template/external var \"_\"","src://tavern_helper_template/src/ERA/utils/era_data.ts","src://tavern_helper_template/src/ERA/utils/text.ts","src://tavern_helper_template/src/ERA/utils/message.ts","src://tavern_helper_template/src/ERA/utils/string.ts","src://tavern_helper_template/src/ERA/core/key/mk.ts","src://tavern_helper_template/src/ERA/scriptIniter/settings.ts","src://tavern_helper_template/src/ERA/utils/data.ts","src://tavern_helper_template/src/ERA/events/emitters/events.ts","src://tavern_helper_template/src/ERA/events/handlers/api/handler.ts","src://tavern_helper_template/src/ERA/events/handlers/api/dispatcher.ts","src://tavern_helper_template/src/ERA/core/crud/delete.ts","src://tavern_helper_template/src/ERA/core/crud/insert/template.ts","src://tavern_helper_template/src/ERA/core/crud/insert/insert.ts","src://tavern_helper_template/src/ERA/core/rollback.ts","src://tavern_helper_template/src/ERA/core/crud/update.ts","src://tavern_helper_template/src/ERA/core/crud/patcher.ts","src://tavern_helper_template/src/ERA/core/sync.ts","src://tavern_helper_template/src/ERA/ui/patch.ts","src://tavern_helper_template/src/ERA/events/handlers/sync.ts","src://tavern_helper_template/src/ERA/events/dispatcher.ts","src://tavern_helper_template/src/ERA/events/handlers/updateMkOnly.ts","src://tavern_helper_template/src/ERA/events/queue.ts","src://tavern_helper_template/src/ERA/macro/parser.ts","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/ERA/ui/components/ActionButtons.vue","webpack://tavern_helper_template/src/ERA/ui/components/ActionButtons.vue?9438","src://tavern_helper_template/src/ERA/ui/components/EraSettingsPanel.vue","webpack://tavern_helper_template/src/ERA/ui/components/EraSettingsPanel.vue?dca4","src://tavern_helper_template/src/ERA/ui/components/FloatingBall.vue","webpack://tavern_helper_template/src/ERA/ui/components/FloatingBall.vue?013d","src://tavern_helper_template/src/ERA/ui/components/era-panel/parts/EraAccordion.vue","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/EraAccordion.vue?6c0f","src://tavern_helper_template/src/ERA/ui/components/era-panel/parts/MetaHeader.vue","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/MetaHeader.vue?e70c","webpack://tavern_helper_template/./src/ERA/ui/components/era-panel/parts/JsonNode.vue?f8fb","src://tavern_helper_template/src/ERA/ui/components/era-panel/parts/JsonNode.vue","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/JsonNode.vue?fa79","src://tavern_helper_template/src/ERA/ui/components/era-panel/parts/PrettyJsonViewer.vue","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/PrettyJsonViewer.vue?7e8f","src://tavern_helper_template/src/ERA/ui/components/era-panel/parts/TabSwitch.vue","webpack://tavern_helper_template/src/ERA/ui/components/era-panel/parts/TabSwitch.vue?0544","src://tavern_helper_template/src/ERA/ui/App.vue","webpack://tavern_helper_template/src/ERA/ui/App.vue?55af","src://tavern_helper_template/src/ERA/ui/index.ts","src://tavern_helper_template/src/ERA/ui/utils/dom.ts","src://tavern_helper_template/src/ERA/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.meta[data-v-56f5fbd7]{position:relative;padding:12px 12px 14px;border:1px solid rgba(0,0,0,0.06);border-radius:12px;background:linear-gradient(180deg,#ffffff,#f9fafb);box-shadow:0 6px 18px rgba(0,0,0,0.06),inset 0 1px 0 #fff}.meta-title[data-v-56f5fbd7]{margin:0 0 10px;font-size:13px;font-weight:800;color:#374151}.kv[data-v-56f5fbd7]{display:grid;grid-template-columns:120px 1fr;gap:8px 12px}.item[data-v-56f5fbd7]{display:contents}.k[data-v-56f5fbd7]{justify-self:start;align-self:center;font-size:12px;color:#6b7280;background:#f3f4f6;border:1px solid #e5e7eb;padding:4px 8px;border-radius:8px;font-weight:700}.v[data-v-56f5fbd7]{align-self:center;font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;color:#111827;background:#fff;border:1px solid #e5e7eb;padding:6px 8px;border-radius:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.glow[data-v-56f5fbd7]{position:absolute;left:12px;right:12px;top:-1px;height:3px;border-radius:999px;background:linear-gradient(90deg,#60a5fa,#a78bfa,#34d399,#f472b6);filter:blur(0.4px)}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/era-panel/parts/MetaHeader.vue\"],\"names\":[],\"mappings\":\"AA8CA,uBACE,iBAAkB,CAClB,sBAAuB,CACvB,iCAAqC,CACrC,kBAAmB,CACnB,kDAAqD,CACrD,yDAGF,CACA,6BACE,eAAgB,CAChB,cAAe,CACf,eAAgB,CAChB,aACF,CAEA,qBACE,YAAa,CACb,+BAAgC,CAChC,YACF,CACA,uBACE,gBACF,CACA,oBACE,kBAAmB,CACnB,iBAAkB,CAClB,cAAe,CACf,aAAc,CACd,kBAAmB,CACnB,wBAAyB,CACzB,eAAgB,CAChB,iBAAkB,CAClB,eACF,CACA,oBACE,iBAAkB,CAClB,iDAAqD,CACrD,cAAe,CACf,aAAc,CACd,eAAgB,CAChB,wBAAyB,CACzB,eAAgB,CAChB,iBAAkB,CAClB,eAAgB,CAChB,sBAAuB,CACvB,kBACF,CAGA,uBACE,iBAAkB,CAClB,SAAU,CACV,UAAW,CACX,QAAS,CACT,UAAW,CACX,mBAAoB,CACpB,iEAAsE,CACtE,kBACF\",\"sourcesContent\":[\"<template>\\n  <section class=\\\"meta\\\">\\n    <h4 class=\\\"meta-title\\\"></h4>\\n    <!--  -->\\n    <div class=\\\"kv\\\">\\n      <div class=\\\"item\\\">\\n        <span class=\\\"k\\\">mk</span>\\n        <!-- mk -->\\n        <span class=\\\"v\\\" :title=\\\"mk\\\">{{ mk || '' }}</span>\\n        <!-- mk -->\\n      </div>\\n      <div class=\\\"item\\\">\\n        <span class=\\\"k\\\">message_id</span>\\n        <!-- message_id -->\\n        <span class=\\\"v\\\">{{ messageId ?? '' }}</span>\\n        <!-- message_id -->\\n      </div>\\n    </div>\\n    <div class=\\\"glow\\\"></div>\\n    <!--  -->\\n  </section>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { onMounted, watch } from 'vue';\\nimport { Logger } from '../../../../utils/log';\\n\\nconst logger = new Logger('ui-MetaHeader');\\n\\n// \\nconst props = defineProps<{ mk: string; messageId: number }>(); // \\n\\nonMounted(() => {\\n  logger.log('onMounted', '', { props });\\n});\\n\\nwatch(\\n  () => props,\\n  newProps => {\\n    logger.debug('watch:props', 'Props ', { newProps });\\n  },\\n  { deep: true },\\n);\\n</script>\\n\\n<style scoped>\\n.meta {\\n  position: relative;\\n  padding: 12px 12px 14px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 12px;\\n  background: linear-gradient(180deg, #ffffff, #f9fafb);\\n  box-shadow:\\n    0 6px 18px rgba(0, 0, 0, 0.06),\\n    inset 0 1px 0 #fff;\\n}\\n.meta-title {\\n  margin: 0 0 10px;\\n  font-size: 13px;\\n  font-weight: 800;\\n  color: #374151;\\n}\\n\\n.kv {\\n  display: grid;\\n  grid-template-columns: 120px 1fr;\\n  gap: 8px 12px;\\n}\\n.item {\\n  display: contents;\\n}\\n.k {\\n  justify-self: start;\\n  align-self: center;\\n  font-size: 12px;\\n  color: #6b7280;\\n  background: #f3f4f6;\\n  border: 1px solid #e5e7eb;\\n  padding: 4px 8px;\\n  border-radius: 8px;\\n  font-weight: 700;\\n}\\n.v {\\n  align-self: center;\\n  font-family: ui-monospace, Menlo, Consolas, monospace;\\n  font-size: 12px;\\n  color: #111827;\\n  background: #fff;\\n  border: 1px solid #e5e7eb;\\n  padding: 6px 8px;\\n  border-radius: 8px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n/*  */\\n.glow {\\n  position: absolute;\\n  left: 12px;\\n  right: 12px;\\n  top: -1px;\\n  height: 3px;\\n  border-radius: 999px;\\n  background: linear-gradient(90deg, #60a5fa, #a78bfa, #34d399, #f472b6);\\n  filter: blur(0.4px);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tabs[data-v-7ab146e6]{margin-top:12px;border:1px solid rgba(0,0,0,0.06);border-radius:12px;overflow:hidden;background:linear-gradient(180deg,#fff,#fafafa)}.tab-bar[data-v-7ab146e6]{display:flex;gap:8px;padding:8px;border-bottom:1px solid rgba(0,0,0,0.06);background:linear-gradient(180deg,#f9fafb,#f3f4f6)}.tab-btn[data-v-7ab146e6]{padding:8px 12px;font-weight:800;font-size:13px;color:#6b7280;background:#fff;border:1px solid #e5e7eb;border-radius:10px;cursor:pointer}.tab-btn.active[data-v-7ab146e6]{color:#111827;border-color:#93c5fd;box-shadow:inset 0 1px 0 #fff,0 0 0 3px rgba(147,197,253,0.35)}.tab-content[data-v-7ab146e6]{padding:10px 12px;background:rgba(255,255,255,0.86)}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/era-panel/parts/TabSwitch.vue\"],\"names\":[],\"mappings\":\"AA+DA,uBACE,eAAgB,CAChB,iCAAqC,CACrC,kBAAmB,CACnB,eAAgB,CAChB,+CACF,CACA,0BACE,YAAa,CACb,OAAQ,CACR,WAAY,CACZ,wCAA4C,CAC5C,kDACF,CACA,0BACE,gBAAiB,CACjB,eAAgB,CAChB,cAAe,CACf,aAAc,CACd,eAAgB,CAChB,wBAAyB,CACzB,kBAAmB,CACnB,cACF,CACA,iCACE,aAAc,CACd,oBAAqB,CACrB,8DAGF,CACA,8BACE,iBAAkB,CAClB,iCACF\",\"sourcesContent\":[\"<template>\\n  <section class=\\\"tabs\\\">\\n    <!--  -->\\n    <div class=\\\"tab-bar\\\" role=\\\"tablist\\\">\\n      <button\\n        v-for=\\\"t in tabs\\\"\\n        :key=\\\"t.key\\\"\\n        class=\\\"tab-btn\\\"\\n        :class=\\\"{ active: t.key === innerActive }\\\"\\n        role=\\\"tab\\\"\\n        @click=\\\"setActive(t.key)\\\"\\n      >\\n        {{ t.label }}\\n      </button>\\n    </div>\\n\\n    <!--  -->\\n    <div class=\\\"tab-content\\\">\\n      <div v-if=\\\"innerActive === 'pure'\\\">\\n        <slot name=\\\"pure\\\" />\\n        <!--  -->\\n      </div>\\n      <div v-else>\\n        <slot name=\\\"full\\\" />\\n        <!--  -->\\n      </div>\\n    </div>\\n  </section>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { onMounted, ref, watch } from 'vue'; // \\nimport { Logger } from '../../../../utils/log';\\n\\ntype TabItem = { key: 'pure' | 'full'; label: string }; // Tab \\n\\nconst logger = new Logger('ui-TabSwitch');\\nconst props = defineProps<{ tabs: TabItem[]; active?: 'pure' | 'full' }>(); //  tabs  active\\nconst emit = defineEmits<{ 'update:active': ['pure' | 'full'] }>(); // v-model:active\\n\\nconst innerActive = ref<'pure' | 'full'>(props.active ?? 'pure'); // \\n\\nwatch(\\n  () => props.active,\\n  v => {\\n    if (v) {\\n      logger.debug('watch:active', ` active tab : ${v}`);\\n      innerActive.value = v;\\n    }\\n  },\\n); // \\nfunction setActive(k: 'pure' | 'full') {\\n  logger.log('setActive', ` tab : ${k}`);\\n  innerActive.value = k;\\n  emit('update:active', k);\\n} // \\n\\nonMounted(() => {\\n  logger.log('onMounted', '', { props });\\n});\\n</script>\\n\\n<style scoped>\\n.tabs {\\n  margin-top: 12px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 12px;\\n  overflow: hidden;\\n  background: linear-gradient(180deg, #fff, #fafafa);\\n}\\n.tab-bar {\\n  display: flex;\\n  gap: 8px;\\n  padding: 8px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\\n  background: linear-gradient(180deg, #f9fafb, #f3f4f6);\\n}\\n.tab-btn {\\n  padding: 8px 12px;\\n  font-weight: 800;\\n  font-size: 13px;\\n  color: #6b7280;\\n  background: #fff;\\n  border: 1px solid #e5e7eb;\\n  border-radius: 10px;\\n  cursor: pointer;\\n}\\n.tab-btn.active {\\n  color: #111827;\\n  border-color: #93c5fd;\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 0 0 3px rgba(147, 197, 253, 0.35);\\n}\\n.tab-content {\\n  padding: 10px 12px;\\n  background: rgba(255, 255, 255, 0.86);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.acc[data-v-cb8a53de]{border:1px solid rgba(0,0,0,0.06);border-radius:12px;background:linear-gradient(180deg,#fff,#fafafa);overflow:hidden}.acc-head[data-v-cb8a53de]{width:100%;display:flex;align-items:center;gap:10px;background:linear-gradient(180deg,#f9fafb,#f3f4f6);border-bottom:1px solid rgba(0,0,0,0.06);padding:10px 12px;cursor:pointer;font-weight:800;color:#374151}.caret[data-v-cb8a53de]{transition:transform 0.18s ease}.caret.open[data-v-cb8a53de]{transform:rotate(90deg)}.title[data-v-cb8a53de]{font-size:13px}.spacer[data-v-cb8a53de]{flex:1}.hint[data-v-cb8a53de]{font-size:12px;color:#6b7280}.acc-body[data-v-cb8a53de]{display:grid;grid-template-rows:0fr;transition:grid-template-rows 0.28s ease;background:rgba(255,255,255,0.82)}.acc-body.open[data-v-cb8a53de]{grid-template-rows:1fr}.inner[data-v-cb8a53de]{overflow:hidden;transition:padding 0.28s ease,visibility 0s 0.28s;padding:0 12px;visibility:hidden}.acc-body.open .inner[data-v-cb8a53de]{padding:10px 12px;visibility:visible;transition-delay:0s}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/era-panel/parts/EraAccordion.vue\"],\"names\":[],\"mappings\":\"AAkCA,sBACE,iCAAqC,CACrC,kBAAmB,CACnB,+CAAkD,CAClD,eACF,CAEA,2BACE,UAAW,CACX,YAAa,CACb,kBAAmB,CACnB,QAAS,CACT,kDAAqD,CACrD,wCAA4C,CAC5C,iBAAkB,CAClB,cAAe,CACf,eAAgB,CAChB,aACF,CACA,wBACE,+BACF,CACA,6BACE,uBACF,CACA,wBACE,cACF,CACA,yBACE,MACF,CACA,uBACE,cAAe,CACf,aACF,CAEA,2BACE,YAAa,CACb,sBAAuB,CACvB,wCAAyC,CACzC,iCACF,CACA,gCACE,sBACF,CAEA,wBACE,eAAgB,CAEhB,iDAEqB,CACrB,cAAe,CACf,iBACF,CACA,uCACE,iBAAkB,CAClB,kBAAmB,CACnB,mBACF\",\"sourcesContent\":[\"<template>\\n  <section class=\\\"acc\\\">\\n    <!--  -->\\n    <button class=\\\"acc-head\\\" :aria-expanded=\\\"open ? 'true' : 'false'\\\" @click=\\\"open = !open\\\">\\n      <span class=\\\"caret\\\" :class=\\\"{ open }\\\"></span>\\n      <!--  -->\\n      <span class=\\\"title\\\">{{ title }}</span>\\n      <!--  -->\\n      <span class=\\\"spacer\\\"></span>\\n      <!--  -->\\n      <span class=\\\"hint\\\">{{ open ? '' : '' }}</span>\\n      <!--  -->\\n    </button>\\n\\n    <!--  CSS Grid -->\\n    <div class=\\\"acc-body\\\" :class=\\\"{ open }\\\">\\n      <div class=\\\"inner\\\">\\n        <slot />\\n      </div>\\n    </div>\\n  </section>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { ref } from 'vue';\\n\\nconst props = withDefaults(defineProps<{ title: string; defaultOpen?: boolean }>(), {\\n  defaultOpen: false,\\n});\\n\\nconst open = ref<boolean>(props.defaultOpen);\\n</script>\\n\\n<style scoped>\\n.acc {\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 12px;\\n  background: linear-gradient(180deg, #fff, #fafafa);\\n  overflow: hidden;\\n}\\n\\n.acc-head {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  background: linear-gradient(180deg, #f9fafb, #f3f4f6);\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\\n  padding: 10px 12px;\\n  cursor: pointer;\\n  font-weight: 800;\\n  color: #374151;\\n}\\n.caret {\\n  transition: transform 0.18s ease;\\n}\\n.caret.open {\\n  transform: rotate(90deg);\\n}\\n.title {\\n  font-size: 13px;\\n}\\n.spacer {\\n  flex: 1;\\n}\\n.hint {\\n  font-size: 12px;\\n  color: #6b7280;\\n}\\n\\n.acc-body {\\n  display: grid;\\n  grid-template-rows: 0fr;\\n  transition: grid-template-rows 0.28s ease;\\n  background: rgba(255, 255, 255, 0.82);\\n}\\n.acc-body.open {\\n  grid-template-rows: 1fr;\\n}\\n\\n.inner {\\n  overflow: hidden;\\n  /* Add transitions for padding and visibility */\\n  transition:\\n    padding 0.28s ease,\\n    visibility 0s 0.28s; /* Hide after the collapse transition ends */\\n  padding: 0 12px;\\n  visibility: hidden;\\n}\\n.acc-body.open .inner {\\n  padding: 10px 12px;\\n  visibility: visible;\\n  transition-delay: 0s; /* Show immediately when opening */\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.era-panel[data-v-57305d87]{width:min(960px,60vw);height:min(680px,86vh);display:flex;flex-direction:column;background:linear-gradient(180deg,rgba(255,255,255,0.75),rgba(255,255,255,0.65));border:1px solid rgba(255,255,255,0.6);backdrop-filter:blur(10px);border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,0.18),inset 0 1px 0 rgba(255,255,255,0.6);overflow:hidden;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}.panel-top[data-v-57305d87]{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid rgba(0,0,0,0.06);background:linear-gradient(90deg,rgba(255,255,255,0.65),rgba(255,255,255,0.45))}.panel-title[data-v-57305d87]{font-size:16px;font-weight:800;letter-spacing:0.5px;color:#1f2937}.btn-close[data-v-57305d87]{width:32px;height:32px;line-height:30px;text-align:center;border-radius:8px;border:1px solid rgba(0,0,0,0.08);background:#fff;cursor:pointer;font-size:18px;color:#6b7280;box-shadow:0 2px 8px rgba(0,0,0,0.08)}.btn-close[data-v-57305d87]:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(0,0,0,0.12)}.panel-body[data-v-57305d87]{padding:14px 14px 16px;overflow:auto}.block[data-v-57305d87]{margin:12px 0 4px;padding:10px 12px;background:rgba(255,255,255,0.6);border:1px solid rgba(0,0,0,0.06);border-radius:12px}.block-title[data-v-57305d87]{margin:0 0 8px;font-size:13px;font-weight:800;color:#374151}.chips[data-v-57305d87]{display:flex;flex-wrap:wrap;gap:8px}.chip[data-v-57305d87]{font-size:12px;padding:6px 8px;border:1px solid rgba(0,0,0,0.06);border-radius:999px;background:linear-gradient(180deg,#fafafa,#f4f4f4);color:#6b7280;box-shadow:inset 0 1px 0 #fff}.chip.ok[data-v-57305d87]{color:#065f46;background:linear-gradient(180deg,#ecfdf5,#d1fae5);border-color:#a7f3d0}.mk-strip[data-v-57305d87]{display:flex;gap:8px;flex-wrap:wrap;max-height:140px;overflow:auto}.mk-pill[data-v-57305d87]{display:inline-flex;gap:6px;align-items:center;padding:6px 8px;background:linear-gradient(180deg,#eef2ff,#e0e7ff);color:#4338ca;border:1px solid #c7d2fe;border-radius:8px;font-size:12px}.mk-pill.is-null[data-v-57305d87]{background:linear-gradient(180deg,#f9fafb,#f3f4f6);color:#6b7280;border-color:#e5e7eb}.empty[data-v-57305d87]{height:360px;display:grid;place-items:center;color:#6b7280;font-size:14px;border:1px dashed rgba(0,0,0,0.08);border-radius:12px;background:rgba(255,255,255,0.5)}[data-v-57305d87] button[aria-expanded='false']+*{height:0 !important;padding-top:0 !important;padding-bottom:0 !important;margin-top:0 !important;margin-bottom:0 !important;border-top-width:0 !important;border-bottom-width:0 !important;overflow:clip !important;contain:paint !important}[data-v-57305d87] button[aria-expanded='true']+*{overflow:visible}.era-shell[data-v-57305d87]{display:flex;align-items:flex-start;gap:12px;flex-wrap:nowrap}.era-panel[data-v-57305d87]{flex:0 1 auto}.right-rail[data-v-57305d87]{width:min(320px,34vw);position:sticky;top:10px;align-self:flex-start;z-index:1}@media (max-width:1100px){.era-shell[data-v-57305d87]{flex-wrap:wrap}.right-rail[data-v-57305d87]{width:100%;position:static;margin-top:8px}}[data-v-57305d87] .floating-ball{position:fixed;right:max(16px,env(safe-area-inset-right));bottom:max(90px,env(safe-area-inset-bottom));z-index:2147483647;pointer-events:auto;touch-action:manipulation;will-change:transform}.era-expanded-layer[data-v-57305d87]{position:fixed;inset:0;display:grid;place-items:center;padding:clamp(12px,2.5vw,24px);pointer-events:auto;z-index:2147483646;background:transparent;overflow:auto}@media (max-width:640px){.era-panel[data-v-57305d87]{width:min(92vw,560px);height:min(88vh,calc(100svh - 32px))}.panel-body[data-v-57305d87]{overscroll-behavior:contain}}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/App.vue\"],\"names\":[],\"mappings\":\"AAoMA,4BACE,qBAAuB,CACvB,sBAAwB,CACxB,YAAa,CACb,qBAAsB,CACtB,gFAAyF,CACzF,sCAA0C,CAC1C,0BAA2B,CAC3B,kBAAmB,CACnB,2EAEwC,CACxC,eAAgB,CAChB,gEACF,CAEA,4BACE,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAC9B,iBAAkB,CAClB,wCAA4C,CAC5C,+EACF,CACA,8BACE,cAAe,CACf,eAAgB,CAChB,oBAAqB,CACrB,aACF,CACA,4BACE,UAAW,CACX,WAAY,CACZ,gBAAiB,CACjB,iBAAkB,CAClB,iBAAkB,CAClB,iCAAqC,CACrC,eAAgB,CAChB,cAAe,CACf,cAAe,CACf,aAAc,CACd,qCACF,CACA,kCACE,0BAA2B,CAC3B,sCACF,CAEA,6BACE,sBAAuB,CACvB,aACF,CAEA,wBACE,iBAAkB,CAClB,iBAAkB,CAClB,gCAAoC,CACpC,iCAAqC,CACrC,kBACF,CACA,8BACE,cAAe,CACf,cAAe,CACf,eAAgB,CAChB,aACF,CAEA,wBACE,YAAa,CACb,cAAe,CACf,OACF,CACA,uBACE,cAAe,CACf,eAAgB,CAChB,iCAAqC,CACrC,mBAAoB,CACpB,kDAAqD,CACrD,aAAc,CACd,6BACF,CACA,0BACE,aAAc,CACd,kDAAqD,CACrD,oBACF,CAEA,2BACE,YAAa,CACb,OAAQ,CACR,cAAe,CACf,gBAAiB,CACjB,aACF,CACA,0BACE,mBAAoB,CACpB,OAAQ,CACR,kBAAmB,CACnB,eAAgB,CAChB,kDAAqD,CACrD,aAAc,CACd,wBAAyB,CACzB,iBAAkB,CAClB,cACF,CACA,kCACE,kDAAqD,CACrD,aAAc,CACd,oBACF,CAEA,wBACE,YAAa,CACb,YAAa,CACb,kBAAmB,CACnB,aAAc,CACd,cAAe,CACf,kCAAsC,CACtC,kBAAmB,CACnB,gCACF,CAIA,kDACE,mBAAoB,CACpB,wBAAyB,CACzB,2BAA4B,CAC5B,uBAAwB,CACxB,0BAA2B,CAC3B,6BAA8B,CAC9B,gCAAiC,CACjC,wBAAyB,CACzB,wBACF,CAGA,iDACE,gBACF,CAGA,4BAEE,YAAa,CACb,sBAAuB,CACvB,QAAS,CACT,gBACF,CAGA,4BAEE,aACF,CAGA,6BAEE,qBAAuB,CACvB,eAAgB,CAChB,QAAS,CACT,qBAAsB,CACtB,SACF,CAGA,0BAEE,4BAEE,cACF,CACA,6BAEE,UAAW,CACX,eAAgB,CAChB,cACF,CACF,CAGA,iCAEE,cAAe,CACf,0CAA4C,CAC5C,4CAA8C,CAC9C,kBAAmB,CACnB,mBAAoB,CACpB,yBAA0B,CAC1B,qBACF,CAGA,qCAEE,cAAe,CACf,OAAQ,CACR,YAAa,CACb,kBAAmB,CACnB,8BAAiC,CACjC,mBAAoB,CACpB,kBAAmB,CACnB,sBAAuB,CACvB,aACF,CAGA,yBAEE,4BAEE,qBAAuB,CACvB,oCACF,CACA,6BAEE,2BACF,CACF\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"era-app-container\\\">\\n    <FloatingBall v-show=\\\"currentComponent === 'FloatingBall'\\\" @click=\\\"requestSwitchView('ExpandedView')\\\" />\\n    <div v-show=\\\"currentComponent === 'ExpandedView'\\\" class=\\\"era-expanded-layer\\\">\\n      <!--  -->\\n      <div class=\\\"era-shell\\\">\\n        <!--  +  -->\\n        <!--  -->\\n        <div class=\\\"era-panel\\\">\\n          <!--  -->\\n          <!--  ERA  -->\\n          <!--  +  -->\\n          <!--  -->\\n          <header class=\\\"panel-top\\\">\\n            <!--  -->\\n            <h3 class=\\\"panel-title\\\">ERA </h3>\\n            <!--  -->\\n            <button class=\\\"btn-close\\\" aria-label=\\\"\\\" @click=\\\"requestSwitchView('FloatingBall')\\\"></button>\\n            <!--  -->\\n          </header>\\n\\n          <!--  -->\\n          <!--  -->\\n          <div class=\\\"panel-body\\\">\\n            <!--  -->\\n            <template v-if=\\\"dataRef\\\">\\n              <!--  -->\\n              <MetaHeader :mk=\\\"dataRef.mk\\\" :message-id=\\\"dataRef.message_id\\\" />\\n              <!--  -->\\n\\n              <EraAccordion title=\\\"ERA \\\" :default-open=\\\"false\\\">\\n                <!--  -->\\n                <template #default>\\n                  <!--  -->\\n                  <div style=\\\"display: flex; flex-direction: column; gap: 8px\\\">\\n                    <!--  -->\\n                    <EraAccordion title=\\\"SelectedMks\\\" :default-open=\\\"false\\\">\\n                      <!-- 1 -->\\n                      <template #default>\\n                        <!--  -->\\n                        <PrettyJsonViewer :value=\\\"dataRef.selectedMks\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"3\\\" />\\n                        <!-- JSON  -->\\n                      </template>\\n                    </EraAccordion>\\n                    <EraAccordion title=\\\"EditLogs\\\" :default-open=\\\"false\\\">\\n                      <!-- 2 -->\\n                      <template #default>\\n                        <!--  -->\\n                        <PrettyJsonViewer :value=\\\"dataRef.editLogs\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"2\\\" />\\n                        <!-- JSON  -->\\n                      </template>\\n                    </EraAccordion>\\n                  </div>\\n                </template>\\n              </EraAccordion>\\n\\n              <TabSwitch v-model:active=\\\"activeTab\\\" :tabs=\\\"tabs\\\">\\n                <!--  -->\\n                <template #pure>\\n                  <!--  -->\\n                  <PrettyJsonViewer :value=\\\"dataRef.statWithoutMeta\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"Infinity\\\" />\\n                  <!-- JSON  -->\\n                </template>\\n                <template #full>\\n                  <!--  -->\\n                  <PrettyJsonViewer :value=\\\"dataRef.stat\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"Infinity\\\" />\\n                  <!-- JSON  -->\\n                </template>\\n              </TabSwitch>\\n            </template>\\n\\n            <template v-else>\\n              <!--  -->\\n              <div class=\\\"empty\\\"> era:writeDone </div>\\n              <!--  -->\\n            </template>\\n          </div>\\n        </div>\\n\\n        <!-- / -->\\n        <aside class=\\\"right-rail\\\">\\n          <!--  -->\\n          <ActionButtons />\\n          <!--  -->\\n          <EraSettingsPanel />\\n        </aside>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { computed, onMounted, ref, watch } from 'vue';\\nimport { Logger } from '../utils/log';\\nimport ActionButtons from './components/ActionButtons.vue';\\nimport EraSettingsPanel from './components/EraSettingsPanel.vue';\\nimport FloatingBall from './components/FloatingBall.vue';\\n\\n//  EraDataPanel  imports\\nimport EraAccordion from './components/era-panel/parts/EraAccordion.vue';\\nimport MetaHeader from './components/era-panel/parts/MetaHeader.vue';\\nimport PrettyJsonViewer from './components/era-panel/parts/PrettyJsonViewer.vue';\\nimport TabSwitch from './components/era-panel/parts/TabSwitch.vue';\\n\\n//  EraDataPanel \\ntype Actions = { rollback: boolean; apply: boolean; resync: boolean; api: boolean; apiWrite: boolean };\\nexport interface WriteDonePayload {\\n  mk: string;\\n  message_id: number;\\n  actions: Actions;\\n  selectedMks: (string | null)[];\\n  editLogs: Record<string, any[]>;\\n  stat: any;\\n  statWithoutMeta: any;\\n  consecutiveProcessingCount: number;\\n}\\n\\n// TabSwitch \\ntype TabItem = { key: 'pure' | 'full'; label: string };\\n\\nconst logger = new Logger('ui-App');\\n\\n// App.vue  props\\nconst props = defineProps({\\n  initialView: {\\n    type: String,\\n    required: true,\\n    default: 'FloatingBall',\\n  },\\n  eventData: {\\n    type: Object as () => WriteDonePayload | null,\\n    default: () => null,\\n  },\\n});\\n\\n// App.vue \\nconst currentComponent = ref(props.initialView);\\nconst requestSwitchView = (viewName: 'FloatingBall' | 'ExpandedView') => {\\n  logger.debug('requestSwitchView', `: ${viewName}`);\\n  if ((window as any).eraUiSwitchView) {\\n    (window as any).eraUiSwitchView(viewName);\\n  } else {\\n    logger.warn('requestSwitchView', ' eraUiSwitchView ');\\n  }\\n};\\n\\n//  EraDataPanel \\nconst dataRef = computed(() => props.eventData || null);\\n\\nconst tabs: TabItem[] = [\\n  { key: 'pure', label: '' },\\n  { key: 'full', label: '' },\\n];\\nconst activeTab = ref<'pure' | 'full'>('pure');\\n\\nonMounted(() => {\\n  logger.log('onMounted', 'App.vue ', { props: props });\\n});\\n\\nwatch(\\n  () => props.eventData,\\n  (newData, oldData) => {\\n    logger.debug('watch:eventData', 'eventData prop ', {\\n      newData,\\n      oldData,\\n    });\\n  },\\n  { deep: true },\\n);\\n\\nwatch(\\n  () => props.initialView,\\n  newView => {\\n    logger.debug('watch:initialView', `initialView prop : ${newView}`);\\n    currentComponent.value = newView;\\n  },\\n);\\n</script>\\n\\n<style>\\n/* App.vue  .era-app-container */\\n.era-app-container {\\n  /*  */\\n  position: fixed; /*  */\\n  inset: 0; /* top/right/bottom/left  0 */\\n  z-index: 2147483646; /*  */\\n  pointer-events: none; /*  */\\n  isolation: isolate; /*  */\\n  contain: layout style paint; /*  */\\n  width: 100svw; /*  */\\n  height: 100svh; /*  */\\n}\\n</style>\\n\\n<style scoped>\\n/*  EraDataPanel.vue  */\\n.era-panel {\\n  width: min(960px, 60vw);\\n  height: min(680px, 86vh);\\n  display: flex;\\n  flex-direction: column;\\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.65));\\n  border: 1px solid rgba(255, 255, 255, 0.6);\\n  backdrop-filter: blur(10px);\\n  border-radius: 16px;\\n  box-shadow:\\n    0 10px 40px rgba(0, 0, 0, 0.18),\\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\\n  overflow: hidden;\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;\\n}\\n\\n.panel-top {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 14px 16px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\\n  background: linear-gradient(90deg, rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0.45));\\n}\\n.panel-title {\\n  font-size: 16px;\\n  font-weight: 800;\\n  letter-spacing: 0.5px;\\n  color: #1f2937;\\n}\\n.btn-close {\\n  width: 32px;\\n  height: 32px;\\n  line-height: 30px;\\n  text-align: center;\\n  border-radius: 8px;\\n  border: 1px solid rgba(0, 0, 0, 0.08);\\n  background: #fff;\\n  cursor: pointer;\\n  font-size: 18px;\\n  color: #6b7280;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\\n}\\n.btn-close:hover {\\n  transform: translateY(-1px);\\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);\\n}\\n\\n.panel-body {\\n  padding: 14px 14px 16px;\\n  overflow: auto;\\n}\\n\\n.block {\\n  margin: 12px 0 4px;\\n  padding: 10px 12px;\\n  background: rgba(255, 255, 255, 0.6);\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 12px;\\n}\\n.block-title {\\n  margin: 0 0 8px;\\n  font-size: 13px;\\n  font-weight: 800;\\n  color: #374151;\\n}\\n\\n.chips {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 8px;\\n}\\n.chip {\\n  font-size: 12px;\\n  padding: 6px 8px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 999px;\\n  background: linear-gradient(180deg, #fafafa, #f4f4f4);\\n  color: #6b7280;\\n  box-shadow: inset 0 1px 0 #fff;\\n}\\n.chip.ok {\\n  color: #065f46;\\n  background: linear-gradient(180deg, #ecfdf5, #d1fae5);\\n  border-color: #a7f3d0;\\n}\\n\\n.mk-strip {\\n  display: flex;\\n  gap: 8px;\\n  flex-wrap: wrap;\\n  max-height: 140px;\\n  overflow: auto;\\n}\\n.mk-pill {\\n  display: inline-flex;\\n  gap: 6px;\\n  align-items: center;\\n  padding: 6px 8px;\\n  background: linear-gradient(180deg, #eef2ff, #e0e7ff);\\n  color: #4338ca;\\n  border: 1px solid #c7d2fe;\\n  border-radius: 8px;\\n  font-size: 12px;\\n}\\n.mk-pill.is-null {\\n  background: linear-gradient(180deg, #f9fafb, #f3f4f6);\\n  color: #6b7280;\\n  border-color: #e5e7eb;\\n}\\n\\n.empty {\\n  height: 360px;\\n  display: grid;\\n  place-items: center;\\n  color: #6b7280;\\n  font-size: 14px;\\n  border: 1px dashed rgba(0, 0, 0, 0.08);\\n  border-radius: 12px;\\n  background: rgba(255, 255, 255, 0.5);\\n}\\n\\n/* ===[]  === */\\n/*  EraAccordion aria-expanded */\\n:deep(button[aria-expanded='false'] + *) {\\n  height: 0 !important; /*  0 */\\n  padding-top: 0 !important; /*  */\\n  padding-bottom: 0 !important;\\n  margin-top: 0 !important; /*  margin  */\\n  margin-bottom: 0 !important;\\n  border-top-width: 0 !important; /*  */\\n  border-bottom-width: 0 !important;\\n  overflow: clip !important; /* / */\\n  contain: paint !important; /* / */\\n}\\n\\n/*  */\\n:deep(button[aria-expanded='true'] + *) {\\n  overflow: visible; /*  */\\n}\\n\\n/* ===[]  + === */\\n.era-shell {\\n  /*  */ /*  */\\n  display: flex; /*  */ /* flex  */\\n  align-items: flex-start; /*  */ /*  */\\n  gap: 12px; /*  */ /*  */\\n  flex-wrap: nowrap; /*  */ /*  */\\n}\\n\\n/*  */\\n.era-panel {\\n  /*  */ /*  */\\n  flex: 0 1 auto; /*  */ /*  */\\n}\\n\\n/*  */\\n.right-rail {\\n  /*  */ /*  */\\n  width: min(320px, 34vw); /*  280-320px  */ /*  */\\n  position: sticky; /*  */ /*  */\\n  top: 10px; /*  */ /*  */\\n  align-self: flex-start; /*  */ /*  */\\n  z-index: 1; /*  */ /*  */\\n}\\n\\n/*  */\\n@media (max-width: 1100px) {\\n  /* 1100px  */ /*  */\\n  .era-shell {\\n    /*  */ /*  */\\n    flex-wrap: wrap; /*  */ /*  */\\n  }\\n  .right-rail {\\n    /*  */ /*  */\\n    width: 100%; /*  */ /*  */\\n    position: static; /*  */ /*  */\\n    margin-top: 8px; /*  */ /*  */\\n  }\\n}\\n\\n/* ===[]  +  === */\\n:deep(.floating-ball) {\\n  /* scoped  deep */\\n  position: fixed; /*  */\\n  right: max(16px, env(safe-area-inset-right)); /*  +  */\\n  bottom: max(90px, env(safe-area-inset-bottom)); /*  +  */\\n  z-index: 2147483647; /*  */\\n  pointer-events: auto; /*  none */\\n  touch-action: manipulation; /*  */\\n  will-change: transform; /*  3D/ */\\n}\\n\\n/* ===[]  ExpandedView v-show  true  === */\\n.era-expanded-layer {\\n  /*  class */\\n  position: fixed; /*  */\\n  inset: 0; /*  */\\n  display: grid; /*  grid  */\\n  place-items: center; /*  */\\n  padding: clamp(12px, 2.5vw, 24px); /*  */\\n  pointer-events: auto; /*  none  */\\n  z-index: 2147483646; /*  */\\n  background: transparent; /*  rgba(0,0,0,.25) */\\n  overflow: auto; /*  */\\n}\\n\\n/* ===[]  === */\\n@media (max-width: 640px) {\\n  /*  */\\n  .era-panel {\\n    /*  */\\n    width: min(92vw, 560px); /*  92vw 60vw  */\\n    height: min(88vh, calc(100svh - 32px)); /* / */\\n  }\\n  .panel-body {\\n    /*  */\\n    overscroll-behavior: contain; /*  */\\n  }\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.json-root[data-v-036df356]{font-size:12px;color:#111827}.json-line[data-v-036df356]{position:relative;display:flex;align-items:center;gap:6px;padding:2px 6px;border-radius:6px}.json-line[data-v-036df356]:hover{background:rgba(59,130,246,0.06)}.json-children[data-v-036df356]{border-left:1px dashed rgba(107,114,128,0.25)}.key[data-v-036df356]{color:#1f2937;font-weight:700}.colon[data-v-036df356]{color:#6b7280}.brace[data-v-036df356]{color:#9ca3af}.val.string[data-v-036df356]{color:#047857}.val.number[data-v-036df356]{color:#7c3aed}.val.boolean[data-v-036df356]{color:#0369a1}.val.null[data-v-036df356]{color:#9ca3af}.val.undefined[data-v-036df356]{color:#9ca3af}.json-root[data-v-036df356]{overflow:clip;contain:layout paint;min-height:0}.json-children[data-v-036df356]{overflow:clip;contain:paint}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/era-panel/parts/PrettyJsonViewer.vue\"],\"names\":[],\"mappings\":\"AAkIA,4BACE,cAAe,CACf,aACF,CACA,4BACE,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,OAAQ,CACR,eAAgB,CAChB,iBACF,CACA,kCACE,gCACF,CACA,gCACE,6CACF,CAEA,sBACE,aAAc,CACd,eACF,CACA,wBACE,aACF,CACA,wBACE,aACF,CAEA,6BACE,aACF,CACA,6BACE,aACF,CACA,8BACE,aACF,CACA,2BACE,aACF,CACA,gCACE,aACF,CAGA,4BAEE,aAAc,CACd,oBAAqB,CACrB,YACF,CAEA,gCAEE,aAAc,CACd,aACF\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"json-root\\\">\\n    <div class=\\\"json-line\\\">\\n      <span class=\\\"brace\\\">{{ rootOpen }}</span>\\n      <!-- { / [ -->\\n    </div>\\n\\n    <div class=\\\"json-children\\\">\\n      <template v-if=\\\"isPlainObjectOrArray\\\">\\n        <JsonNode\\n          v-for=\\\"(v, k) in value\\\"\\n          :key=\\\"String(k)\\\"\\n          :k=\\\"String(k)\\\"\\n          :v=\\\"v\\\"\\n          :path=\\\"String(k)\\\"\\n          :level=\\\"1\\\"\\n          :default-collapsed=\\\"defaultCollapsed\\\"\\n          :max-depth=\\\"maxDepth\\\"\\n        />\\n      </template>\\n\\n      <template v-else>\\n        <div class=\\\"json-line\\\" :style=\\\"{ paddingLeft: 1 * 14 + 'px' }\\\">\\n          <span class=\\\"key\\\">value</span><span class=\\\"colon\\\">:</span>\\n          <span class=\\\"val\\\" :class=\\\"primitiveType\\\">{{ primitiveText }}</span>\\n        </div>\\n      </template>\\n    </div>\\n\\n    <div class=\\\"json-line\\\">\\n      <span class=\\\"brace\\\">{{ rootClose }}</span>\\n      <!-- } / ] -->\\n    </div>\\n  </div>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { computed } from 'vue'; // \\nimport { Logger } from '../../../../utils/log';\\nimport JsonNode from './JsonNode.vue'; //   SFC \\n\\nconst logger = new Logger();\\n\\nconst props = withDefaults(\\n  defineProps<{\\n    value: any; //  JSON \\n    defaultCollapsed?: boolean; // \\n    maxDepth?: number; // \\n  }>(),\\n  {\\n    defaultCollapsed: true, // \\n    maxDepth: 3, //  3 \\n  },\\n);\\n\\nconst isPlainObjectOrArray = computed(() => {\\n  const v = props.value; // \\n  const result = v !== null && typeof v === 'object'; // /\\n  logger.debug('isPlainObjectOrArray', `: ${result}${result ? '' : ''}`, {\\n    : v,\\n  });\\n  return result;\\n}); // /\\n\\nconst primitiveType = computed(() => {\\n  const v = props.value; // \\n  let result: string;\\n  if (v === null) {\\n    result = 'null';\\n  } else if (Array.isArray(v)) {\\n    result = 'array'; //  isPlainObjectOrArray \\n  } else {\\n    const t = typeof v; // \\n    result = t === 'undefined' ? 'undefined' : t;\\n  }\\n  logger.debug('primitiveType', `: ${result}`, { : v });\\n  return result;\\n}); // \\n\\nconst primitiveText = computed(() => {\\n  const v = props.value; // \\n  let result: string;\\n  switch (\\n    primitiveType.value // \\n  ) {\\n    case 'string':\\n      result = JSON.stringify(v); // \\n      break;\\n    case 'number':\\n      result = String(v); // \\n      break;\\n    case 'boolean':\\n      result = v ? 'true' : 'false'; // \\n      break;\\n    case 'null':\\n      result = 'null'; // null\\n      break;\\n    case 'undefined':\\n      result = 'undefined'; // undefined\\n      break;\\n    case 'bigint':\\n      result = String(v) + 'n'; // bigint\\n      break;\\n    case 'symbol':\\n      result = String(v); // symbol\\n      break;\\n    case 'function':\\n      result = '()'; // \\n      break;\\n    default:\\n      result = ''; // \\n      break;\\n  }\\n  logger.debug('primitiveText', `: \\\"${result}\\\"`, {\\n    : v,\\n    : primitiveType.value,\\n  });\\n  return result;\\n}); // \\n\\nconst isArrayRoot = computed(() => {\\n  const result = Array.isArray(props.value);\\n  logger.debug('isArrayRoot', `: ${result}`, { : props.value });\\n  return result;\\n}); // \\nconst rootOpen = computed(() => (isArrayRoot.value ? '[' : '{')); // \\nconst rootClose = computed(() => (isArrayRoot.value ? ']' : '}')); // \\n</script>\\n\\n<style scoped>\\n.json-root {\\n  font-size: 12px;\\n  color: #111827;\\n}\\n.json-line {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 2px 6px;\\n  border-radius: 6px;\\n}\\n.json-line:hover {\\n  background: rgba(59, 130, 246, 0.06);\\n}\\n.json-children {\\n  border-left: 1px dashed rgba(107, 114, 128, 0.25);\\n}\\n\\n.key {\\n  color: #1f2937;\\n  font-weight: 700;\\n}\\n.colon {\\n  color: #6b7280;\\n}\\n.brace {\\n  color: #9ca3af;\\n}\\n\\n.val.string {\\n  color: #047857;\\n}\\n.val.number {\\n  color: #7c3aed;\\n}\\n.val.boolean {\\n  color: #0369a1;\\n}\\n.val.null {\\n  color: #9ca3af;\\n}\\n.val.undefined {\\n  color: #9ca3af;\\n}\\n\\n/* ===[]  0  === */\\n.json-root {\\n  /* JSON  */\\n  overflow: clip; /*  hidden  */\\n  contain: layout paint; /*  */\\n  min-height: 0; /*  flex  min-content  */\\n}\\n\\n.json-children {\\n  /*  */\\n  overflow: clip; /*  */\\n  contain: paint; /*  */\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=0&id=57305d87&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"232d26b5\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=0&id=57305d87&lang=css\", function() {\n     var newContent = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=0&id=57305d87&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.settings-card[data-v-1944c88c]{width:100%;padding:12px;margin-top:12px;background:linear-gradient(180deg,rgba(255,255,255,0.76),rgba(255,255,255,0.62));border:1px solid rgba(255,255,255,0.6);border-radius:16px;backdrop-filter:blur(10px);box-shadow:0 10px 40px rgba(0,0,0,0.16),inset 0 1px 0 rgba(255,255,255,0.6);display:flex;flex-direction:column;gap:10px}.card-header[data-v-1944c88c]{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:linear-gradient(180deg,#fafafa,#f3f4f6);color:#1f2937;font-weight:800;font-size:13px;cursor:pointer;box-shadow:inset 0 1px 0 #fff,0 2px 8px rgba(0,0,0,0.08)}.card-header[data-v-1944c88c]:hover{transform:translateY(-1px);box-shadow:inset 0 1px 0 #fff,0 6px 16px rgba(0,0,0,0.12)}.title[data-v-1944c88c]{pointer-events:none}.chev[data-v-1944c88c]{opacity:0.7}.content[data-v-1944c88c]{display:flex;flex-direction:column;gap:10px}.toolbar[data-v-1944c88c]{display:flex;align-items:center;gap:8px}.spacer[data-v-1944c88c]{flex:1}.mini-btn[data-v-1944c88c]{padding:6px 10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);background:linear-gradient(180deg,#fafafa,#f3f4f6);cursor:pointer;font-size:12px;font-weight:700;box-shadow:inset 0 1px 0 #fff,0 2px 6px rgba(0,0,0,0.06)}.mini-btn[data-v-1944c88c]:hover{transform:translateY(-1px);box-shadow:inset 0 1px 0 #fff,0 5px 12px rgba(0,0,0,0.1)}.mini-btn.primary[data-v-1944c88c]{background:linear-gradient(180deg,#e0f2fe,#bfdbfe);border-color:#93c5fd;color:#0f172a}.mini-btn.subtle[data-v-1944c88c]{background:linear-gradient(180deg,#f9fafb,#f3f4f6);border-color:#e5e7eb}.vars[data-v-1944c88c]{display:flex;flex-direction:column;gap:8px}.var-row[data-v-1944c88c]{display:grid;grid-template-columns:1fr minmax(120px,1.2fr) auto;align-items:center;gap:10px;padding:8px 10px;border:1px solid rgba(0,0,0,0.06);border-radius:10px;background:linear-gradient(180deg,#ffffff,#f8fafc)}.var-key[data-v-1944c88c]{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:12px;color:#374151;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.var-editor[data-v-1944c88c]{display:flex;align-items:center;gap:8px}.ipt[data-v-1944c88c]{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #e5e7eb;background:#fff;font-size:12px;color:#111827;box-shadow:inset 0 1px 0 #fff}.ta[data-v-1944c88c]{min-height:64px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}.type-chip[data-v-1944c88c]{font-size:11px;color:#374151;background:#eef2ff;border:1px solid #c7d2fe;border-radius:999px;padding:4px 8px;white-space:nowrap}.switch[data-v-1944c88c]{position:relative;width:42px;height:24px;display:inline-block}.switch input[data-v-1944c88c]{opacity:0;width:0;height:0}.switch .track[data-v-1944c88c]{position:absolute;inset:0;border-radius:999px;background:#e5e7eb;box-shadow:inset 0 1px 0 #fff;transition:background 0.2s ease}.switch .track[data-v-1944c88c]::after{content:'';position:absolute;top:3px;left:3px;width:18px;height:18px;border-radius:50%;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,0.2);transition:transform 0.2s ease}.switch input:checked+.track[data-v-1944c88c]{background:#93c5fd}.switch input:checked+.track[data-v-1944c88c]::after{transform:translateX(18px)}.hint[data-v-1944c88c]{font-size:11px;color:#6b7280}.hint.ok[data-v-1944c88c]{color:#065f46}.hint.bad[data-v-1944c88c]{color:#b91c1c}.placeholder[data-v-1944c88c]{padding:10px;color:#6b7280;font-size:12px;border:1px dashed rgba(0,0,0,0.08);border-radius:10px;background:rgba(255,255,255,0.5)}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/EraSettingsPanel.vue\"],\"names\":[],\"mappings\":\"AA0PA,gCAEE,UAAW,CACX,YAAa,CACb,eAAgB,CAChB,gFAAyF,CACzF,sCAA0C,CAC1C,kBAAmB,CACnB,0BAA2B,CAC3B,2EAEwC,CACxC,YAAa,CACb,qBAAsB,CACtB,QACF,CAGA,8BAEE,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAC9B,gBAAiB,CACjB,kBAAmB,CACnB,iCAAqC,CACrC,kDAAqD,CACrD,aAAc,CACd,eAAgB,CAChB,cAAe,CACf,cAAe,CACf,wDAGF,CACA,oCACE,0BAA2B,CAC3B,yDAGF,CACA,wBACE,mBACF,CACA,uBACE,WACF,CAGA,0BACE,YAAa,CACb,qBAAsB,CACtB,QACF,CAGA,0BACE,YAAa,CACb,kBAAmB,CACnB,OACF,CACA,yBACE,MACF,CAEA,2BAEE,gBAAiB,CACjB,iBAAkB,CAClB,iCAAqC,CACrC,kDAAqD,CACrD,cAAe,CACf,cAAe,CACf,eAAgB,CAChB,wDAGF,CACA,iCACE,0BAA2B,CAC3B,wDAGF,CACA,mCACE,kDAAqD,CACrD,oBAAqB,CACrB,aACF,CACA,kCACE,kDAAqD,CACrD,oBACF,CAGA,uBACE,YAAa,CACb,qBAAsB,CACtB,OACF,CAEA,0BAEE,YAAa,CACb,kDAAoD,CACpD,kBAAmB,CACnB,QAAS,CACT,gBAAiB,CACjB,iCAAqC,CACrC,kBAAmB,CACnB,kDACF,CACA,0BACE,gEAAqE,CACrE,cAAe,CACf,aAAc,CACd,eAAgB,CAChB,sBAAuB,CACvB,kBACF,CACA,6BACE,YAAa,CACb,kBAAmB,CACnB,OACF,CAEA,sBAEE,UAAW,CACX,gBAAiB,CACjB,iBAAkB,CAClB,wBAAyB,CACzB,eAAgB,CAChB,cAAe,CACf,aAAc,CACd,6BACF,CACA,qBACE,eAAgB,CAChB,gEACF,CAEA,4BAEE,cAAe,CACf,aAAc,CACd,kBAAmB,CACnB,wBAAyB,CACzB,mBAAoB,CACpB,eAAgB,CAChB,kBACF,CAGA,yBACE,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,oBACF,CACA,+BACE,SAAU,CACV,OAAQ,CACR,QACF,CACA,gCACE,iBAAkB,CAClB,OAAQ,CACR,mBAAoB,CACpB,kBAAmB,CACnB,6BAA8B,CAC9B,+BACF,CACA,uCACE,UAAW,CACX,iBAAkB,CAClB,OAAQ,CACR,QAAS,CACT,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,eAAgB,CAChB,oCAAwC,CACxC,8BACF,CACA,8CACE,kBACF,CACA,qDACE,0BACF,CAEA,uBACE,cAAe,CACf,aACF,CACA,0BACE,aACF,CACA,2BACE,aACF,CAEA,8BACE,YAAa,CACb,aAAc,CACd,cAAe,CACf,kCAAsC,CACtC,kBAAmB,CACnB,gCACF\",\"sourcesContent\":[\"<template>\\n  <!--  ActionButtons  -->\\n  <section class=\\\"settings-card\\\" role=\\\"region\\\" aria-label=\\\"ERA \\\">\\n    <!--  -->\\n    <!-- / -->\\n    <button class=\\\"card-header\\\" :aria-expanded=\\\"isOpen\\\" @click=\\\"onToggle\\\">\\n      <!--  -->\\n      <span class=\\\"title\\\">ERA </span>\\n      <!--  -->\\n      <span class=\\\"chev\\\" aria-hidden=\\\"true\\\">{{ isOpen ? '' : '' }}</span>\\n      <!--  -->\\n    </button>\\n\\n    <!--  -->\\n    <div v-show=\\\"isOpen\\\" class=\\\"content\\\">\\n      <!--  -->\\n      <!-- // -->\\n      <div class=\\\"toolbar\\\">\\n        <!--  -->\\n        <button class=\\\"mini-btn\\\" title=\\\"\\\" @click.stop=\\\"loadVars\\\"> </button>\\n        <!--  -->\\n        <div class=\\\"spacer\\\"></div>\\n        <!--  -->\\n        <button class=\\\"mini-btn subtle\\\" title=\\\"\\\" @click.stop=\\\"discardEdits\\\"> </button>\\n        <!--  -->\\n        <button class=\\\"mini-btn primary\\\" title=\\\"\\\" @click.stop=\\\"saveEdits\\\"> </button>\\n        <!--  -->\\n      </div>\\n\\n      <!--  -->\\n      <div class=\\\"vars\\\">\\n        <template v-if=\\\"rows.length > 0\\\">\\n          <!--  -->\\n          <div v-for=\\\"row in rows\\\" :key=\\\"row.key\\\" class=\\\"var-row\\\">\\n            <!--  -->\\n            <label class=\\\"var-key\\\" :title=\\\"row.key\\\">{{ row.key }}</label>\\n            <!--  -->\\n            <!--  -->\\n            <div class=\\\"var-editor\\\">\\n              <!--  -->\\n              <!--  -->\\n              <template v-if=\\\"row.type === 'boolean'\\\">\\n                <label class=\\\"switch\\\">\\n                  <!--  -->\\n                  <input v-model=\\\"edits[row.key]\\\" type=\\\"checkbox\\\" />\\n                  <!--  -->\\n                  <span class=\\\"track\\\"></span>\\n                  <!--  -->\\n                </label>\\n              </template>\\n\\n              <!-- number  -->\\n              <template v-else-if=\\\"row.type === 'number'\\\">\\n                <input v-model.number=\\\"edits[row.key]\\\" type=\\\"number\\\" class=\\\"ipt\\\" :placeholder=\\\"String(row.value)\\\" />\\n                <!--  -->\\n              </template>\\n\\n              <!-- text  -->\\n              <template v-else-if=\\\"row.type === 'string'\\\">\\n                <input v-model=\\\"edits[row.key]\\\" type=\\\"text\\\" class=\\\"ipt\\\" :placeholder=\\\"String(row.value)\\\" />\\n                <!--  -->\\n              </template>\\n\\n              <!-- //null/JSON  -->\\n              <template v-else>\\n                <textarea\\n                  v-model=\\\"jsonBuffers[row.key]\\\"\\n                  class=\\\"ipt ta\\\"\\n                  :placeholder=\\\"safeStringify(row.value)\\\"\\n                  @input=\\\"markJsonTouched(row.key)\\\"\\n                ></textarea>\\n                <!-- JSON  -->\\n                <span class=\\\"hint\\\" :class=\\\"{ ok: jsonState[row.key]?.ok, bad: jsonState[row.key]?.bad }\\\">{{\\n                  jsonState[row.key]?.msg ?? ' JSON '\\n                }}</span>\\n                <!-- JSON  -->\\n              </template>\\n            </div>\\n            <!--  -->\\n            <span class=\\\"type-chip\\\">{{ humanType(row.type) }}</span>\\n            <!--  -->\\n          </div>\\n        </template>\\n\\n        <template v-else>\\n          <!--  -->\\n          <div class=\\\"placeholder\\\">\\n            <p></p>\\n            <!--  -->\\n            <p class=\\\"dim\\\">\\n               <code>app_ready</code> \\n              <code>initializeExternalSettings()</code> \\n            </p>\\n            <!--  -->\\n          </div>\\n        </template>\\n      </div>\\n    </div>\\n  </section>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\n/* \\n   - \\n   -  boolean/number/string/json \\n   - \\n*/\\nimport { reactive, ref } from 'vue'; // Vue  API\\nimport { z } from 'zod';\\nimport { SettingsSchema } from '../../utils/constants';\\nimport { getScriptSettings, updateScriptSettings } from '../../utils/era_data';\\nimport { Logger } from '../../utils/log'; // \\n\\nconst logger = new Logger(); // \\n\\n// ===  ===\\nconst isOpen = ref(false); // \\n\\n// ===  ===\\ntype Row = { key: string; value: any; type: 'boolean' | 'number' | 'string' | 'json' }; // \\nconst rows = ref<Row[]>([]); // \\nconst edits = reactive<Record<string, any>>({}); // //\\nconst jsonBuffers = reactive<Record<string, string>>({}); //  JSON \\nconst jsonState = reactive<Record<string, { ok?: boolean; bad?: boolean; msg?: string }>>({}); // JSON \\n\\n// ===  ===\\nfunction detectType(v: any): Row['type'] {\\n  // \\n  if (typeof v === 'boolean') return 'boolean'; // \\n  if (typeof v === 'number' && Number.isFinite(v)) return 'number'; // \\n  if (typeof v === 'string') return 'string'; // \\n  return 'json'; //  json//null/\\n}\\nfunction humanType(t: Row['type']): string {\\n  // \\n  return t === 'boolean' ? '' : t === 'number' ? '' : t === 'string' ? '' : 'JSON'; // \\n}\\nfunction safeStringify(v: any): string {\\n  //  JSON \\n  try {\\n    return JSON.stringify(v, null, 2);\\n  } catch {\\n    return String(v);\\n  } // \\n}\\n\\n// ===  ===\\nfunction loadVars() {\\n  try {\\n    logger.debug('loadVars', '...');\\n    const obj = getScriptSettings();\\n    logger.debug('loadVars', ':', obj);\\n\\n    if (!obj || Object.keys(obj).length === 0) {\\n      logger.warn('loadVars', 'UI ');\\n      rows.value = [];\\n      return;\\n    }\\n\\n    // \\n    rows.value = [];\\n    for (const k of Object.keys(edits)) delete edits[k];\\n    for (const k of Object.keys(jsonBuffers)) delete jsonBuffers[k];\\n    for (const k of Object.keys(jsonState)) delete jsonState[k];\\n\\n    // \\n    Object.entries(obj)\\n      .filter(([key]) => key !== '')\\n      .forEach(([key, value]) => {\\n        const t = detectType(value);\\n        rows.value.push({ key, value, type: t });\\n        if (t === 'json') {\\n          jsonBuffers[key] = safeStringify(value);\\n        } else {\\n          edits[key] = value;\\n        }\\n      });\\n  } catch (e) {\\n    logger.error('loadVars', ':', e);\\n    alert(' ERA ');\\n  }\\n}\\n\\n// ===  ===\\nfunction onToggle() {\\n  // \\n  isOpen.value = !isOpen.value; // \\n  if (isOpen.value && rows.value.length === 0) loadVars(); // \\n}\\n\\n// === JSON  +  ===\\nfunction markJsonTouched(key: string) {\\n  //  JSON \\n  const txt = jsonBuffers[key] ?? ''; // \\n  if (txt.trim() === '') {\\n    // \\n    jsonState[key] = { bad: true, ok: false, msg: ' null  null' }; // \\n    return; // \\n  }\\n  try {\\n    JSON.parse(txt);\\n    jsonState[key] = { ok: true, bad: false, msg: 'JSON ' };\\n  } catch (e: any) {\\n    // \\n    jsonState[key] = { bad: true, ok: false, msg: `JSON ${e?.message ?? ''}` };\\n  } // \\n}\\n\\n// ===  ===\\nfunction discardEdits() {\\n  // \\n  loadVars(); // \\n}\\n\\n// ===  ===\\nasync function saveEdits() {\\n  // \\n  try {\\n    await updateScriptSettings(currentSettings => {\\n      const next: z.infer<typeof SettingsSchema> = { ...currentSettings };\\n\\n      // //\\n      Object.entries(edits).forEach(([k, v]) => {\\n        const key = k as keyof z.infer<typeof SettingsSchema>;\\n        (next as any)[key] = v;\\n      });\\n\\n      //  JSON \\n      Object.entries(jsonBuffers).forEach(([k, txt]) => {\\n        if (txt != null) {\\n          if (jsonState[k]?.bad) throw new Error(` ${k}  JSON `);\\n          const key = k as keyof z.infer<typeof SettingsSchema>;\\n          (next as any)[key] = JSON.parse(txt);\\n        }\\n      });\\n\\n      return next;\\n    });\\n\\n    logger.log('saveEdits', '');\\n    loadVars();\\n  } catch (e) {\\n    logger.error('saveEdits', '', e);\\n    alert(`${(e as any)?.message ?? e}`);\\n  }\\n}\\n</script>\\n\\n<style scoped>\\n/* ===  ActionButtons  === */\\n.settings-card {\\n  /*  */\\n  width: 100%; /*  */\\n  padding: 12px; /*  */\\n  margin-top: 12px; /*  */\\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.76), rgba(255, 255, 255, 0.62)); /*  */\\n  border: 1px solid rgba(255, 255, 255, 0.6); /*  */\\n  border-radius: 16px; /*  */\\n  backdrop-filter: blur(10px); /*  */\\n  box-shadow:\\n    0 10px 40px rgba(0, 0, 0, 0.16),\\n    inset 0 1px 0 rgba(255, 255, 255, 0.6); /*  */\\n  display: flex; /*  */\\n  flex-direction: column; /*  */\\n  gap: 10px; /*  */\\n}\\n\\n/* / */\\n.card-header {\\n  /*  */\\n  display: flex; /*  */\\n  align-items: center; /*  */\\n  justify-content: space-between; /*  */\\n  padding: 8px 10px; /*  */\\n  border-radius: 10px; /*  */\\n  border: 1px solid rgba(0, 0, 0, 0.06); /*  */\\n  background: linear-gradient(180deg, #fafafa, #f3f4f6); /*  */\\n  color: #1f2937; /*  */\\n  font-weight: 800; /*  */\\n  font-size: 13px; /*  */\\n  cursor: pointer; /*  */\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 2px 8px rgba(0, 0, 0, 0.08); /*  */\\n}\\n.card-header:hover {\\n  transform: translateY(-1px);\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 6px 16px rgba(0, 0, 0, 0.12);\\n} /*  */\\n.title {\\n  pointer-events: none;\\n} /*  */\\n.chev {\\n  opacity: 0.7;\\n} /*  */\\n\\n/*  */\\n.content {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n} /*  */\\n\\n/*  */\\n.toolbar {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n} /*  */\\n.spacer {\\n  flex: 1;\\n} /*  */\\n\\n.mini-btn {\\n  /*  */\\n  padding: 6px 10px; /*  */\\n  border-radius: 8px; /*  */\\n  border: 1px solid rgba(0, 0, 0, 0.08); /*  */\\n  background: linear-gradient(180deg, #fafafa, #f3f4f6); /*  */\\n  cursor: pointer; /*  */\\n  font-size: 12px; /*  */\\n  font-weight: 700; /*  */\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 2px 6px rgba(0, 0, 0, 0.06); /*  */\\n}\\n.mini-btn:hover {\\n  transform: translateY(-1px);\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 5px 12px rgba(0, 0, 0, 0.1);\\n} /*  */\\n.mini-btn.primary {\\n  background: linear-gradient(180deg, #e0f2fe, #bfdbfe);\\n  border-color: #93c5fd;\\n  color: #0f172a;\\n} /*  */\\n.mini-btn.subtle {\\n  background: linear-gradient(180deg, #f9fafb, #f3f4f6);\\n  border-color: #e5e7eb;\\n} /*  */\\n\\n/*  */\\n.vars {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n} /*  */\\n\\n.var-row {\\n  /*  */\\n  display: grid; /*  */\\n  grid-template-columns: 1fr minmax(120px, 1.2fr) auto; /*  /  /  */\\n  align-items: center; /*  */\\n  gap: 10px; /*  */\\n  padding: 8px 10px; /*  */\\n  border: 1px solid rgba(0, 0, 0, 0.06); /*  */\\n  border-radius: 10px; /*  */\\n  background: linear-gradient(180deg, #ffffff, #f8fafc); /*  */\\n}\\n.var-key {\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;\\n  font-size: 12px;\\n  color: #374151;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n} /*  */\\n.var-editor {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n} /*  */\\n\\n.ipt {\\n  /*  */\\n  width: 100%; /*  */\\n  padding: 8px 10px; /*  */\\n  border-radius: 8px; /*  */\\n  border: 1px solid #e5e7eb; /*  */\\n  background: #fff; /*  */\\n  font-size: 12px; /*  */\\n  color: #111827; /*  */\\n  box-shadow: inset 0 1px 0 #fff; /*  */\\n}\\n.ta {\\n  min-height: 64px;\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;\\n} /* JSON  */\\n\\n.type-chip {\\n  /*  */\\n  font-size: 11px; /*  */\\n  color: #374151; /*  */\\n  background: #eef2ff; /*  */\\n  border: 1px solid #c7d2fe; /*  */\\n  border-radius: 999px; /*  */\\n  padding: 4px 8px; /*  */\\n  white-space: nowrap; /*  */\\n}\\n\\n/*  */\\n.switch {\\n  position: relative;\\n  width: 42px;\\n  height: 24px;\\n  display: inline-block;\\n} /*  */\\n.switch input {\\n  opacity: 0;\\n  width: 0;\\n  height: 0;\\n} /*  */\\n.switch .track {\\n  position: absolute;\\n  inset: 0;\\n  border-radius: 999px;\\n  background: #e5e7eb;\\n  box-shadow: inset 0 1px 0 #fff;\\n  transition: background 0.2s ease;\\n} /*  */\\n.switch .track::after {\\n  content: '';\\n  position: absolute;\\n  top: 3px;\\n  left: 3px;\\n  width: 18px;\\n  height: 18px;\\n  border-radius: 50%;\\n  background: #fff;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\\n  transition: transform 0.2s ease;\\n} /*  */\\n.switch input:checked + .track {\\n  background: #93c5fd;\\n} /*  */\\n.switch input:checked + .track::after {\\n  transform: translateX(18px);\\n} /*  */\\n\\n.hint {\\n  font-size: 11px;\\n  color: #6b7280;\\n} /* JSON  */\\n.hint.ok {\\n  color: #065f46;\\n} /*  */\\n.hint.bad {\\n  color: #b91c1c;\\n} /*  */\\n\\n.placeholder {\\n  padding: 10px;\\n  color: #6b7280;\\n  font-size: 12px;\\n  border: 1px dashed rgba(0, 0, 0, 0.08);\\n  border-radius: 10px;\\n  background: rgba(255, 255, 255, 0.5);\\n} /*  */\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.json-line[data-v-34fc6c00]{position:relative;display:flex;align-items:center;gap:6px;padding:2px 6px;border-radius:6px}.json-line[data-v-34fc6c00]:hover{background:rgba(59,130,246,0.06)}.json-children[data-v-34fc6c00]{border-left:1px dashed rgba(107,114,128,0.25)}.key[data-v-34fc6c00]{color:#1f2937;font-weight:700}.colon[data-v-34fc6c00]{color:#6b7280}.brace[data-v-34fc6c00]{color:#9ca3af}.summary[data-v-34fc6c00]{color:#6b7280;margin-left:4px}.val.string[data-v-34fc6c00]{color:#047857}.val.number[data-v-34fc6c00]{color:#7c3aed}.val.boolean[data-v-34fc6c00]{color:#0369a1}.val.null[data-v-34fc6c00]{color:#9ca3af}.val.undefined[data-v-34fc6c00]{color:#9ca3af}.caret[data-v-34fc6c00]{width:18px;height:18px;border:1px solid rgba(0,0,0,0.06);border-radius:4px;background:#fff;line-height:16px;text-align:center;font-size:10px;color:#6b7280;cursor:pointer;box-shadow:0 1px 0 #fff,0 2px 6px rgba(0,0,0,0.06);transition:transform 0.18s ease,box-shadow 0.18s ease}.caret.open[data-v-34fc6c00]{transform:rotate(90deg);box-shadow:0 3px 10px rgba(0,0,0,0.12)}.node[data-v-34fc6c00]{overflow:clip;contain:paint;min-height:0}.json-children[data-v-34fc6c00]{overflow:clip;contain:paint}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/era-panel/parts/JsonNode.vue\"],\"names\":[],\"mappings\":\"AAoJA,4BACE,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,OAAQ,CACR,eAAgB,CAChB,iBACF,CACA,kCACE,gCACF,CACA,gCACE,6CACF,CAGA,sBACE,aAAc,CACd,eACF,CACA,wBACE,aACF,CACA,wBACE,aACF,CACA,0BACE,aAAc,CACd,eACF,CACA,6BACE,aACF,CACA,6BACE,aACF,CACA,8BACE,aACF,CACA,2BACE,aACF,CACA,gCACE,aACF,CAGA,wBACE,UAAW,CACX,WAAY,CACZ,iCAAqC,CACrC,iBAAkB,CAClB,eAAgB,CAChB,gBAAiB,CACjB,iBAAkB,CAClB,cAAe,CACf,aAAc,CACd,cAAe,CACf,kDAE+B,CAC/B,qDAGF,CACA,6BACE,uBAAwB,CACxB,sCACF,CAGA,uBAEE,aAAc,CACd,aAAc,CACd,YACF,CAEA,gCAEE,aAAc,CACd,aACF\",\"sourcesContent\":[\"<template>\\n  <!--  -->\\n  <div class=\\\"node\\\">\\n    <!--  /  -->\\n    <div class=\\\"json-line\\\" :style=\\\"{ paddingLeft: level * 14 + 'px' }\\\">\\n      <!-- + -->\\n      <button v-if=\\\"foldable\\\" class=\\\"caret\\\" :class=\\\"{ open }\\\" aria-label=\\\"toggle\\\" @click=\\\"open = !open\\\"></button>\\n      <!--  -->\\n\\n      <span class=\\\"key\\\">{{ k }}</span\\n      ><span class=\\\"colon\\\">:</span>\\n      <!--  -->\\n\\n      <!--  children  -->\\n      <template v-if=\\\"foldable\\\">\\n        <span class=\\\"brace\\\">{{ isArray ? '[' : '{' }}</span>\\n        <!--  -->\\n        <span v-if=\\\"!open\\\" class=\\\"summary\\\">{{ summary }}</span>\\n        <!--  -->\\n      </template>\\n\\n      <!--  -->\\n      <template v-else>\\n        <span class=\\\"val\\\" :class=\\\"type\\\">{{ primitiveText }}</span>\\n        <!--  -->\\n      </template>\\n    </div>\\n\\n    <!--  -->\\n    <template v-if=\\\"foldable && open\\\">\\n      <div class=\\\"json-children\\\">\\n        <!--  JsonNode name: 'JsonNode'  -->\\n        <JsonNode\\n          v-for=\\\"(childVal, childKey) in childEntries\\\"\\n          :key=\\\"path + '/' + String(childKey)\\\"\\n          :k=\\\"String(childKey)\\\"\\n          :v=\\\"childVal\\\"\\n          :path=\\\"path + '/' + String(childKey)\\\"\\n          :level=\\\"level + 1\\\"\\n          :default-collapsed=\\\"defaultCollapsed\\\"\\n          :max-depth=\\\"maxDepth\\\"\\n        />\\n        <div class=\\\"json-line\\\" :style=\\\"{ paddingLeft: level * 14 + 'px' }\\\">\\n          <span class=\\\"brace\\\">{{ isArray ? ']' : '}' }}</span>\\n          <!--  -->\\n        </div>\\n      </div>\\n    </template>\\n  </div>\\n</template>\\n\\n<script lang=\\\"ts\\\">\\nimport { computed, defineComponent, onMounted, ref, watch } from 'vue'; // /\\nimport { Logger } from '../../../../utils/log';\\n\\nexport default defineComponent({\\n  name: 'JsonNode', // \\n  props: {\\n    k: { type: [String, Number], required: true }, // \\n    v: { required: true }, // \\n    path: { type: String, required: true }, //  key/\\n    level: { type: Number, required: true }, // \\n    defaultCollapsed: { type: Boolean, default: true }, // \\n    maxDepth: { type: Number, default: 3 }, // \\n  },\\n  setup(p) {\\n    const logger = new Logger();\\n\\n    onMounted(() => {\\n      logger.debug('onMounted', '', { props: p });\\n    });\\n\\n    // \\n    const type = computed(() => {\\n      const val = p.v;\\n      if (val === null) return 'null';\\n      if (Array.isArray(val)) return 'array';\\n      const t = typeof val;\\n      if (t === 'object') return 'object';\\n      if (t === 'undefined') return 'undefined';\\n      return t as 'string' | 'number' | 'boolean' | 'bigint' | 'symbol' | 'function';\\n    });\\n\\n    // /\\n    const isArray = computed(() => type.value === 'array');\\n    const isObject = computed(() => type.value === 'object');\\n\\n    // \\n    const foldable = computed(() => isArray.value || isObject.value);\\n\\n    //  maxDepth  defaultCollapsed\\n    const open = ref<boolean>(p.level <= (p.maxDepth ?? 3) ? true : !p.defaultCollapsed);\\n\\n    watch(open, newOpenState => {\\n      logger.debug('watch:open', `: ${newOpenState ? '' : ''}`);\\n    });\\n\\n    //  undefined / bigint / symbol\\n    const primitiveText = computed(() => {\\n      const val = p.v as any;\\n      switch (type.value) {\\n        case 'string':\\n          return JSON.stringify(val);\\n        case 'number':\\n          return String(val);\\n        case 'boolean':\\n          return val ? 'true' : 'false';\\n        case 'null':\\n          return 'null';\\n        case 'undefined':\\n          return 'undefined';\\n        case 'bigint':\\n          return String(val) + 'n';\\n        case 'symbol':\\n          return String(val);\\n        case 'function':\\n          return '()';\\n        default:\\n          return '';\\n      }\\n    });\\n\\n    // \\n    const summary = computed(() => {\\n      if (isArray.value) return `Array[${(p.v as any[]).length}]`;\\n      if (isObject.value) return `Object{${Object.keys(p.v || {}).length}}`;\\n      return '';\\n    });\\n\\n    //    entries  \\n    const childEntries = computed<Record<string, any>>(() => {\\n      if (isObject.value) return p.v as Record<string, any>;\\n      if (isArray.value) {\\n        const out: Record<string, any> = {};\\n        (p.v as any[]).forEach((cv, idx) => {\\n          out[String(idx)] = cv;\\n        });\\n        return out;\\n      }\\n      return {};\\n    });\\n\\n    return { type, isArray, foldable, open, primitiveText, summary, childEntries };\\n  },\\n});\\n</script>\\n\\n<style scoped>\\n.json-line {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  padding: 2px 6px;\\n  border-radius: 6px;\\n}\\n.json-line:hover {\\n  background: rgba(59, 130, 246, 0.06);\\n}\\n.json-children {\\n  border-left: 1px dashed rgba(107, 114, 128, 0.25);\\n}\\n\\n/*  */\\n.key {\\n  color: #1f2937;\\n  font-weight: 700;\\n}\\n.colon {\\n  color: #6b7280;\\n}\\n.brace {\\n  color: #9ca3af;\\n}\\n.summary {\\n  color: #6b7280;\\n  margin-left: 4px;\\n}\\n.val.string {\\n  color: #047857;\\n}\\n.val.number {\\n  color: #7c3aed;\\n}\\n.val.boolean {\\n  color: #0369a1;\\n}\\n.val.null {\\n  color: #9ca3af;\\n}\\n.val.undefined {\\n  color: #9ca3af;\\n}\\n\\n/*  */\\n.caret {\\n  width: 18px;\\n  height: 18px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 4px;\\n  background: #fff;\\n  line-height: 16px;\\n  text-align: center;\\n  font-size: 10px;\\n  color: #6b7280;\\n  cursor: pointer;\\n  box-shadow:\\n    0 1px 0 #fff,\\n    0 2px 6px rgba(0, 0, 0, 0.06);\\n  transition:\\n    transform 0.18s ease,\\n    box-shadow 0.18s ease;\\n}\\n.caret.open {\\n  transform: rotate(90deg);\\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);\\n}\\n\\n/* ===[]  === */\\n.node {\\n  /*  */\\n  overflow: clip; /*  */\\n  contain: paint; /*  1px  */\\n  min-height: 0; /*  */\\n}\\n\\n.json-children {\\n  /*  */\\n  overflow: clip; /*  */\\n  contain: paint; /* / */\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./EraAccordion.vue?vue&type=style&index=0&id=cb8a53de&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5a0f86ce\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./EraAccordion.vue?vue&type=style&index=0&id=cb8a53de&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./EraAccordion.vue?vue&type=style&index=0&id=cb8a53de&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./TabSwitch.vue?vue&type=style&index=0&id=7ab146e6&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4ddf5df5\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./TabSwitch.vue?vue&type=style&index=0&id=7ab146e6&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./TabSwitch.vue?vue&type=style&index=0&id=7ab146e6&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=1&id=57305d87&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2a59f09f\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=1&id=57305d87&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=1&id=57305d87&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./MetaHeader.vue?vue&type=style&index=0&id=56f5fbd7&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1d8fc8b2\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./MetaHeader.vue?vue&type=style&index=0&id=56f5fbd7&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./MetaHeader.vue?vue&type=style&index=0&id=56f5fbd7&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./EraSettingsPanel.vue?vue&type=style&index=0&id=1944c88c&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4de6a2ac\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./EraSettingsPanel.vue?vue&type=style&index=0&id=1944c88c&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./EraSettingsPanel.vue?vue&type=style&index=0&id=1944c88c&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.action-buttons-card[data-v-5766043a]{width:100%;padding:12px;background:linear-gradient(180deg,rgba(255,255,255,0.76),rgba(255,255,255,0.62));border:1px solid rgba(255,255,255,0.6);border-radius:16px;backdrop-filter:blur(10px);box-shadow:0 10px 40px rgba(0,0,0,0.16),inset 0 1px 0 rgba(255,255,255,0.6);display:flex;flex-direction:column;gap:10px}.card-title[data-v-5766043a]{margin:0 0 4px;font-size:14px;font-weight:800;letter-spacing:0.3px;color:#1f2937}.btns[data-v-5766043a]{display:flex;flex-direction:column;gap:10px}.btn[data-v-5766043a]{display:grid;grid-template-columns:22px 1fr;align-items:center;-moz-column-gap:8px;column-gap:8px;padding:10px 12px;border-radius:12px;border:1px solid rgba(0,0,0,0.06);background:linear-gradient(180deg,#fafafa,#f3f4f6);color:#374151;font-weight:700;font-size:13px;cursor:pointer;box-shadow:inset 0 1px 0 #fff,0 2px 8px rgba(0,0,0,0.08);transition:transform 0.12s ease,box-shadow 0.12s ease,background 0.2s ease;text-align:left}.btn.primary[data-v-5766043a]{background:linear-gradient(180deg,#e0f2fe,#bfdbfe);border-color:#93c5fd;color:#0f172a}.btn.subtle[data-v-5766043a]{background:linear-gradient(180deg,#f9fafb,#f3f4f6);border-color:#e5e7eb}.btn[data-v-5766043a]:hover{transform:translateY(-1px);box-shadow:inset 0 1px 0 #fff,0 6px 16px rgba(0,0,0,0.12)}.btn[data-v-5766043a]:active{transform:translateY(0);box-shadow:inset 0 1px 0 #fff,0 2px 8px rgba(0,0,0,0.1)}.btn[data-v-5766043a]:focus-visible{outline:2px solid #60a5fa;outline-offset:2px}.ico[data-v-5766043a]{display:inline-grid;place-items:center;width:22px;height:22px;filter:saturate(0.95)}.label[data-v-5766043a]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/ActionButtons.vue\"],\"names\":[],\"mappings\":\"AA8CA,sCAEE,UAAW,CACX,YAAa,CACb,gFAAyF,CACzF,sCAA0C,CAC1C,kBAAmB,CACnB,0BAA2B,CAC3B,2EAEwC,CACxC,YAAa,CACb,qBAAsB,CACtB,QACF,CAGA,6BAEE,cAAe,CACf,cAAe,CACf,eAAgB,CAChB,oBAAqB,CACrB,aACF,CAGA,uBAEE,YAAa,CACb,qBAAsB,CACtB,QACF,CAGA,sBAEE,YAAa,CACb,8BAA+B,CAC/B,kBAAmB,CACnB,mBAAe,CAAf,cAAe,CACf,iBAAkB,CAClB,kBAAmB,CACnB,iCAAqC,CACrC,kDAAqD,CACrD,aAAc,CACd,eAAgB,CAChB,cAAe,CACf,cAAe,CACf,wDAE+B,CAC/B,0EAGsB,CACtB,eACF,CAGA,8BAEE,kDAAqD,CACrD,oBAAqB,CACrB,aACF,CAGA,6BAEE,kDAAqD,CACrD,oBACF,CAGA,4BAEE,0BAA2B,CAC3B,yDAGF,CACA,6BAEE,uBAAwB,CACxB,uDAGF,CAGA,oCAEE,yBAA0B,CAC1B,kBACF,CAGA,sBAEE,mBAAoB,CACpB,kBAAmB,CACnB,UAAW,CACX,WAAY,CACZ,qBACF,CACA,wBAEE,kBAAmB,CACnB,eAAgB,CAChB,sBACF\",\"sourcesContent\":[\"<template>\\n  <!--  -->\\n  <section class=\\\"action-buttons-card\\\" role=\\\"complementary\\\" aria-label=\\\"ERA \\\">\\n    <!--  -->\\n    <h4 class=\\\"card-title\\\"></h4>\\n    <!--  -->\\n    <div class=\\\"btns\\\">\\n      <!--  -->\\n      <button class=\\\"btn primary\\\" title=\\\"\\\" @click.stop=\\\"onFullSync\\\">\\n        <!--  -->\\n        <span class=\\\"ico\\\" aria-hidden=\\\"true\\\"></span>\\n        <!--  -->\\n        <span class=\\\"label\\\"></span>\\n        <!--  -->\\n      </button>\\n      <button class=\\\"btn subtle\\\" title=\\\"\\\" @click.stop=\\\"onLastSync\\\">\\n        <!--  -->\\n        <span class=\\\"ico\\\" aria-hidden=\\\"true\\\"></span>\\n        <!--  -->\\n        <span class=\\\"label\\\"></span>\\n        <!--  -->\\n      </button>\\n    </div>\\n  </section>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { Logger } from '../../utils/log'; // \\n\\nconst logger = new Logger('ui-ActionButtons'); // \\n\\nfunction onFullSync() {\\n  // \\n  logger.log('onFullSync', ' manual_full_sync '); // \\n  eventEmit('manual_full_sync'); // \\n}\\n\\nfunction onLastSync() {\\n  // \\n  logger.log('onLastSync', ' manual_sync '); // \\n  eventEmit('manual_sync'); // \\n}\\n</script>\\n\\n<style scoped>\\n/* ===  ERA  +  === */\\n.action-buttons-card {\\n  /*  */\\n  width: 100%; /*  */ /*  */\\n  padding: 12px; /*  */ /*  */\\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.76), rgba(255, 255, 255, 0.62)); /*  */\\n  border: 1px solid rgba(255, 255, 255, 0.6); /*  */\\n  border-radius: 16px; /*  */\\n  backdrop-filter: blur(10px); /*  */\\n  box-shadow:\\n    0 10px 40px rgba(0, 0, 0, 0.16),\\n    inset 0 1px 0 rgba(255, 255, 255, 0.6); /*  +  */\\n  display: flex; /*  */\\n  flex-direction: column; /*  */\\n  gap: 10px; /*  */\\n}\\n\\n/*  */\\n.card-title {\\n  /*  */\\n  margin: 0 0 4px; /*  */\\n  font-size: 14px; /*  */\\n  font-weight: 800; /*  */\\n  letter-spacing: 0.3px; /*  */\\n  color: #1f2937; /*  */\\n}\\n\\n/*  */\\n.btns {\\n  /*  */\\n  display: flex; /* flex  */\\n  flex-direction: column; /*  */\\n  gap: 10px; /*  */\\n}\\n\\n/*  */\\n.btn {\\n  /*  */\\n  display: grid; /*  */\\n  grid-template-columns: 22px 1fr; /*  22px  +  */\\n  align-items: center; /*  */\\n  column-gap: 8px; /*  */\\n  padding: 10px 12px; /*  */\\n  border-radius: 12px; /*  */\\n  border: 1px solid rgba(0, 0, 0, 0.06); /*  */\\n  background: linear-gradient(180deg, #fafafa, #f3f4f6); /*  */\\n  color: #374151; /*  */\\n  font-weight: 700; /*  */\\n  font-size: 13px; /*  */\\n  cursor: pointer; /*  */\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 2px 8px rgba(0, 0, 0, 0.08); /*  +  */\\n  transition:\\n    transform 0.12s ease,\\n    box-shadow 0.12s ease,\\n    background 0.2s ease; /*  */\\n  text-align: left; /*  */\\n}\\n\\n/*  */\\n.btn.primary {\\n  /*  */\\n  background: linear-gradient(180deg, #e0f2fe, #bfdbfe); /*  */\\n  border-color: #93c5fd; /*  */\\n  color: #0f172a; /*  */\\n}\\n\\n/*  */\\n.btn.subtle {\\n  /*  */\\n  background: linear-gradient(180deg, #f9fafb, #f3f4f6); /*  */\\n  border-color: #e5e7eb; /*  */\\n}\\n\\n/*  */\\n.btn:hover {\\n  /*  */\\n  transform: translateY(-1px); /*  */\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 6px 16px rgba(0, 0, 0, 0.12); /*  */\\n}\\n.btn:active {\\n  /*  */\\n  transform: translateY(0); /*  */\\n  box-shadow:\\n    inset 0 1px 0 #fff,\\n    0 2px 8px rgba(0, 0, 0, 0.1); /*  */\\n}\\n\\n/*  */\\n.btn:focus-visible {\\n  /*  */\\n  outline: 2px solid #60a5fa; /*  */\\n  outline-offset: 2px; /*  */\\n}\\n\\n/*  */\\n.ico {\\n  /*  */\\n  display: inline-grid; /*  */\\n  place-items: center; /*  */\\n  width: 22px; /*  */\\n  height: 22px; /*  */\\n  filter: saturate(0.95); /*  */\\n}\\n.label {\\n  /*  */\\n  white-space: nowrap; /*  */\\n  overflow: hidden; /*  */\\n  text-overflow: ellipsis; /*  */\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ActionButtons.vue?vue&type=style&index=0&id=5766043a&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"25167c60\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ActionButtons.vue?vue&type=style&index=0&id=5766043a&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./ActionButtons.vue?vue&type=style&index=0&id=5766043a&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./FloatingBall.vue?vue&type=style&index=0&id=ee0f5b22&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8f9a273e\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./FloatingBall.vue?vue&type=style&index=0&id=ee0f5b22&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./FloatingBall.vue?vue&type=style&index=0&id=ee0f5b22&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./PrettyJsonViewer.vue?vue&type=style&index=0&id=036df356&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6d351864\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./PrettyJsonViewer.vue?vue&type=style&index=0&id=036df356&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./PrettyJsonViewer.vue?vue&type=style&index=0&id=036df356&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.floating-ball[data-v-ee0f5b22]{--size:50px;--hue:212;--sat:100%;--lum:52%;--surface:hsl(var(--hue) var(--sat) var(--lum));--surface-2:hsl(var(--hue) 95% 64%);--ring:hsl(calc(var(--hue) + 20) 95% 65%);--shadow:rgba(0,123,255,0.36);--glow:rgba(102,200,255,0.55);--inner-shadow:rgba(0,0,0,0.22);--specular:rgba(255,255,255,0.75);--glass:rgba(255,255,255,0.18);width:var(--size);height:var(--size);border-radius:50%;position:relative;display:grid;place-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;background:radial-gradient(120% 120% at 30% 28%,rgba(255,255,255,0.85) 0%,rgba(255,255,255,0.22) 18%,rgba(255,255,255,0) 36%),radial-gradient(120% 120% at 70% 72%,rgba(0,0,0,0.18) 0%,rgba(0,0,0,0) 38%),conic-gradient(from 210deg at 50% 50%,var(--surface),var(--surface-2),var(--surface));box-shadow:inset 0 2px 6px var(--inner-shadow),0 2px 4px rgba(0,0,0,0.08),0 10px 22px var(--shadow);transition:transform 0.28s ease,box-shadow 0.28s ease,filter 0.28s ease;will-change:transform,box-shadow,filter;animation:ball-bob-ee0f5b22 3.2s ease-in-out infinite}.floating-ball[data-v-ee0f5b22]::after{content:'';position:absolute;inset:-8px;border-radius:50%;background:conic-gradient(from 0deg,var(--ring),transparent 30%,transparent 70%,var(--ring));filter:blur(6px);opacity:0.55;pointer-events:none;-webkit-mask:radial-gradient(farthest-side,transparent calc(100% - 12px),#000 0);mask:radial-gradient(farthest-side,transparent calc(100% - 12px),#000 0);animation:ring-spin-ee0f5b22 12s linear infinite}.floating-ball[data-v-ee0f5b22]::before{content:'';position:absolute;inset:2px;border-radius:50%;background:radial-gradient(120% 80% at 26% 24%,var(--specular) 0%,rgba(255,255,255,0.2) 26%,rgba(255,255,255,0) 46%),linear-gradient(160deg,var(--glass) 0%,rgba(255,255,255,0) 50%);mix-blend-mode:screen;pointer-events:none;transition:opacity 0.28s ease,transform 0.28s ease}.floating-ball[data-v-ee0f5b22]:hover{transform:translateY(-2px) scale(1.04);box-shadow:inset 0 2px 8px rgba(0,0,0,0.22),0 4px 10px rgba(0,0,0,0.12),0 16px 36px rgba(0,123,255,0.45);filter:saturate(1.08)}.floating-ball[data-v-ee0f5b22]:hover::before{opacity:0.95;animation:shimmer-ee0f5b22 1.2s ease-out}.floating-ball[data-v-ee0f5b22]:active{transform:translateY(0) scale(0.98);box-shadow:inset 0 2px 10px rgba(0,0,0,0.28),0 2px 6px rgba(0,0,0,0.12),0 10px 22px rgba(0,123,255,0.35)}.floating-ball[data-v-ee0f5b22]:focus-visible{outline:2px solid rgba(102,200,255,0.85);outline-offset:2px}@media (prefers-reduced-motion:reduce){.floating-ball[data-v-ee0f5b22]{animation:none}.floating-ball[data-v-ee0f5b22]::after{animation:none}}@keyframes ball-bob-ee0f5b22{0%,100%{transform:translateY(0)}50%{transform:translateY(-2px)}}@keyframes ring-spin-ee0f5b22{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes shimmer-ee0f5b22{0%{transform:translateY(-1px) scale(0.98);opacity:0.6}50%{transform:translateY(-2px) scale(1.02);opacity:1}100%{transform:translateY(-1px) scale(0.99);opacity:0.85}}.floating-ball[data-v-ee0f5b22]{--logo-scale:0.38}.era-logo[data-v-ee0f5b22]{font-weight:800;font-size:calc(var(--size) * var(--logo-scale));letter-spacing:0.02em;line-height:1;transform:translateY(-1px);white-space:nowrap;-webkit-user-select:none;user-select:none;pointer-events:none;z-index:1;background:linear-gradient(180deg,rgba(255,255,255,0.96) 0%,rgba(255,255,255,0.55) 45%,rgba(220,240,255,0.4) 65%,rgba(120,195,255,0.55) 100%),linear-gradient(180deg,rgba(0,0,0,0.38),rgba(0,0,0,0) 60%);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 1px 0 rgba(255,255,255,0.75),0 2px 4px rgba(0,0,0,0.25),0 8px 18px rgba(0,123,255,0.35);filter:drop-shadow(0 0 2px rgba(102,200,255,0.25));animation:era-sheen-ee0f5b22 4s ease-in-out infinite}.floating-ball:hover .era-logo[data-v-ee0f5b22]{text-shadow:0 1px 0 rgba(255,255,255,0.85),0 3px 8px rgba(0,0,0,0.28),0 10px 26px rgba(0,123,255,0.55);filter:drop-shadow(0 0 3px rgba(102,200,255,0.38))}@keyframes era-sheen-ee0f5b22{0%,100%{background-position:0% 0%,0% 0%}50%{background-position:0% 40%,0% 0%}}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/components/FloatingBall.vue\"],\"names\":[],\"mappings\":\"AAuBA,gCACE,WAAY,CACZ,SAAU,CACV,UAAW,CACX,SAAU,CACV,+CAAgD,CAChD,mCAAoC,CACpC,yCAA0C,CAC1C,6BAAiC,CACjC,6BAAiC,CACjC,+BAAmC,CACnC,iCAAqC,CACrC,8BAAkC,CAClC,iBAAkB,CAClB,kBAAmB,CACnB,iBAAkB,CAClB,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,cAAe,CACf,wBAAiB,CAAjB,gBAAiB,CACjB,uCAAwC,CACxC,+RAQ0G,CAC1G,mGAG0C,CAC1C,uEAGmB,CACnB,uCAA0C,CAC1C,qDACF,CAGA,uCACE,UAAW,CACX,iBAAkB,CAClB,UAAW,CACX,iBAAkB,CAClB,4FAMC,CACD,gBAAiB,CACjB,YAAa,CACb,mBAAoB,CACpB,gFAA2E,CAA3E,wEAA2E,CAC3E,gDACF,CAGA,wCACE,UAAW,CACX,iBAAkB,CAClB,SAAU,CACV,iBAAkB,CAClB,oLAE+E,CAC/E,qBAAsB,CACtB,mBAAoB,CACpB,kDAGF,CAGA,sCACE,sCAAuC,CACvC,wGAGgD,CAChD,qBACF,CAGA,8CACE,YAAa,CACb,wCACF,CAGA,uCACE,mCAAoC,CACpC,wGAIF,CAGA,8CACE,wCAA4C,CAC5C,kBACF,CAGA,uCACE,gCACE,cACF,CACA,uCACE,cACF,CACF,CAGA,6BACE,QAEE,uBACF,CACA,IACE,0BACF,CACF,CAGA,8BACE,GACE,sBACF,CACA,KACE,wBACF,CACF,CAGA,4BACE,GACE,sCAAuC,CACvC,WACF,CACA,IACE,sCAAuC,CACvC,SACF,CACA,KACE,sCAAuC,CACvC,YACF,CACF,CAGA,gCACE,iBACF,CAEA,2BACE,eAAgB,CAChB,+CAAgD,CAChD,qBAAsB,CACtB,aAAc,CACd,0BAA2B,CAC3B,kBAAmB,CACnB,wBAAiB,CAAjB,gBAAiB,CACjB,mBAAoB,CACpB,SAAU,CAGV,wMAQmF,CACnF,4BAA6B,CAC7B,oBAAqB,CACrB,iBAAkB,CAClB,qGAG8C,CAC9C,kDAAsD,CACtD,oDACF,CAEA,gDACE,sGAGqC,CACrC,kDACF,CAGA,8BACE,QAEE,+BAGF,CACA,IACE,gCAGF,CACF\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"floating-ball\\\" @click=\\\"$emit('click')\\\">\\n    <span class=\\\"era-logo\\\" aria-hidden=\\\"true\\\">ERA</span>\\n    <!--  -->\\n  </div>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { onMounted } from 'vue';\\nimport { Logger } from '../../utils/log';\\n\\nconst logger = new Logger('ui-FloatingBall');\\ndefineEmits(['click']);\\n\\nonMounted(() => {\\n  logger.log('onMounted', 'FloatingBall.vue ');\\n});\\n</script>\\n\\n<style scoped>\\n/* =========================\\n   \\n   ========================= */\\n.floating-ball {\\n  --size: 50px; /*  50px */\\n  --hue: 212; /* 212#007bff */\\n  --sat: 100%; /*  */\\n  --lum: 52%; /*  */\\n  --surface: hsl(var(--hue) var(--sat) var(--lum)); /*  */\\n  --surface-2: hsl(var(--hue) 95% 64%); /*  */\\n  --ring: hsl(calc(var(--hue) + 20) 95% 65%); /*  */\\n  --shadow: rgba(0, 123, 255, 0.36); /*  */\\n  --glow: rgba(102, 200, 255, 0.55); /*  */\\n  --inner-shadow: rgba(0, 0, 0, 0.22); /*  */\\n  --specular: rgba(255, 255, 255, 0.75); /*  */\\n  --glass: rgba(255, 255, 255, 0.18); /*  */\\n  width: var(--size); /*  */\\n  height: var(--size); /*  */\\n  border-radius: 50%; /*  */\\n  position: relative; /*  */\\n  display: grid; /*  grid  */\\n  place-items: center; /*  */\\n  cursor: pointer; /*  */\\n  user-select: none; /*  */\\n  -webkit-tap-highlight-color: transparent; /*  */\\n  background:\\n    radial-gradient(\\n      120% 120% at 30% 28%,\\n      rgba(255, 255, 255, 0.85) 0%,\\n      rgba(255, 255, 255, 0.22) 18%,\\n      rgba(255, 255, 255, 0) 36%\\n    ),\\n    /*  */ radial-gradient(120% 120% at 70% 72%, rgba(0, 0, 0, 0.18) 0%, rgba(0, 0, 0, 0) 38%),\\n    /*  */ conic-gradient(from 210deg at 50% 50%, var(--surface), var(--surface-2), var(--surface)); /*  */\\n  box-shadow:\\n    inset 0 2px 6px var(--inner-shadow),\\n    /*  */ 0 2px 4px rgba(0, 0, 0, 0.08),\\n    /*  */ 0 10px 22px var(--shadow); /*  */\\n  transition:\\n    transform 0.28s ease,\\n    box-shadow 0.28s ease,\\n    filter 0.28s ease; /*  */\\n  will-change: transform, box-shadow, filter; /*  */\\n  animation: ball-bob 3.2s ease-in-out infinite; /*  */\\n}\\n\\n/*  */\\n.floating-ball::after {\\n  content: ''; /*  */\\n  position: absolute; /*  */\\n  inset: -8px; /*  8px */\\n  border-radius: 50%; /*  */\\n  background: conic-gradient(\\n    from 0deg,\\n    var(--ring),\\n    transparent 30%,\\n    transparent 70%,\\n    var(--ring)\\n  ); /*  */\\n  filter: blur(6px); /*  */\\n  opacity: 0.55; /*  */\\n  pointer-events: none; /*  */\\n  mask: radial-gradient(farthest-side, transparent calc(100% - 12px), #000 0); /*  */\\n  animation: ring-spin 12s linear infinite; /*  */\\n}\\n\\n/*  */\\n.floating-ball::before {\\n  content: ''; /*  */\\n  position: absolute; /*  */\\n  inset: 2px; /*  */\\n  border-radius: 50%; /*  */\\n  background:\\n    radial-gradient(120% 80% at 26% 24%, var(--specular) 0%, rgba(255, 255, 255, 0.2) 26%, rgba(255, 255, 255, 0) 46%),\\n    /*  */ linear-gradient(160deg, var(--glass) 0%, rgba(255, 255, 255, 0) 50%); /*  */\\n  mix-blend-mode: screen; /*  */\\n  pointer-events: none; /*  */\\n  transition:\\n    opacity 0.28s ease,\\n    transform 0.28s ease; /*  */\\n}\\n\\n/* + */\\n.floating-ball:hover {\\n  transform: translateY(-2px) scale(1.04); /*  */\\n  box-shadow:\\n    inset 0 2px 8px rgba(0, 0, 0, 0.22),\\n    /*  */ 0 4px 10px rgba(0, 0, 0, 0.12),\\n    /*  */ 0 16px 36px rgba(0, 123, 255, 0.45); /*  */\\n  filter: saturate(1.08); /*  */\\n}\\n\\n/*  */\\n.floating-ball:hover::before {\\n  opacity: 0.95; /*  */\\n  animation: shimmer 1.2s ease-out; /*  */\\n}\\n\\n/*  */\\n.floating-ball:active {\\n  transform: translateY(0) scale(0.98); /*  */\\n  box-shadow:\\n    inset 0 2px 10px rgba(0, 0, 0, 0.28),\\n    0 2px 6px rgba(0, 0, 0, 0.12),\\n    0 10px 22px rgba(0, 123, 255, 0.35); /*  */\\n}\\n\\n/*  */\\n.floating-ball:focus-visible {\\n  outline: 2px solid rgba(102, 200, 255, 0.85); /*  */\\n  outline-offset: 2px; /*  2px */\\n}\\n\\n/*  */\\n@media (prefers-reduced-motion: reduce) {\\n  .floating-ball {\\n    animation: none;\\n  } /*  */\\n  .floating-ball::after {\\n    animation: none;\\n  } /*  */\\n}\\n\\n/*  */\\n@keyframes ball-bob {\\n  0%,\\n  100% {\\n    transform: translateY(0);\\n  } /* / */\\n  50% {\\n    transform: translateY(-2px);\\n  } /*  2px */\\n}\\n\\n/*  */\\n@keyframes ring-spin {\\n  0% {\\n    transform: rotate(0deg);\\n  } /* 0  */\\n  100% {\\n    transform: rotate(360deg);\\n  } /*  */\\n}\\n\\n/*  */\\n@keyframes shimmer {\\n  0% {\\n    transform: translateY(-1px) scale(0.98);\\n    opacity: 0.6;\\n  } /*  */\\n  50% {\\n    transform: translateY(-2px) scale(1.02);\\n    opacity: 1;\\n  } /*  */\\n  100% {\\n    transform: translateY(-1px) scale(0.99);\\n    opacity: 0.85;\\n  } /*  */\\n}\\n\\n/* ======= ERA  ======= */\\n.floating-ball {\\n  --logo-scale: 0.38;\\n} /*  */\\n\\n.era-logo {\\n  font-weight: 800; /*  */\\n  font-size: calc(var(--size) * var(--logo-scale)); /*  */\\n  letter-spacing: 0.02em; /*  */\\n  line-height: 1; /*  */\\n  transform: translateY(-1px); /*  */\\n  white-space: nowrap; /*  */\\n  user-select: none;\\n  pointer-events: none; /*  */\\n  z-index: 1; /*  ::after  */\\n\\n  /*  +  */\\n  background:\\n    linear-gradient(\\n      180deg,\\n      rgba(255, 255, 255, 0.96) 0%,\\n      rgba(255, 255, 255, 0.55) 45%,\\n      rgba(220, 240, 255, 0.4) 65%,\\n      rgba(120, 195, 255, 0.55) 100%\\n    ),\\n    /*  */ linear-gradient(180deg, rgba(0, 0, 0, 0.38), rgba(0, 0, 0, 0) 60%); /*  */\\n  -webkit-background-clip: text;\\n  background-clip: text; /*  */\\n  color: transparent; /*  */\\n  text-shadow:\\n    0 1px 0 rgba(255, 255, 255, 0.75),\\n    /*  */ 0 2px 4px rgba(0, 0, 0, 0.25),\\n    /*  */ 0 8px 18px rgba(0, 123, 255, 0.35); /*  */\\n  filter: drop-shadow(0 0 2px rgba(102, 200, 255, 0.25)); /*  */\\n  animation: era-sheen 4s ease-in-out infinite; /*  */\\n}\\n\\n.floating-ball:hover .era-logo {\\n  text-shadow:\\n    0 1px 0 rgba(255, 255, 255, 0.85),\\n    0 3px 8px rgba(0, 0, 0, 0.28),\\n    0 10px 26px rgba(0, 123, 255, 0.55); /*  */\\n  filter: drop-shadow(0 0 3px rgba(102, 200, 255, 0.38)); /*  */\\n}\\n\\n/*  */\\n@keyframes era-sheen {\\n  0%,\\n  100% {\\n    background-position:\\n      0% 0%,\\n      0% 0%;\\n  }\\n  50% {\\n    background-position:\\n      0% 40%,\\n      0% 0%;\\n  }\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.era-app-container{position:fixed;inset:0;z-index:2147483646;pointer-events:none;isolation:isolate;contain:layout style paint;width:100svw;height:100svh}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ERA/ui/App.vue\"],\"names\":[],\"mappings\":\"AAqLA,mBAEE,cAAe,CACf,OAAQ,CACR,kBAAmB,CACnB,mBAAoB,CACpB,iBAAkB,CAClB,0BAA2B,CAC3B,YAAa,CACb,aACF\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"era-app-container\\\">\\n    <FloatingBall v-show=\\\"currentComponent === 'FloatingBall'\\\" @click=\\\"requestSwitchView('ExpandedView')\\\" />\\n    <div v-show=\\\"currentComponent === 'ExpandedView'\\\" class=\\\"era-expanded-layer\\\">\\n      <!--  -->\\n      <div class=\\\"era-shell\\\">\\n        <!--  +  -->\\n        <!--  -->\\n        <div class=\\\"era-panel\\\">\\n          <!--  -->\\n          <!--  ERA  -->\\n          <!--  +  -->\\n          <!--  -->\\n          <header class=\\\"panel-top\\\">\\n            <!--  -->\\n            <h3 class=\\\"panel-title\\\">ERA </h3>\\n            <!--  -->\\n            <button class=\\\"btn-close\\\" aria-label=\\\"\\\" @click=\\\"requestSwitchView('FloatingBall')\\\"></button>\\n            <!--  -->\\n          </header>\\n\\n          <!--  -->\\n          <!--  -->\\n          <div class=\\\"panel-body\\\">\\n            <!--  -->\\n            <template v-if=\\\"dataRef\\\">\\n              <!--  -->\\n              <MetaHeader :mk=\\\"dataRef.mk\\\" :message-id=\\\"dataRef.message_id\\\" />\\n              <!--  -->\\n\\n              <EraAccordion title=\\\"ERA \\\" :default-open=\\\"false\\\">\\n                <!--  -->\\n                <template #default>\\n                  <!--  -->\\n                  <div style=\\\"display: flex; flex-direction: column; gap: 8px\\\">\\n                    <!--  -->\\n                    <EraAccordion title=\\\"SelectedMks\\\" :default-open=\\\"false\\\">\\n                      <!-- 1 -->\\n                      <template #default>\\n                        <!--  -->\\n                        <PrettyJsonViewer :value=\\\"dataRef.selectedMks\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"3\\\" />\\n                        <!-- JSON  -->\\n                      </template>\\n                    </EraAccordion>\\n                    <EraAccordion title=\\\"EditLogs\\\" :default-open=\\\"false\\\">\\n                      <!-- 2 -->\\n                      <template #default>\\n                        <!--  -->\\n                        <PrettyJsonViewer :value=\\\"dataRef.editLogs\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"2\\\" />\\n                        <!-- JSON  -->\\n                      </template>\\n                    </EraAccordion>\\n                  </div>\\n                </template>\\n              </EraAccordion>\\n\\n              <TabSwitch v-model:active=\\\"activeTab\\\" :tabs=\\\"tabs\\\">\\n                <!--  -->\\n                <template #pure>\\n                  <!--  -->\\n                  <PrettyJsonViewer :value=\\\"dataRef.statWithoutMeta\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"Infinity\\\" />\\n                  <!-- JSON  -->\\n                </template>\\n                <template #full>\\n                  <!--  -->\\n                  <PrettyJsonViewer :value=\\\"dataRef.stat\\\" :default-collapsed=\\\"true\\\" :max-depth=\\\"Infinity\\\" />\\n                  <!-- JSON  -->\\n                </template>\\n              </TabSwitch>\\n            </template>\\n\\n            <template v-else>\\n              <!--  -->\\n              <div class=\\\"empty\\\"> era:writeDone </div>\\n              <!--  -->\\n            </template>\\n          </div>\\n        </div>\\n\\n        <!-- / -->\\n        <aside class=\\\"right-rail\\\">\\n          <!--  -->\\n          <ActionButtons />\\n          <!--  -->\\n          <EraSettingsPanel />\\n        </aside>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script setup lang=\\\"ts\\\">\\nimport { computed, onMounted, ref, watch } from 'vue';\\nimport { Logger } from '../utils/log';\\nimport ActionButtons from './components/ActionButtons.vue';\\nimport EraSettingsPanel from './components/EraSettingsPanel.vue';\\nimport FloatingBall from './components/FloatingBall.vue';\\n\\n//  EraDataPanel  imports\\nimport EraAccordion from './components/era-panel/parts/EraAccordion.vue';\\nimport MetaHeader from './components/era-panel/parts/MetaHeader.vue';\\nimport PrettyJsonViewer from './components/era-panel/parts/PrettyJsonViewer.vue';\\nimport TabSwitch from './components/era-panel/parts/TabSwitch.vue';\\n\\n//  EraDataPanel \\ntype Actions = { rollback: boolean; apply: boolean; resync: boolean; api: boolean; apiWrite: boolean };\\nexport interface WriteDonePayload {\\n  mk: string;\\n  message_id: number;\\n  actions: Actions;\\n  selectedMks: (string | null)[];\\n  editLogs: Record<string, any[]>;\\n  stat: any;\\n  statWithoutMeta: any;\\n  consecutiveProcessingCount: number;\\n}\\n\\n// TabSwitch \\ntype TabItem = { key: 'pure' | 'full'; label: string };\\n\\nconst logger = new Logger('ui-App');\\n\\n// App.vue  props\\nconst props = defineProps({\\n  initialView: {\\n    type: String,\\n    required: true,\\n    default: 'FloatingBall',\\n  },\\n  eventData: {\\n    type: Object as () => WriteDonePayload | null,\\n    default: () => null,\\n  },\\n});\\n\\n// App.vue \\nconst currentComponent = ref(props.initialView);\\nconst requestSwitchView = (viewName: 'FloatingBall' | 'ExpandedView') => {\\n  logger.debug('requestSwitchView', `: ${viewName}`);\\n  if ((window as any).eraUiSwitchView) {\\n    (window as any).eraUiSwitchView(viewName);\\n  } else {\\n    logger.warn('requestSwitchView', ' eraUiSwitchView ');\\n  }\\n};\\n\\n//  EraDataPanel \\nconst dataRef = computed(() => props.eventData || null);\\n\\nconst tabs: TabItem[] = [\\n  { key: 'pure', label: '' },\\n  { key: 'full', label: '' },\\n];\\nconst activeTab = ref<'pure' | 'full'>('pure');\\n\\nonMounted(() => {\\n  logger.log('onMounted', 'App.vue ', { props: props });\\n});\\n\\nwatch(\\n  () => props.eventData,\\n  (newData, oldData) => {\\n    logger.debug('watch:eventData', 'eventData prop ', {\\n      newData,\\n      oldData,\\n    });\\n  },\\n  { deep: true },\\n);\\n\\nwatch(\\n  () => props.initialView,\\n  newView => {\\n    logger.debug('watch:initialView', `initialView prop : ${newView}`);\\n    currentComponent.value = newView;\\n  },\\n);\\n</script>\\n\\n<style>\\n/* App.vue  .era-app-container */\\n.era-app-container {\\n  /*  */\\n  position: fixed; /*  */\\n  inset: 0; /* top/right/bottom/left  0 */\\n  z-index: 2147483646; /*  */\\n  pointer-events: none; /*  */\\n  isolation: isolate; /*  */\\n  contain: layout style paint; /*  */\\n  width: 100svw; /*  */\\n  height: 100svh; /*  */\\n}\\n</style>\\n\\n<style scoped>\\n/*  EraDataPanel.vue  */\\n.era-panel {\\n  width: min(960px, 60vw);\\n  height: min(680px, 86vh);\\n  display: flex;\\n  flex-direction: column;\\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.65));\\n  border: 1px solid rgba(255, 255, 255, 0.6);\\n  backdrop-filter: blur(10px);\\n  border-radius: 16px;\\n  box-shadow:\\n    0 10px 40px rgba(0, 0, 0, 0.18),\\n    inset 0 1px 0 rgba(255, 255, 255, 0.6);\\n  overflow: hidden;\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;\\n}\\n\\n.panel-top {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 14px 16px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\\n  background: linear-gradient(90deg, rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0.45));\\n}\\n.panel-title {\\n  font-size: 16px;\\n  font-weight: 800;\\n  letter-spacing: 0.5px;\\n  color: #1f2937;\\n}\\n.btn-close {\\n  width: 32px;\\n  height: 32px;\\n  line-height: 30px;\\n  text-align: center;\\n  border-radius: 8px;\\n  border: 1px solid rgba(0, 0, 0, 0.08);\\n  background: #fff;\\n  cursor: pointer;\\n  font-size: 18px;\\n  color: #6b7280;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\\n}\\n.btn-close:hover {\\n  transform: translateY(-1px);\\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);\\n}\\n\\n.panel-body {\\n  padding: 14px 14px 16px;\\n  overflow: auto;\\n}\\n\\n.block {\\n  margin: 12px 0 4px;\\n  padding: 10px 12px;\\n  background: rgba(255, 255, 255, 0.6);\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 12px;\\n}\\n.block-title {\\n  margin: 0 0 8px;\\n  font-size: 13px;\\n  font-weight: 800;\\n  color: #374151;\\n}\\n\\n.chips {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 8px;\\n}\\n.chip {\\n  font-size: 12px;\\n  padding: 6px 8px;\\n  border: 1px solid rgba(0, 0, 0, 0.06);\\n  border-radius: 999px;\\n  background: linear-gradient(180deg, #fafafa, #f4f4f4);\\n  color: #6b7280;\\n  box-shadow: inset 0 1px 0 #fff;\\n}\\n.chip.ok {\\n  color: #065f46;\\n  background: linear-gradient(180deg, #ecfdf5, #d1fae5);\\n  border-color: #a7f3d0;\\n}\\n\\n.mk-strip {\\n  display: flex;\\n  gap: 8px;\\n  flex-wrap: wrap;\\n  max-height: 140px;\\n  overflow: auto;\\n}\\n.mk-pill {\\n  display: inline-flex;\\n  gap: 6px;\\n  align-items: center;\\n  padding: 6px 8px;\\n  background: linear-gradient(180deg, #eef2ff, #e0e7ff);\\n  color: #4338ca;\\n  border: 1px solid #c7d2fe;\\n  border-radius: 8px;\\n  font-size: 12px;\\n}\\n.mk-pill.is-null {\\n  background: linear-gradient(180deg, #f9fafb, #f3f4f6);\\n  color: #6b7280;\\n  border-color: #e5e7eb;\\n}\\n\\n.empty {\\n  height: 360px;\\n  display: grid;\\n  place-items: center;\\n  color: #6b7280;\\n  font-size: 14px;\\n  border: 1px dashed rgba(0, 0, 0, 0.08);\\n  border-radius: 12px;\\n  background: rgba(255, 255, 255, 0.5);\\n}\\n\\n/* ===[]  === */\\n/*  EraAccordion aria-expanded */\\n:deep(button[aria-expanded='false'] + *) {\\n  height: 0 !important; /*  0 */\\n  padding-top: 0 !important; /*  */\\n  padding-bottom: 0 !important;\\n  margin-top: 0 !important; /*  margin  */\\n  margin-bottom: 0 !important;\\n  border-top-width: 0 !important; /*  */\\n  border-bottom-width: 0 !important;\\n  overflow: clip !important; /* / */\\n  contain: paint !important; /* / */\\n}\\n\\n/*  */\\n:deep(button[aria-expanded='true'] + *) {\\n  overflow: visible; /*  */\\n}\\n\\n/* ===[]  + === */\\n.era-shell {\\n  /*  */ /*  */\\n  display: flex; /*  */ /* flex  */\\n  align-items: flex-start; /*  */ /*  */\\n  gap: 12px; /*  */ /*  */\\n  flex-wrap: nowrap; /*  */ /*  */\\n}\\n\\n/*  */\\n.era-panel {\\n  /*  */ /*  */\\n  flex: 0 1 auto; /*  */ /*  */\\n}\\n\\n/*  */\\n.right-rail {\\n  /*  */ /*  */\\n  width: min(320px, 34vw); /*  280-320px  */ /*  */\\n  position: sticky; /*  */ /*  */\\n  top: 10px; /*  */ /*  */\\n  align-self: flex-start; /*  */ /*  */\\n  z-index: 1; /*  */ /*  */\\n}\\n\\n/*  */\\n@media (max-width: 1100px) {\\n  /* 1100px  */ /*  */\\n  .era-shell {\\n    /*  */ /*  */\\n    flex-wrap: wrap; /*  */ /*  */\\n  }\\n  .right-rail {\\n    /*  */ /*  */\\n    width: 100%; /*  */ /*  */\\n    position: static; /*  */ /*  */\\n    margin-top: 8px; /*  */ /*  */\\n  }\\n}\\n\\n/* ===[]  +  === */\\n:deep(.floating-ball) {\\n  /* scoped  deep */\\n  position: fixed; /*  */\\n  right: max(16px, env(safe-area-inset-right)); /*  +  */\\n  bottom: max(90px, env(safe-area-inset-bottom)); /*  +  */\\n  z-index: 2147483647; /*  */\\n  pointer-events: auto; /*  none */\\n  touch-action: manipulation; /*  */\\n  will-change: transform; /*  3D/ */\\n}\\n\\n/* ===[]  ExpandedView v-show  true  === */\\n.era-expanded-layer {\\n  /*  class */\\n  position: fixed; /*  */\\n  inset: 0; /*  */\\n  display: grid; /*  grid  */\\n  place-items: center; /*  */\\n  padding: clamp(12px, 2.5vw, 24px); /*  */\\n  pointer-events: auto; /*  none  */\\n  z-index: 2147483646; /*  */\\n  background: transparent; /*  rgba(0,0,0,.25) */\\n  overflow: auto; /*  */\\n}\\n\\n/* ===[]  === */\\n@media (max-width: 640px) {\\n  /*  */\\n  .era-panel {\\n    /*  */\\n    width: min(92vw, 560px); /*  92vw 60vw  */\\n    height: min(88vh, calc(100svh - 32px)); /* / */\\n  }\\n  .panel-body {\\n    /*  */\\n    overscroll-behavior: contain; /*  */\\n  }\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./JsonNode.vue?vue&type=style&index=0&id=34fc6c00&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"173d0d96\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./JsonNode.vue?vue&type=style&index=0&id=34fc6c00&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.102.1/node_modules/css-loader/dist/cjs.js??clonedRuleSet-46.use[1]!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/.pnpm/postcss-loader@8.2.0_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.102.1/node_modules/postcss-loader/dist/cjs.js!../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./JsonNode.vue?vue&type=style&index=0&id=34fc6c00&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = z;","/**\n * @file ERA  - \n * @description\n *  ERA \n *  `chat`  ERA \n *\n * ****:\n * ERA  `chat` \n * 1. ** (ERAMetaData)**:  `EditLogs`  `SelectedMks`\n * 2. ** (stat_data)**:  AI / `player``world_state` \n *\n * \n * ```json\n * {\n *   \"ERAMetaData\": {\n *     \"EditLogs\": { ... },\n *     \"SelectedMks\": [ ... ]\n *   },\n *   \"stat_data\": {\n *     \"player\": { \"hp\": 100, \"gold\": 50 },\n *     \"world_state\": { ... }\n *   }\n * }\n * ```\n * \n * 1. **** bug\n * 2. ****\n * 3. ****\n */\n\n'use strict';\n\nimport { z } from 'zod';\n\n/**\n * @constant {z.ZodObject} SettingsSchema\n * @description\n *  Zod schema\n */\nexport const SettingsSchema = z.object({\n  : z.boolean().default(true),\n  : z.boolean().default(false),\n  : z.number().default(2),\n});\n\n/**\n * @constant {object} CHAT_SCOPE\n * @description\n *  `getVariables`  `replaceVariables`  `scope` \n * **Chat**\n * ERA \n */\nexport const CHAT_SCOPE = { type: 'chat' as const };\n\n/**\n * @constant {string} META_DATA_PATH\n * @description  `chat`  ERA ****\n */\nexport const META_DATA_PATH = 'ERAMetaData';\n\n/**\n * @constant {string} STAT_DATA_PATH\n * @description  `chat` ****\n */\nexport const STAT_DATA_PATH = 'stat_data';\n\n/**\n * @constant {string} LOGS_PATH\n * @description\n *  `ERAMetaData` **Edit Logs** `\"EditLogs\"`\n * `EditLogs` **MK**\n * \n *\n * @example\n * // chat.ERAMetaData.EditLogs \n * \"era_mk_1759246942209_jipmrj\": [\n *   { \"op\": \"insert\", \"path\": \"testData.inventory\", \"value_new\": { \"gold\": 100, \"slots\": [\"sword\", \"shield\"] } },\n *   { \"op\": \"update\", \"path\": \"player.hp\", \"value_old\": 90, \"value_new\": 100 }\n * ]\n */\nexport const LOGS_PATH = 'EditLogs';\n\n/**\n * @constant {string} SEL_PATH\n * @description\n *  `ERAMetaData` **Selected Message Keys** `\"SelectedMks\"`\n * `SelectedMks` ** ID** MK\n *  ERA \n *  `SelectedMks`  MK\n *\n * @example\n * // chat.ERAMetaData.SelectedMks\n * [ , \"era_mk_greeting\", \"era_mk_abc123\", , \"era_mk_xyz789\"]\n */\nexport const SEL_PATH = 'SelectedMks';\n\n/**\n * @constant {string} ERA_DATA_TAG\n * @description\n *  ERA  MK XML \n * e.g., `<era_data>{...}</era_data>`\n */\nexport const ERA_DATA_TAG = 'era_data';\n\n/**\n * @constant {RegExp} ERA_DATA_REGEX\n * @description\n *  `<era_data>` \n *  `message_key.ts`  `message_utils.ts` \n */\nexport const ERA_DATA_REGEX = new RegExp(`<${ERA_DATA_TAG}>({.*?})<\\\\/${ERA_DATA_TAG}>`);\n\n/**\n * @constant {object} ERA_API_EVENTS\n * @description\n *  `eventEmit`  API \n * \n */\nexport const ERA_API_EVENTS = {\n  INSERT_BY_OBJECT: 'era:insertByObject',\n  UPDATE_BY_OBJECT: 'era:updateByObject',\n  INSERT_BY_PATH: 'era:insertByPath',\n  UPDATE_BY_PATH: 'era:updateByPath',\n  DELETE_BY_OBJECT: 'era:deleteByObject',\n  DELETE_BY_PATH: 'era:deleteByPath',\n  GET_CURRENT_VARS: 'era:getCurrentVars',\n} as const;\n\n/**\n * @constant {object} ERA_EVENT_EMITTER\n * @description  ERA ****\n */\nexport const ERA_EVENT_EMITTER = {\n  /**  */\n  WRITE_DONE: 'era:writeDone',\n  /** API */\n  API_WRITE: 'era:apiWrite',\n} as const;\n\n/**\n * `era:writeDone` \n */\nexport interface WriteDonePayload {\n  /**\n   * ** (Message Key)**\n   *  `ensureMkForLatestMessage` \n   */\n  mk: string;\n  /**\n   * ** ID**\n   */\n  message_id: number;\n  /**\n   * \n   * \n   */\n  actions: {\n    /**  `rollbackByMk`  */\n    rollback: boolean;\n    /**  `ApplyVarChange`  */\n    apply: boolean;\n    /**  `resyncStateOnHistoryChange`  */\n    resync: boolean;\n    /**  API  */\n    api: boolean;\n    /** API */\n    apiWrite: boolean;\n  };\n  /**\n   * ****** (Selected Message Keys)** \n   *  ID MK\n   *  ERA \n   */\n  selectedMks: (string | null)[];\n  /**\n   * ****`chat` ** (EditLogs)**\n   *  MK \n   */\n  editLogs: { [key: string]: any[] };\n  /**\n   * ****** (`stat_data`)** \n   * **** `$meta` \n   */\n  stat: any;\n  /**\n   * ******** `$meta`  `stat_data` \n   * \n   */\n  statWithoutMeta: any;\n  /**\n   *  `mk` \n   *  `mk`  1\n   * \n   */\n  consecutiveProcessingCount: number;\n}\n","/**\n * @file ERA  -  (V3 - )\n */\n\n'use strict';\n\n// ---  (V3) ---\n\n/**\n * @constant {string} DEBUG_CONFIG_LS_KEY\n * @description  localStorage \n */\nconst DEBUG_CONFIG_LS_KEY = 'era_debug_config';\n\nlet enabledPatterns: RegExp[] = [];\nlet disabledPatterns: RegExp[] = [];\n\n/**\n * @typedef {object} DebugConfig\n * @property {string[]} enabled - \n * @property {string[]} disabled - \n */\n\n/**\n *  localStorage \n */\nfunction loadDebugConfig() {\n  try {\n    const configStr = globalThis.localStorage?.getItem(DEBUG_CONFIG_LS_KEY) || '{\"enabled\":[],\"disabled\":[]}';\n    /** @type {DebugConfig} */\n    const config = JSON.parse(configStr);\n\n    const toRegex = (p: string) => new RegExp(`^${p.replace(/\\*/g, '.*?')}$`);\n    enabledPatterns = (config.enabled || []).map(toRegex);\n    disabledPatterns = (config.disabled || []).map(toRegex);\n  } catch (e) {\n    console.error('ERA-Log: ', e);\n    enabledPatterns = [];\n    disabledPatterns = [];\n  }\n}\n\n/**\n *  debug \n * @param {string} moduleName - \n * @returns {boolean} -  true\n */\nfunction isDebugEnabled(moduleName: string): boolean {\n  if (!moduleName) return false;\n\n  //  1: \n  if (disabledPatterns.some(re => re.test(moduleName))) {\n    return false;\n  }\n\n  //  2: \n  if (enabledPatterns.length === 0) {\n    return false;\n  }\n\n  //  3: \n  if (enabledPatterns.some(re => re.test(moduleName))) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * \n * @param {{ enabled: string[], disabled: string[] }} newConfig\n */\nfunction updateConfig(newConfig: { enabled: string[]; disabled: string[] }) {\n  const uniqueConfig = {\n    enabled: [...new Set(newConfig.enabled)],\n    disabled: [...new Set(newConfig.disabled)],\n  };\n  globalThis.localStorage?.setItem(DEBUG_CONFIG_LS_KEY, JSON.stringify(uniqueConfig));\n  loadDebugConfig();\n  console.log(`%cERA-Log`, 'color: #3498db; font-weight: bold;', {\n    ' (Enabled)': uniqueConfig.enabled,\n    ' (Disabled)': uniqueConfig.disabled,\n  });\n}\n\n// \nloadDebugConfig();\n\n// \nif (typeof globalThis !== 'undefined') {\n  const eraDebug = {\n    /**\n     * \n     * \n     * @param {string} pattern -  * \n     * @example\n     * //  core \n     * eraDebug.add('core*')\n     */\n    add(pattern: string) {\n      const configStr = globalThis.localStorage?.getItem(DEBUG_CONFIG_LS_KEY) || '{\"enabled\":[],\"disabled\":[]}';\n      const config: { enabled: string[]; disabled: string[] } = JSON.parse(configStr);\n      const enabled = new Set(config.enabled || []);\n      const disabled = new Set(config.disabled || []);\n\n      enabled.add(pattern);\n      disabled.delete(pattern);\n\n      updateConfig({ enabled: Array.from(enabled), disabled: Array.from(disabled) });\n    },\n\n    /**\n     * \n     * \n     * @param {string} pattern -  * \n     * @example\n     * //  core-key \n     * eraDebug.remove('core-key')\n     */\n    remove(pattern: string) {\n      const configStr = globalThis.localStorage?.getItem(DEBUG_CONFIG_LS_KEY) || '{\"enabled\":[],\"disabled\":[]}';\n      const config: { enabled: string[]; disabled: string[] } = JSON.parse(configStr);\n      const enabled = new Set(config.enabled || []);\n      const disabled = new Set(config.disabled || []);\n\n      disabled.add(pattern);\n      enabled.delete(pattern);\n\n      updateConfig({ enabled: Array.from(enabled), disabled: Array.from(disabled) });\n    },\n\n    /**\n     * \n     */\n    status() {\n      const configStr = globalThis.localStorage?.getItem(DEBUG_CONFIG_LS_KEY) || '{\"enabled\":[],\"disabled\":[]}';\n      const config = JSON.parse(configStr);\n      console.log(`%cERA-Log:`, 'color: #3498db; font-weight: bold;', config);\n    },\n\n    /**\n     * \n     */\n    clear() {\n      updateConfig({ enabled: [], disabled: [] });\n    },\n  };\n\n  (globalThis as any).eraDebug = eraDebug;\n}\n\n// --- Logger  ---\n\n/**\n * @class Logger\n * @description  ERA \n *\n * ****:\n * 1. ****:  `eraDebug('...')` / `debug` \n * 2. ****:  `ERA` \n * 3. ****:  logger \n *    : `const logger = new Logger();`\n */\nexport const logContext = {\n  mk: '',\n};\n\nexport class Logger {\n  private moduleName: string;\n\n  constructor(moduleName?: string) {\n    if (moduleName) {\n      this.moduleName = moduleName;\n    } else {\n      // \n      this.moduleName = this._getModuleNameFromStack() || 'unknown';\n    }\n  }\n\n  private _getModuleNameFromStack(): string | null {\n    try {\n      const stack = new Error().stack || '';\n      //  log.ts \n      const callerLine = stack\n        .split('\\n')\n        .find(line => line.includes('/src/ERA/') && !line.includes('/utils/log.ts'));\n\n      if (!callerLine) {\n        // \n        return null;\n      }\n\n      // \n      const match = callerLine.match(/src\\/ERA\\/([^?:\\s)]+)/);\n\n      if (!match || !match[1]) {\n        // \n        return null;\n      }\n\n      let path = match[1];\n\n      // \n      path = path.replace(/\\.(vue|ts|js)$/, '');\n      //  'src/ERA/'  '-'  '/'\n      return path\n        .replace(/^src\\/ERA\\//, '')\n        .replace(/\\/index$/, '')\n        .replace(/\\//g, '-');\n    } catch (e) {\n      console.error('ERA-Log-Debug: ', e);\n      return null;\n    }\n  }\n\n  private formatMessage(funcName: string, message: any): string {\n    const mkString = logContext.mk ? `${logContext.mk}` : '';\n    return `ERA${mkString}${this.moduleName}${funcName}${String(message)}`;\n  }\n\n  debug(funcName: string, message: any, obj?: any) {\n    if (!isDebugEnabled(this.moduleName)) {\n      return;\n    }\n\n    const formattedMessage = this.formatMessage(funcName, message);\n    if (obj !== undefined) {\n      console.debug(formattedMessage, obj);\n    } else {\n      console.debug(formattedMessage);\n    }\n  }\n\n  log(funcName: string, message: any, obj?: any) {\n    const formattedMessage = this.formatMessage(funcName, message);\n    if (obj !== undefined) {\n      console.log(`%c${formattedMessage}`, 'color: #3498db;', obj);\n    } else {\n      console.log(`%c${formattedMessage}`, 'color: #3498db;');\n    }\n  }\n\n  warn(funcName: string, message: any, obj?: any) {\n    const formattedMessage = this.formatMessage(funcName, message);\n    if (obj !== undefined) {\n      console.warn(`%c${formattedMessage}`, 'color: #f39c12;', obj);\n    } else {\n      console.warn(`%c${formattedMessage}`, 'color: #f39c12;');\n    }\n  }\n\n  error(funcName: string, message: any, errorObj?: any) {\n    const formattedMessage = this.formatMessage(funcName, message);\n    if (errorObj !== undefined) {\n      console.error(`%c${formattedMessage}`, 'color: #e74c3c; font-weight: bold;', errorObj);\n    } else {\n      console.error(`%c${formattedMessage}`, 'color: #e74c3c; font-weight: bold;');\n    }\n  }\n}\n","'use strict';\n\nimport { ERA_API_EVENTS, ERA_EVENT_EMITTER } from '../utils/constants';\nimport { Logger } from '../utils/log';\n\nconst logger = new Logger();\n\n/**\n * @description \n */\nexport const EVENT_GROUPS = {\n  INIT: [tavern_events.APP_READY],\n  SYNC: [\n    'manual_write',\n    ERA_EVENT_EMITTER.API_WRITE,\n    tavern_events.MESSAGE_RECEIVED,\n    tavern_events.MESSAGE_DELETED,\n    tavern_events.MESSAGE_SWIPED,\n    tavern_events.CHAT_CHANGED,\n    'manual_sync',\n    'manual_full_sync',\n    /**  message_updated  generation_started  */\n    'combo_sync',\n  ],\n  API: Object.values(ERA_API_EVENTS),\n  /** MK */\n  UPDATE_MK_ONLY: [tavern_events.MESSAGE_SENT],\n  /**  */\n  COLLISION_DETECTORS: [tavern_events.GENERATION_STARTED],\n  /**  */\n  COMBO_STARTERS: [tavern_events.MESSAGE_UPDATED],\n};\n\n/**\n * @constant {Map<string, string>} EVENT_COLLISION_MAP\n * @description\n * \n *  key  value \n * \n *\n * @example\n * //  `MESSAGE_SWIPED`  `GENERATION_STARTED`\n * // \n * new Map([\n *   [tavern_events.MESSAGE_SWIPED, { next: tavern_events.GENERATION_STARTED, maxInterval: 500 }]\n * ])\n */\nexport const EVENT_COLLISION_MAP = new Map<string, { next: string; maxInterval: number }>([\n  [tavern_events.MESSAGE_SWIPED, { next: tavern_events.GENERATION_STARTED, maxInterval: 600 }],\n]);\n\n/**\n * @constant {Map<string, { next: string; resultType: string; maxInterval: number }>} EVENT_COMBO_MAP\n * @description\n * \n *  key  `next` \n *  `resultType` \n *\n * @example\n * // AI `MESSAGE_UPDATED`  `GENERATION_STARTED`\n * //  `combo_sync` \n * new Map([\n *   [tavern_events.MESSAGE_UPDATED, { next: tavern_events.GENERATION_STARTED, resultType: 'combo_sync', maxInterval: 2100 }]\n * ])\n */\nexport const EVENT_COMBO_MAP = new Map<string, { next: string; resultType: string; maxInterval: number }>([\n  [\n    tavern_events.MESSAGE_UPDATED,\n    { next: tavern_events.GENERATION_STARTED, resultType: 'combo_sync', maxInterval: 1600 },\n  ],\n]);\n\n/**\n * @constant {Map<string, number>} EVENT_DEBOUNCE_MAP\n * @description\n * \n * \n * \n * \n *\n * @example\n * //  MESSAGE_SWIPED  GENERATION_STARTED\n * new Map([\n *   [tavern_events.MESSAGE_SWIPED, 500]\n * ])\n */\nexport const EVENT_DEBOUNCE_MAP = new Map<string, number>([\n  [tavern_events.MESSAGE_SWIPED, 500], // \n  [tavern_events.MESSAGE_UPDATED, 1500], // \n]);\n\n/**\n * @interface EventJob\n * @description \n */\nexport interface EventJob {\n  type: string;\n  detail?: any;\n  timestamp: number;\n}\n\n/**\n * \n * @param {string} eventType - \n * @returns {string}  ('INIT', 'SYNC', 'API', 'UPDATE_MK_ONLY', 'UNKNOWN')\n */\nexport function getEventGroup(eventType: string): string {\n  //  as string[]  TypeScript  'as const' \n  if ((EVENT_GROUPS.INIT as string[]).includes(eventType)) return 'INIT';\n  if ((EVENT_GROUPS.SYNC as string[]).includes(eventType)) return 'SYNC';\n  if ((EVENT_GROUPS.API as string[]).includes(eventType)) return 'API';\n  if ((EVENT_GROUPS.UPDATE_MK_ONLY as string[]).includes(eventType)) return 'UPDATE_MK_ONLY';\n  if ((EVENT_GROUPS.COLLISION_DETECTORS as string[]).includes(eventType)) return 'COLLISION_DETECTORS';\n  if ((EVENT_GROUPS.COMBO_STARTERS as string[]).includes(eventType)) return 'COMBO_STARTERS';\n  return 'UNKNOWN';\n}\n\n/**\n * ****\n * \n * @param {EventJob[]} batchToProcess - \n * @returns {EventJob[]} - \n */\nexport function mergeEventBatch(batchToProcess: EventJob[]): EventJob[] {\n  const originalEvents = _.cloneDeep(batchToProcess);\n  const finalJobs: EventJob[] = [];\n\n  //  for...of \n  for (const currentJob of batchToProcess) {\n    // \n    if (finalJobs.length === 0) {\n      finalJobs.push(currentJob);\n      continue; // \n    }\n\n    const prevJob = finalJobs[finalJobs.length - 1];\n    const timeDifference = currentJob.timestamp - prevJob.timestamp;\n\n    // 1. \n    const comboRule = EVENT_COMBO_MAP.get(prevJob.type);\n    if (comboRule && currentJob.type === comboRule.next) {\n      if (timeDifference <= comboRule.maxInterval) {\n        logger.debug(\n          'mergeEventBatch',\n          `: ${prevJob.type}  ${currentJob.type} (: ${timeDifference}ms <= ${comboRule.maxInterval}ms) ${comboRule.resultType} `,\n        );\n        finalJobs.pop(); // \n        finalJobs.push({ type: comboRule.resultType, timestamp: currentJob.timestamp, detail: currentJob.detail });\n        continue;\n      } else {\n        logger.debug(\n          'mergeEventBatch',\n          `: ${prevJob.type}  ${currentJob.type} (: ${timeDifference}ms > ${comboRule.maxInterval}ms)`,\n        );\n      }\n    }\n\n    // 2. \n    const collisionRule = EVENT_COLLISION_MAP.get(prevJob.type);\n    if (collisionRule && currentJob.type === collisionRule.next) {\n      if (timeDifference <= collisionRule.maxInterval) {\n        logger.debug(\n          'mergeEventBatch',\n          `: ${prevJob.type}  ${currentJob.type} (: ${timeDifference}ms <= ${collisionRule.maxInterval}ms)`,\n        );\n        finalJobs.pop(); // \n        continue; // \n      } else {\n        logger.debug(\n          'mergeEventBatch',\n          `: ${prevJob.type}  ${currentJob.type} (: ${timeDifference}ms > ${collisionRule.maxInterval}ms)`,\n        );\n      }\n    }\n\n    // 3. \n    const prevGroup = getEventGroup(prevJob.type);\n    const currentGroup = getEventGroup(currentJob.type);\n\n    //  if \n    const areInSameGroup = prevGroup === currentGroup;\n    const isMergeableGroup = prevGroup === 'SYNC';\n\n    // \n    if (areInSameGroup && isMergeableGroup) {\n      // \n      finalJobs[finalJobs.length - 1] = currentJob;\n    } else {\n      // \n      finalJobs.push(currentJob);\n    }\n  }\n  // \n  const filteredJobs = finalJobs.filter(job => {\n    const group = getEventGroup(job.type);\n    const isOrphanedDetector = group === 'COLLISION_DETECTORS';\n    const isOrphanedComboStarter = group === 'COMBO_STARTERS';\n    if (isOrphanedDetector || isOrphanedComboStarter) {\n      logger.debug('mergeEventBatch', `: ${job.type}`);\n    }\n    return !isOrphanedDetector && !isOrphanedComboStarter;\n  });\n\n  // \n  logger.debug('mergeEventBatch', `: ${originalEvents.length} -> ${filteredJobs.length}`, {\n    before: originalEvents.map((e: EventJob) => e.type),\n    after: filteredJobs.map((e: EventJob) => e.type),\n  });\n\n  return filteredJobs;\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = _;","/**\n * @file ERA  - ERA \n */\n\n'use strict';\n\nimport _ from 'lodash';\nimport { CHAT_SCOPE, META_DATA_PATH, STAT_DATA_PATH, SettingsSchema } from './constants';\n\ndeclare function getScriptId(): string;\n\n/**\n *  `$`  `$meta`, `$template`\n * \n * @param {any} obj - \n * @returns {any}  `$` \n */\nexport function removeMetaFields(obj: any): any {\n  // \n  if (!_.isObject(obj)) {\n    return obj;\n  }\n\n  // \n  const newObj = _.cloneDeep(obj);\n\n  function recurse(current: any) {\n    if (Array.isArray(current)) {\n      // \n      current.forEach(item => recurse(item));\n    } else if (_.isPlainObject(current)) {\n      // \n      for (const key in current) {\n        //  '$' \n        if (key.startsWith('$')) {\n          delete current[key];\n        } else {\n          // \n          recurse(current[key]);\n        }\n      }\n    }\n  }\n\n  recurse(newObj);\n  return newObj;\n}\n\n/**\n *  ERA \n * @returns {{meta: object, stat: object}} \n */\nexport function getEraData(): { meta: any; stat: any } {\n  const chatVars = getVariables(CHAT_SCOPE) || {};\n  const meta = _.get(chatVars, META_DATA_PATH, {});\n  const stat = _.get(chatVars, STAT_DATA_PATH, {});\n  return { meta, stat };\n}\n\n/**\n *  ERA  (stat_data)\n * @param {(currentStatData: any) => (any | Promise<any>)} updater -  stat_data  stat_data  ( async)\n */\nexport async function updateEraStatData(updater: (currentStatData: any) => any | Promise<any>) {\n  await updateVariablesWith(async v => {\n    const currentStat = _.get(v, STAT_DATA_PATH, {});\n    const newStat = await updater(currentStat);\n    _.set(v, STAT_DATA_PATH, newStat);\n    return v;\n  }, CHAT_SCOPE);\n}\n\n/**\n *  ERA  (ERAMetaData)\n * @param {(currentMetaData: any) => (any | Promise<any>)} updater -  ERAMetaData  ERAMetaData  ( async)\n */\nexport async function updateEraMetaData(updater: (currentMetaData: any) => any | Promise<any>) {\n  await updateVariablesWith(async v => {\n    const currentMeta = _.get(v, META_DATA_PATH, {});\n    const newMeta = await updater(currentMeta);\n    _.set(v, META_DATA_PATH, newMeta);\n    return v;\n  }, CHAT_SCOPE);\n}\n\n/**\n * \n * @returns {z.infer<typeof SettingsSchema>}\n */\nexport function getScriptSettings(): z.infer<typeof SettingsSchema> {\n  const rawSettings = getVariables({ type: 'script', script_id: getScriptId() });\n  return SettingsSchema.parse(rawSettings ?? {});\n}\n\n/**\n * \n * @param {(currentSettings: z.infer<typeof SettingsSchema>) => z.infer<typeof SettingsSchema>} updater\n * @returns {Promise<void>}\n */\nexport async function updateScriptSettings(\n  updater: (\n    currentSettings: z.infer<typeof SettingsSchema>,\n  ) => z.infer<typeof SettingsSchema> | Promise<z.infer<typeof SettingsSchema>>,\n): Promise<void> {\n  await updateVariablesWith(\n    async rawSettings => {\n      const currentSettings = SettingsSchema.parse(rawSettings ?? {});\n      const newSettings = await updater(currentSettings);\n      return newSettings;\n    },\n    { type: 'script', script_id: getScriptId() },\n  );\n}\n","/**\n * , \n * \n * @param text - \n * @returns - \n */\nexport function parseCharacterMacros(text: string): string {\n  // , \n  if (!text.includes('{{')) {\n    return text;\n  }\n\n  let result = text;\n  // \n  result = result.replace(/{{user}}/gi, SillyTavern.name1);\n  result = result.replace(/{{char}}/gi, SillyTavern.name2);\n  return result;\n}\n\n/**\n * ,  parseCharacterMacros \n * @param data - \n * @returns - \n */\nexport const deepParseCharacterMacros = (data: any): any => {\n  if (typeof data === 'string') {\n    return parseCharacterMacros(data);\n  }\n  if (Array.isArray(data)) {\n    return data.map(item => deepParseCharacterMacros(item));\n  }\n  if (typeof data === 'object' && data !== null) {\n    return Object.entries(data).reduce(\n      (acc, [key, value]) => {\n        acc[key] = deepParseCharacterMacros(value);\n        return acc;\n      },\n      {} as Record<string, any>,\n    );\n  }\n  return data;\n};\n","/**\n * @file ERA  - \n * @description\n * \n */\n\n'use strict';\n\nimport { ERA_DATA_REGEX } from './constants';\nimport { Logger } from './log';\nimport { parseCharacterMacros } from './text';\n\nconst log = new Logger();\n\n/**\n * @type {EraData} -  `<era_data>` \n */\ntype EraData = {\n  'era-message-key': string;\n  'era-message-type': 'user' | 'assistant';\n};\n\n// ==================================================================\n// \n// ==================================================================\n\n/**\n * **** \n *  ERA \n * @param {TavernMessage} msg - \n * @returns {string | null}  null\n */\nexport function getMessageContent(msg: any): string | null {\n  if (!msg) return null;\n\n  let content: string | null = null;\n\n  //  .mes \n  if (typeof msg.mes === 'string') {\n    content = msg.mes;\n  }\n  //  .mes swipes\n  else if (Array.isArray(msg.swipes)) {\n    const sid = Number(msg.swipe_id ?? 0);\n    content = msg.swipes[sid] || null;\n  }\n  //  .message \n  else if (typeof msg.message === 'string') {\n    content = msg.message;\n  }\n\n  if (content === null) {\n    return null;\n  }\n\n  // \n  // \n  // \n  // \n  return parseCharacterMacros(content);\n}\n\n/**\n *  `EraData` \n * @param {string | null | undefined} messageContent - \n * @returns {EraData | null}  `EraData`  null\n */\nfunction parseEraData(messageContent: string | null | undefined): EraData | null {\n  if (typeof messageContent !== 'string') {\n    return null;\n  }\n  const match = messageContent.match(ERA_DATA_REGEX);\n  if (!match || !match[1]) {\n    return null;\n  }\n  try {\n    //  MK  `{\"key\"=\"value\"}`  JSON.parse\n    // \n    const customFormatBlock = match[1];\n    const keyMatch = customFormatBlock.match(/\"era-message-key\"\\s*=\\s*\"(.*?)\"/);\n    const typeMatch = customFormatBlock.match(/\"era-message-type\"\\s*=\\s*\"(.*?)\"/);\n\n    if (keyMatch?.[1] && typeMatch?.[1]) {\n      const eraData = {\n        'era-message-key': keyMatch[1],\n        'era-message-type': typeMatch[1] as 'user' | 'assistant',\n      };\n      log.debug('parseEraData', ' EraData', eraData);\n      return eraData;\n    }\n    log.debug('parseEraData', ' EraData ', { customFormatBlock });\n    return null;\n  } catch (e) {\n    log.warn('parseEraData', ' EraData ', e);\n    return null;\n  }\n}\n\n/**\n * ****  `era-message-type`  `role` \n * \n * @param {TavernMessage} msg - \n * @returns {boolean}  true\n */\nexport function isUserMessage(msg: any): boolean {\n  const content = getMessageContent(msg);\n  const data = parseEraData(content);\n  if (data) {\n    return data['era-message-type'] === 'user';\n  }\n  //  role \n  return msg?.role === 'user';\n}\n\n/**\n *  AI \n * @returns {TavernMessage | null}  AI  null\n */\nexport function findLastAiMessage(): any | null {\n  const messages = getChatMessages('0-{{lastMessageId}}', { include_swipes: true });\n  if (!messages || messages.length === 0) {\n    log.debug('findLastAiMessage', ', ');\n    return null;\n  }\n\n  for (let i = messages.length - 1; i >= 0; i--) {\n    const msg = messages[i];\n    if (!isUserMessage(msg)) {\n      log.debug('findLastAiMessage', ` AI , ID: ${msg.message_id}`);\n      return msg;\n    }\n  }\n\n  log.debug('findLastAiMessage', ' AI ');\n  return null;\n}\n\n// ==================================================================\n// \n// ==================================================================\n\n/**\n * **** \n *  `swipes`  `message` \n * @param {any} message - \n * @param {string} newContent - \n */\nexport async function updateMessageContent(message: any, newContent: string) {\n  const oldContent = getMessageContent(message);\n  log.debug('updateMessageContent', ':', oldContent);\n  log.debug('updateMessageContent', ':', newContent);\n\n  const updatePayload: { message_id: number; message?: string; swipes?: string[] } = {\n    message_id: message.message_id,\n  };\n\n  if (Array.isArray(message.swipes)) {\n    const sid = Number(message.swipe_id ?? 0);\n    const newSwipes = [...message.swipes];\n    newSwipes[sid] = newContent;\n    updatePayload.swipes = newSwipes;\n  } else {\n    updatePayload.message = newContent;\n  }\n\n  await setChatMessages([updatePayload], { refresh: 'none' });\n}\n","/**\n * @file ERA  - \n */\n\n'use strict';\n\n/**\n * \n * @returns {string} \n */\nexport function rnd(): string {\n  return Math.random().toString(36).slice(2, 8);\n}\n\n/**\n *  AI  Markdown  ```json ... ```\n * @param {string} s - \n * @returns {string} \n */\nexport function stripCodeFence(s: string): string {\n  if (!s) return s;\n  let t = String(s).trim();\n  t = t.replace(/^\\s*(?:```|~~~)\\[a-zA-Z0-9_-\\]*\\s*\\r?\\n/, '');\n  t = t.replace(/\\r?\\n(?:```|~~~)\\s*$/, '');\n  return t.trim();\n}\n\nexport type TagMatchMode = 'exact' | 'prefix' | 'suffix' | 'contains' | 'any';\n\n/**\n * \n * @param {string} [keyword=''] - \n * @param {TagMatchMode} [mode='exact'] - \n * @returns {RegExp} \n */\nexport function createTagRegex(keyword: string = '', mode: TagMatchMode = 'exact'): RegExp {\n  if (mode === 'any' || keyword === '*') {\n    return /([a-zA-Z][a-zA-Z0-9_]*)/;\n  }\n  //  keyword \n  const escapedKeyword = keyword.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n  switch (mode) {\n    case 'exact':\n      return new RegExp(`(${escapedKeyword})`);\n    case 'prefix':\n      return new RegExp(`(${escapedKeyword}[a-zA-Z0-9_]*)`);\n    case 'suffix':\n      return new RegExp(`([a-zA-Z0-9_]*${escapedKeyword})`);\n    case 'contains':\n    default:\n      return new RegExp(`([a-zA-Z0-9_]*${escapedKeyword}[a-zA-Z0-9_]*)`);\n  }\n}\n\n/**\n * \n * @param {string} text - \n * @param {RegExp} tagNameRegex - \n * @param {number} [endIndex=text.length] - \n * @returns {{startIndex: number, endIndex: number, content: string, tagName: string} | null}  null\n */\nfunction findTagFromEndByRegex(\n  text: string,\n  tagNameRegex: RegExp,\n  endIndex: number = text.length,\n): { startIndex: number; endIndex: number; content: string; tagName: string } | null {\n  const closeTagRegex = new RegExp(`</${tagNameRegex.source}>`, 'g');\n  let lastMatch = null;\n  let currentMatch;\n\n  // 1.  endIndex \n  while ((currentMatch = closeTagRegex.exec(text)) !== null) {\n    if (currentMatch.index < endIndex) {\n      lastMatch = currentMatch;\n    } else {\n      break;\n    }\n  }\n\n  if (!lastMatch) {\n    return null;\n  }\n\n  const tagName = lastMatch[1];\n  const closeIndex = lastMatch.index;\n\n  // 2. \n  const openTag = `<${tagName}>`;\n  const openIndex = text.lastIndexOf(openTag, closeIndex);\n\n  if (openIndex === -1) {\n    // \n    return findTagFromEndByRegex(text, tagNameRegex, closeIndex);\n  }\n\n  return {\n    startIndex: openIndex,\n    endIndex: closeIndex + `</${tagName}>`.length,\n    content: text.substring(openIndex + openTag.length, closeIndex),\n    tagName: tagName,\n  };\n}\n\n/**\n *  XML \n * @param {string} text - \n * @param {RegExp} tagNameRegex - \n * @returns {string} \n */\nexport function removeTagsByRegex(text: string, tagNameRegex: RegExp): string {\n  let processedText = text;\n  while (true) {\n    const found = findTagFromEndByRegex(processedText, tagNameRegex);\n    if (!found) {\n      break;\n    }\n    processedText = processedText.slice(0, found.startIndex) + processedText.slice(found.endIndex);\n  }\n  return processedText;\n}\n\n/**\n *  XML \n * @param {string} text - \n * @param {RegExp} [tagNameRegex] - \n * @returns {boolean}  true false\n */\nexport function containsXMLTags(text: string, tagNameRegex?: RegExp): boolean {\n  const regex = tagNameRegex ? new RegExp(`</?${tagNameRegex.source}>`) : /<\\/?\\s*[a-zA-Z][a-zA-Z0-9_]*\\s*>/;\n  return regex.test(text);\n}\n\n/**\n *  XML \n * @param {string} text - \n * @param {RegExp} tagNameRegex - \n * @returns {string[]} \n */\nexport function extractBlocksByRegex(text: string, tagNameRegex: RegExp): string[] {\n  const blocks: string[] = [];\n  let searchIndex = text.length;\n\n  while (searchIndex > 0) {\n    const found = findTagFromEndByRegex(text, tagNameRegex, searchIndex);\n    if (!found) {\n      break;\n    }\n    blocks.unshift(found.content); // \n    searchIndex = found.startIndex;\n  }\n\n  return blocks;\n}\n\n/**\n * \n * \n *\n * @param {string} text - \n * @param {RegExp} targetTagNameRegex - \n * @returns {string[]} \n */\nexport function extractValidBlocks(text: string, targetTagNameRegex: RegExp): string[] {\n  // 1.  \"think\" \n  const thinkRegex = createTagRegex('think', 'contains');\n  const processedText = removeTagsByRegex(text, thinkRegex);\n\n  // 2.  tag\n  const extracted = extractBlocksByRegex(processedText, targetTagNameRegex);\n\n  const validBlocks: string[] = [];\n  for (const block of extracted) {\n    // 3. \n    const cleanedBlock = stripCodeFence(block.trim());\n\n    // XML\n    if (containsXMLTags(cleanedBlock)) {\n      continue;\n    }\n\n    if (cleanedBlock) {\n      validBlocks.push(cleanedBlock);\n    }\n  }\n\n  return validBlocks;\n}\n","/**\n * @file ERA  -  (MK) \n * @description\n *  ERA Message Key, MK\n *\n * ****:\n * ERA  SillyTavern message variables\n * MK \n *\n * MK  **ERA ** ****\n * ERA \n * \n *\n * **MK **:\n * MK  XML  `<era_data>` **** JSON \n *  `=`  AI  JSON \n * e.g., `<era_data>{\"era-message-key\"=\"era_mk_...\",\"era-message-type\"=\"user\"}</era_data>`\n *  HTML  `<!-- -->` MK \n *\n * ****:\n * 1. ****: `ensureMessageKey`  MK\n *     MK \n * 2. ****: `readMessageKey`  MK\n * 3. ****: `updateLatestSelectedMk`  `SelectedMks` \n *    \n */\n\n'use strict';\n\nimport { ERA_DATA_REGEX, ERA_DATA_TAG, SEL_PATH } from '../../utils/constants';\nimport { updateEraMetaData } from '../../utils/era_data';\nimport { Logger } from '../../utils/log';\nimport { getMessageContent, updateMessageContent } from '../../utils/message';\nimport { rnd } from '../../utils/string';\n\nconst logger = new Logger();\n\n/**\n * @type {EraData} -  `<era_data>` \n */\ntype EraData = {\n  'era-message-key': string;\n  'era-message-type': 'user' | 'assistant';\n};\n\n// ==================================================================\n// \n// ==================================================================\n\n/**\n *  `EraData` \n * @param {string | null | undefined} messageContent - \n * @returns {EraData | null}  `EraData`  null\n */\nfunction parseEraData(messageContent: string | null | undefined): EraData | null {\n  if (typeof messageContent !== 'string') {\n    return null;\n  }\n  const match = messageContent.match(ERA_DATA_REGEX);\n  if (!match || !match[1]) {\n    return null;\n  }\n  try {\n    //  MK  `{\"key\"=\"value\"}`  JSON.parse\n    // \n    const customFormatBlock = match[1];\n    const keyMatch = customFormatBlock.match(/\"era-message-key\"\\s*=\\s*\"(.*?)\"/);\n    const typeMatch = customFormatBlock.match(/\"era-message-type\"\\s*=\\s*\"(.*?)\"/);\n\n    if (keyMatch?.[1] && typeMatch?.[1]) {\n      return {\n        'era-message-key': keyMatch[1],\n        'era-message-type': typeMatch[1] as 'user' | 'assistant',\n      };\n    }\n    return null;\n  } catch {\n    return null;\n  }\n}\n\n// ==================================================================\n// \n// ==================================================================\n\n/**\n * ** MK** MK\n * swipe\n *  `mes``message`  `swipes`  MK \n * @param {TavernMessage} msg - \n * @returns {string}  MK\n */\nexport function readMessageKey(msg: any): string {\n  if (!msg) return '';\n\n  //  getMessageContent  MK\n  const content = getMessageContent(msg);\n\n  const mk = parseEraData(content)?.['era-message-key'] || '';\n\n  //  swipes  MK\n  //  ensureMessageKey  MK\n  return mk;\n\n  /*\n   * ==================================================================\n   *  - 2025/10/02\n   *\n   *  swipe \n   *  MK  swipe \n   *\n   * ****:\n   *  ERA  swipe  swipe  MK\n   *  MK  swipe  MK\n   *  `ensureMessageKey`  MK MK\n   *  swipe \n   *\n   *  `readMessageKey` \n   * ==================================================================\n   */\n  // const mkFromCurrent = parseEraData(content)?.['era-message-key'];\n  // if (mkFromCurrent) {\n  //   return mkFromCurrent;\n  // }\n  // if (Array.isArray(msg.swipes)) {\n  //   for (const swipeContent of msg.swipes) {\n  //     const mkFromSwipe = parseEraData(swipeContent)?.['era-message-key'];\n  //     if (mkFromSwipe) {\n  //       return mkFromSwipe;\n  //     }\n  //   }\n  // }\n  // const mkFromMessage = parseEraData(msg.message)?.['era-message-key'];\n  // if (mkFromMessage) {\n  //   return mkFromMessage;\n  // }\n  // return '';\n}\n\n/**\n * ** MK **\n *  MK MK \n * /MK\n *\n * @param {TavernMessage} msg -  ( `message_id`, `role`,  `message`  `swipes`)\n * @returns {Promise<{mk: string, isNew: boolean}>}  MK  MK\n */\nexport async function ensureMessageKey(msg: any): Promise<{ mk: string; isNew: boolean }> {\n  if (!msg || typeof msg.message_id !== 'number' || !msg.role) {\n    logger.warn('ensureMessageKey', `Keymsg=${JSON.stringify(msg)}`);\n    return { mk: '', isNew: false };\n  }\n\n  // 1.  readMessageKey  MK\n  const existingMk = readMessageKey(msg);\n  if (existingMk) {\n    return { mk: existingMk, isNew: false }; // \n  }\n\n  // 2.  MK \n  const newMk = `era_mk_${Date.now()}_${rnd()}`;\n  const messageType = msg.role === 'user' ? 'user' : 'assistant';\n  const dataString = `<${ERA_DATA_TAG}>{\"era-message-key\"=\"${newMk}\",\"era-message-type\"=\"${messageType}\"}</${ERA_DATA_TAG}>`;\n\n  logger.log('ensureMessageKey', ` (ID: ${msg.message_id}) Key: ${newMk}`);\n\n  // 3. \n  const currentContent = getMessageContent(msg) ?? '';\n  const newContent = dataString + '\\n' + currentContent;\n\n  //  utils.ts  swipes \n  await updateMessageContent(msg, newContent);\n\n  return { mk: newMk, isNew: true };\n}\n\n/**\n * ** MK**\n *  MK\n *  ERA \n * @returns {Promise<{mk: string, message_id: number | null, isNewKey: boolean}>}  MK ID  MK\n */\nexport const ensureMkForLatestMessage = async (): Promise<{\n  mk: string;\n  message_id: number | null;\n  isNewKey: boolean;\n}> => {\n  try {\n    const msg = getChatMessages(-1, { include_swipes: true })?.[0];\n    // \n    logger.debug('ensureMkForLatestMessage', ` (msg): ${JSON.stringify(msg)}`);\n\n    if (!msg || typeof msg.message_id !== 'number') {\n      logger.warn('ensureMkForLatestMessage', 'ID');\n      return { mk: '', message_id: null, isNewKey: false };\n    }\n\n    // ensureMessageKey  MK \n    const { mk, isNew } = await ensureMessageKey(msg);\n    logger.log('ensureMkForLatestMessage', ` ${msg.message_id}  MK  (: ${isNew})`);\n    return { mk, message_id: msg.message_id, isNewKey: isNew };\n  } catch (err: any) {\n    logger.error('ensureMkForLatestMessage', `MK: ${err?.message || err}`, err);\n    return { mk: '', message_id: null, isNewKey: false };\n  }\n};\n\n/**\n * ** MK**\n *  `SelectedMks` ****\n * `SelectedMks` \n * @returns {Promise<void>}\n */\nexport const updateLatestSelectedMk = async () => {\n  const msg = getChatMessages(-1, { include_swipes: true })?.[0];\n  if (!msg || typeof msg.message_id !== 'number') return;\n\n  //  MK \n  const { mk: MK } = await ensureMessageKey(msg);\n  if (!MK) return;\n\n  //  ERAMetaData  SelectedMks \n  await updateEraMetaData(meta => {\n    const selectedMks = _.get(meta, SEL_PATH, []);\n    // \n    if (selectedMks[msg.message_id] !== MK) {\n      selectedMks[msg.message_id] = MK;\n      _.set(meta, SEL_PATH, selectedMks);\n    }\n    return meta;\n  });\n};\n","import { updateScriptSettings } from '../utils/era_data';\nimport { Logger } from '../utils/log';\n\nconst logger = new Logger('scriptIniter-settings');\n\n/**\n * \n * \n */\nexport async function initializeExternalSettings() {\n  logger.log('initializeExternalSettings', '...');\n  await updateScriptSettings(async settings => {\n    // updateScriptSettings \n    logger.debug('initializeExternalSettings', ':', settings);\n    return settings;\n  });\n  logger.log('initializeExternalSettings', '');\n}\n\n//  app_ready \n$(() => {\n  initializeExternalSettings();\n});\n","/**\n * @file ERA  - \n */\n\n'use strict';\n\nimport { Logger } from './log';\n\nconst logger = new Logger();\n\nconst ESCAPE_MAP: { [key: string]: string } = {\n  '.': '__DOT__',\n  '\"': '__DQUOTE__',\n  \"'\": '__SQUOTE__',\n};\n\nconst UNESCAPE_MAP: { [key: string]: string } = _.invert(ESCAPE_MAP);\n\nconst escapeRegex = new RegExp(Object.keys(ESCAPE_MAP).map(_.escapeRegExp).join('|'), 'g');\nconst unescapeRegex = new RegExp(Object.values(ESCAPE_MAP).map(_.escapeRegExp).join('|'), 'g');\n\n/**\n * \n * @param data - \n * @returns - \n */\nexport function escapeEraData<T>(data: T): T {\n  if (Array.isArray(data)) {\n    return data.map(item => escapeEraData(item)) as any;\n  }\n  if (_.isPlainObject(data)) {\n    const newObj: { [key: string]: any } = {};\n    for (const key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key)) {\n        const escapedKey = key.replace(escapeRegex, match => ESCAPE_MAP[match]);\n        newObj[escapedKey] = escapeEraData((data as any)[key]);\n      }\n    }\n    return newObj as any;\n  }\n  if (typeof data === 'string') {\n    return data.replace(escapeRegex, match => ESCAPE_MAP[match]) as any;\n  }\n  return data;\n}\n\n/**\n * \n * @param data - \n * @returns - \n */\nexport function unescapeEraData<T>(data: T): T {\n  if (Array.isArray(data)) {\n    return data.map(item => unescapeEraData(item)) as any;\n  }\n  if (_.isPlainObject(data)) {\n    const newObj: { [key: string]: any } = {};\n    for (const key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key)) {\n        const unescapedKey = key.replace(unescapeRegex, match => UNESCAPE_MAP[match]);\n        newObj[unescapedKey] = unescapeEraData((data as any)[key]);\n      }\n    }\n    return newObj as any;\n  }\n  if (typeof data === 'string') {\n    return data.replace(unescapeRegex, match => UNESCAPE_MAP[match]) as any;\n  }\n  return data;\n}\n\n/**\n * Plain Object\n * nullDate  false\n * @param {*} v - \n * @returns {boolean}  true false\n */\nexport const isPO = (v: any): v is Record<string, any> => _.isPlainObject(v);\n\n/**\n * \n * \n * @param {*} v - \n * @returns {*} \n */\nexport function sanitizeArrays(v: any): any {\n  if (Array.isArray(v)) {\n    // \n    return v.map(e => (Array.isArray(e) || _.isPlainObject(e) ? JSON.stringify(e) : e));\n  } else if (_.isPlainObject(v)) {\n    // \n    const o: { [key: string]: any } = {};\n    for (const k in v) o[k] = sanitizeArrays(v[k]);\n    return o;\n  } else {\n    // \n    return v;\n  }\n}\n\n/**\n *  JSON \n * \n * @param {*} o - \n * @returns {string}  JSON \n */\nexport const J = (o: any): string => {\n  try {\n    return JSON.stringify(o, null, 2); //  2 \n  } catch (e: any) {\n    return `<<stringify: ${e?.message || e}>>`;\n  }\n};\n\n/**\n * \n *  `_.merge` \n * \n * @param {*} base - \n * @param {*} patch - \n * @returns {*} \n */\nexport function mergeReplaceArray(base: any, patch: any): any {\n  //  _.cloneDeep \n  return _.mergeWith(_.cloneDeep(base), _.cloneDeep(patch), (a: any, b: any) => {\n    // b\n    if (Array.isArray(a) || Array.isArray(b)) return b;\n    //  undefined  _.merge \n    return undefined;\n  });\n}\n\n/**\n *  `EditLog` \n * `EditLog` JSON\n * @param {*} raw -  `EditLog` \n * @returns {any[]}  `EditLog` \n */\nexport function parseEditLog(raw: any): any[] {\n  if (Array.isArray(raw)) return raw;\n  if (raw && typeof raw === 'object') return [raw]; // \n  if (typeof raw === 'string') {\n    const s = raw.replace(/^\\s*```(?:json)?\\s*|\\s*```\\s*$/g, ''); // \n    try {\n      const arr = JSON.parse(s);\n      return Array.isArray(arr) ? arr : [];\n    } catch {\n      return [];\n    }\n  }\n  return [];\n}\n\n/**\n * \n *\n * ****:\n *  `inString` \n * \n *\n * 1.  `\"``inString` \n * 2.  `inString`  `true` URL `//`  `/*` \n * 3.  `inString`  `false``//`, `/*`, `<!--`\n * 4. \n * 5. \n *\n * @param str - \n * @returns \n */\nfunction stripComments(str: string): string {\n  if (!str) return '';\n\n  let result = '';\n  let inString = false; // \n\n  for (let i = 0; i < str.length; i++) {\n    const char = str[i];\n\n    //  `\\\"`\n    if (char === '\"' && (i === 0 || str[i - 1] !== '\\\\')) {\n      inString = !inString;\n    }\n\n    // \n    if (inString) {\n      result += char;\n      continue;\n    }\n\n    // ---  ---\n    const nextChar = str[i + 1];\n\n    //  `//`\n    if (char === '/' && nextChar === '/') {\n      const endOfLine = str.indexOf('\\n', i + 2);\n      if (endOfLine === -1) {\n        // \n        break;\n      }\n      //  `i` \n      result += '\\n';\n      i = endOfLine;\n      continue;\n    }\n\n    //  `/* ... */`\n    if (char === '/' && nextChar === '*') {\n      const endOfComment = str.indexOf('*/', i + 2);\n      if (endOfComment === -1) {\n        // \n        break;\n      }\n      //  `i` \n      i = endOfComment + 1;\n      continue;\n    }\n\n    //  HTML  `<!-- ... -->`\n    if (char === '<' && str.substring(i, i + 4) === '<!--') {\n      const endOfComment = str.indexOf('-->', i + 4);\n      if (endOfComment === -1) {\n        // \n        break;\n      }\n      i = endOfComment + 2;\n      continue;\n    }\n\n    // \n    result += char;\n  }\n  return result;\n}\n\n/**\n *  JSON  JSONL \n *  AI \n *\n * @param {string} str - \n * @returns {any[]} \n */\nexport function parseJsonl(str: string): any[] {\n  const objects: any[] = [];\n  if (!str || typeof str !== 'string') {\n    return objects;\n  }\n\n  //  JSON \n  //  `/\\/\\/.*/g` URL \"https://...\" `//`\n  //  JSON `stripComments` \n  const strWithoutComments = stripComments(str);\n  const trimmedStr = strWithoutComments.trim();\n\n  let braceCount = 0; // \n  let startIndex = -1; //  JSON \n  let inString = false; // \n\n  for (let i = 0; i < trimmedStr.length; i++) {\n    const char = trimmedStr[i];\n\n    //  inString \n    if (char === '\"' && (i === 0 || trimmedStr[i - 1] !== '\\\\')) {\n      inString = !inString;\n    }\n\n    // \n    if (inString) continue;\n\n    if (char === '{') {\n      if (braceCount === 0) {\n        //  JSON \n        startIndex = i;\n      }\n      braceCount++;\n    } else if (char === '}') {\n      if (braceCount > 0) {\n        braceCount--;\n        if (braceCount === 0 && startIndex !== -1) {\n          //  JSON \n          const jsonString = trimmedStr.substring(startIndex, i + 1);\n          try {\n            const obj = JSON.parse(jsonString);\n            objects.push(obj);\n          } catch (e: any) {\n            // \n            logger.error(`JSONL : ${e?.message || e}. : ${jsonString}`, e);\n          }\n          // \n          startIndex = -1;\n        }\n      }\n    }\n  }\n  return objects;\n}\n","'use strict';\n\nimport { LOGS_PATH, SEL_PATH, ERA_EVENT_EMITTER } from '../../utils/constants';\nimport { unescapeEraData } from '../../utils/data';\nimport { getEraData, removeMetaFields } from '../../utils/era_data';\nimport { Logger } from '../../utils/log';\nimport { DispatcherPayload } from '../types';\n\nconst logger = new Logger();\n\n// ==================================================================\n// API \n// ==================================================================\n\n/**\n *  lodash.debounce  API \n *  API \n */\nexport const debouncedEmitApiWrite = _.debounce(\n  () => {\n    eventEmit(ERA_EVENT_EMITTER.API_WRITE);\n    logger.log('debouncedEmitApiWrite', ` ${ERA_EVENT_EMITTER.API_WRITE} `);\n  },\n  50, // API  50 \n  { leading: false, trailing: true },\n);\n\n// ==================================================================\n// \n// ==================================================================\n\n/**\n * ****  `era:writeDone` \n * \n * \n *\n * @param {DispatcherPayload} payload - \n */\nexport function emitWriteDoneEvent(payload: DispatcherPayload) {\n  //  ERA \n  const { stat, meta } = getEraData();\n  const statWithoutMeta = removeMetaFields(stat);\n  logger.debug('emitWriteDoneEvent', ' ERA ', { stat, meta, statWithoutMeta });\n\n  //  WriteDonePayload\n  const fullPayload = {\n    ...payload,\n    stat: unescapeEraData(stat),\n    statWithoutMeta: unescapeEraData(statWithoutMeta),\n    selectedMks: _.get(meta, SEL_PATH, []),\n    editLogs: _.get(meta, LOGS_PATH, {}),\n  };\n\n  logger.debug('emitWriteDoneEvent', '', {\n    inputPayload: payload,\n    fullPayload: fullPayload,\n  });\n\n  eventEmit(ERA_EVENT_EMITTER.WRITE_DONE, fullPayload);\n  logger.log(\n    'emitWriteDoneEvent',\n    ` ${ERA_EVENT_EMITTER.WRITE_DONE} : ${JSON.stringify(\n      payload.actions,\n    )}, MK: ${payload.mk}, MsgID: ${payload.message_id}, : ${payload.consecutiveProcessingCount}`,\n  );\n}\n","/**\n * @file ERA  -  API \n * @description\n *  ERA \n *\n * ****:\n * ERA  ERA ****\n * `eventEmit(eventName, eventData)` \n *\n * `index.ts`  `era:*`  `event_queue.ts` \n *  `insertByObject`\n *\n *  AI \n * `<VariableInsert>`  `<VariableEdit>`  `setChatMessages` \n *  `character_message_rendered`  ERA \n *  API  ERA \n */\n\nimport { J } from '../../../utils/data';\nimport { Logger } from '../../../utils/log';\nimport { findLastAiMessage, getMessageContent, updateMessageContent } from '../../../utils/message';\nimport { debouncedEmitApiWrite, emitWriteDoneEvent } from '../../emitters/events';\nimport { DispatcherPayload } from '../../types';\n\nconst logger = new Logger();\n\n// API \ninterface ApiWriteJob {\n  blockTag: 'VariableInsert' | 'VariableEdit' | 'VariableDelete';\n  blockContent: object;\n}\n\n// ==================================================================\n// API \n// ( `constants.ts`  `ERA_API_EVENTS` )\n// ==================================================================\n\n/**\n * @section API Event: 'era:insertByObject'\n * @description \n * @param {object} detail - \n * @example\n * eventEmit('era:insertByObject', {\n *   player: { name: \"\", hp: 100, inventory: [] }\n * });\n */\n\n/**\n * @section API Event: 'era:updateByObject'\n * @description \n * @param {object} detail - \n * @example\n * eventEmit('era:updateByObject', {\n *   player: { hp: 120, status: 'blessed' }\n * });\n */\n\n/**\n * @section API Event: 'era:insertByPath'\n * @description \n * @param {object} detail - \n * @param {string} detail.path - \n * @param {*} detail.value - \n * @example\n * eventEmit('era:insertByPath', {\n *   path: 'player.inventory[0]',\n *   value: { name: '', count: 3 }\n * });\n */\n\n/**\n * @section API Event: 'era:updateByPath'\n * @description \n * @param {object} detail - \n * @param {string} detail.path - \n * @param {*} detail.value - \n * @example\n * eventEmit('era:updateByPath', {\n *   path: 'player.hp',\n *   value: '+=10'\n * });\n */\n\n/**\n * @section API Event: 'era:deleteByObject'\n * @description \n * @param {object} detail - \n * @example\n * //  player.gold gold  {}\n * eventEmit('era:deleteByObject', { player: { gold: {} } });\n *\n * //  player \n * eventEmit('era:deleteByObject', { player: {} });\n *\n * // ****:  player  gold  mana \n * //  gold  mana player \n * //  `eventEmit('era:deleteByObject', { player: {} })` \n * eventEmit('era:deleteByObject', { player: { gold: {}, mana: {} } });\n */\n\n/**\n * @section API Event: 'era:deleteByPath'\n * @description \n * @param {object} detail - \n * @param {string} detail.path - \n * @example\n * eventEmit('era:deleteByPath', { path: 'player.inventory[0]' });\n */\n\n// ==================================================================\n// \n// ==================================================================\n\n/**\n *  AI \n * \n * @returns {Promise<any | null>}  AI  null\n */\n\n/**\n *  API \n *  AI  'era:apiWrite' \n * @param {ApiWriteJob} job - \n */\nasync function performApiWrite(job: ApiWriteJob) {\n  // 1. \n  const contentString = J(job.blockContent);\n  const block = `\\n<${job.blockTag}>\\n${contentString}\\n</${job.blockTag}>`;\n\n  // 2. \n  const lastAiMessage = await findLastAiMessage();\n  if (!lastAiMessage) {\n    logger.warn('performApiWrite', ' AI  API ');\n    return;\n  }\n\n  const originalContent = getMessageContent(lastAiMessage) ?? '';\n  const newContent = originalContent + block;\n\n  logger.log('performApiWrite', ` API  (${job.blockTag})  ID ${lastAiMessage.message_id}...`);\n\n  // 3. \n  await updateMessageContent(lastAiMessage, newContent);\n\n  // 4. \n  debouncedEmitApiWrite();\n}\n\n// ==================================================================\n//  ( event_queue.ts )\n// ==================================================================\n\n/**\n * ****  `era:insertByObject` \n * @param {object} data -  `detail` \n */\nexport function insertByObject(data: object) {\n  performApiWrite({ blockTag: 'VariableInsert', blockContent: data });\n}\n\n/**\n * ****  `era:updateByObject` \n * @param {object} data -  `detail` \n */\nexport function updateByObject(data: object) {\n  performApiWrite({ blockTag: 'VariableEdit', blockContent: data });\n}\n\n/**\n * ****  `era:insertByPath` \n * @param {string} path -  `detail`  `path` \n * @param {*} value -  `detail`  `value` \n */\nexport function insertByPath(path: string, value: any) {\n  const block = _.set({}, path, value);\n  performApiWrite({ blockTag: 'VariableInsert', blockContent: block });\n}\n\n/**\n * ****  `era:updateByPath` \n * @param {string} path -  `detail`  `path` \n * @param {*} value -  `detail`  `value` \n */\nexport function updateByPath(path: string, value: any) {\n  const block = _.set({}, path, value);\n  performApiWrite({ blockTag: 'VariableEdit', blockContent: block });\n}\n\n/**\n * ****  `era:deleteByObject` \n * @param {object} data -  `detail` \n */\nexport function deleteByObject(data: object) {\n  performApiWrite({ blockTag: 'VariableDelete', blockContent: data });\n}\n\n/**\n * ****  `era:deleteByPath` \n * @param {string} path -  `detail`  `path` \n */\nexport function deleteByPath(path: string) {\n  // \n  const block = _.set({}, path, {});\n  performApiWrite({ blockTag: 'VariableDelete', blockContent: block });\n}\n\n/**\n * ****  `era:getCurrentVars` \n *  writeDone \n */\nexport function getCurrentVars(payload: DispatcherPayload) {\n  emitWriteDoneEvent(payload);\n}\n","'use strict';\n\nimport {\n  deleteByObject,\n  deleteByPath,\n  getCurrentVars,\n  insertByObject,\n  insertByPath,\n  updateByObject,\n  updateByPath,\n} from './handler';\nimport { ERA_API_EVENTS } from '../../../utils/constants';\nimport { EventJob } from '../../merger';\nimport { ActionsTaken, DispatcherPayload } from '../../types';\n\nexport function handleApiEvent(job: EventJob, actionsTaken: ActionsTaken, payload: DispatcherPayload): void {\n  const { type: eventType, detail } = job;\n  actionsTaken.api = true;\n\n  // API  api.ts \n  if (eventType === ERA_API_EVENTS.INSERT_BY_OBJECT) insertByObject(detail);\n  else if (eventType === ERA_API_EVENTS.UPDATE_BY_OBJECT) updateByObject(detail);\n  else if (eventType === ERA_API_EVENTS.INSERT_BY_PATH) insertByPath(detail.path, detail.value);\n  else if (eventType === ERA_API_EVENTS.UPDATE_BY_PATH) updateByPath(detail.path, detail.value);\n  else if (eventType === ERA_API_EVENTS.DELETE_BY_OBJECT) deleteByObject(detail);\n  else if (eventType === ERA_API_EVENTS.DELETE_BY_PATH) deleteByPath(detail.path);\n  else if (eventType === ERA_API_EVENTS.GET_CURRENT_VARS) getCurrentVars(payload);\n}\n","/**\n * @file ERA  - \n * @description\n *  `<VariableDelete>`  `EditLog`\n *\n * ****:\n * - ****:  `{}` \n * - ****:  `$meta.necessary` \n * - ****: `necessary`  `necessary` \n * - ****:  `EditLog`\n */\n'use strict';\n\nimport { updateEraStatData } from '../../utils/era_data';\nimport { Logger } from '../../utils/log';\n\nconst logger = new Logger();\n\n/**\n * ****\n *  `<VariableDelete>`  `patchObj` \n *\n * @param {any} statData -  ( `stat_data`)\n * @param {string} basePath - \n * @param {any} patchObj -  `basePath` \n * @param {any[]} editLog - \n */\nfunction applyDeleteAtLevel(statData: any, basePath: string, patchObj: any, editLog: any[]) {\n  // --- 1.  ---\n  const currentNodeInVars = basePath ? _.get(statData, basePath) : statData;\n\n  if (currentNodeInVars === undefined) {\n    logger.warn('applyDeleteAtLevel', `VariableDelete  -> ${basePath || '(root)'}`);\n    return;\n  }\n\n  const necessary = _.get(currentNodeInVars, ['$meta', 'necessary']);\n\n  // \n  const metaPatch = _.get(patchObj, '$meta');\n  const isBypassingProtection =\n    // 1:  $meta \n    (_.isPlainObject(metaPatch) && _.isEmpty(metaPatch)) ||\n    // 2:  $meta.necessary \n    _.has(patchObj, ['$meta', 'necessary']);\n\n  // --- 2.  vs  ---\n  if (_.isPlainObject(patchObj) && !_.isEmpty(patchObj)) {\n    // ****\n\n    //  'all' \n    if (necessary === 'all' && !isBypassingProtection) {\n      logger.warn(\n        'applyDeleteAtLevel',\n        `VariableDelete  <${basePath}>  \"necessary: all\" `,\n      );\n      return;\n    }\n\n    // \n    for (const key of Object.keys(patchObj)) {\n      const fullPath = basePath ? `${basePath}.${key}` : key;\n      const subPatchObj = patchObj[key];\n      applyDeleteAtLevel(statData, fullPath, subPatchObj, editLog);\n    }\n    return; // \n  }\n\n  // --- 3.  ---\n  // ( patchObj  null)\n  // ** `basePath`**\n\n  // 'self'  'all' \n  //  '$meta' \n  if (necessary === 'self' || necessary === 'all') {\n    logger.warn(\n      'applyDeleteAtLevel',\n      `VariableDelete  <${basePath}>  \"necessary: ${necessary}\" `,\n    );\n    return;\n  }\n\n  // basePath  ''\n  if (basePath === '') {\n    logger.error('applyDeleteAtLevel', 'VariableDelete ');\n    return;\n  }\n\n  // \n  const valOld = _.cloneDeep(currentNodeInVars);\n  _.unset(statData, basePath);\n  editLog.push({ op: 'delete', path: basePath, value_old: valOld });\n  logger.debug('applyDeleteAtLevel', `: ${basePath}`);\n}\n\n/**\n *  `<VariableDelete>` \n *\n * @param {any[]} allDeletes -  delete \n * @param {any[]} editLog - \n */\nexport async function processDeleteBlocks(allDeletes: any[], editLog: any[]) {\n  if (allDeletes.length > 0) {\n    for (const deleteRoot of allDeletes) {\n      if (!_.isPlainObject(deleteRoot) || _.isEmpty(deleteRoot)) continue;\n      try {\n        await updateEraStatData(stat => {\n          logger.debug('processDeleteBlocks', ` deleteRoot: ${JSON.stringify(deleteRoot)}`);\n          // \n          applyDeleteAtLevel(stat, '', deleteRoot, editLog);\n          return stat;\n        });\n      } catch (e: any) {\n        logger.error('processDeleteBlocks', ` deleteRoot : ${e?.message || e}`, e);\n      }\n    }\n    logger.log('processDeleteBlocks', ' VariableDelete ');\n  }\n}\n","'use strict';\n\nimport { mergeReplaceArray } from '../../../utils/data';\nimport { Logger } from '../../../utils/log';\n\nconst logger = new Logger();\n\n/**\n * ****\n *\n * \n *\n * @param inheritedContent - \n * @param parentNodeData -  **** \n * @returns {any} -  `null`\n */\nexport function resolveTemplate(inheritedContent: any, parentNodeData: any): any {\n  // 1.  $template\n  const varsContent = _.get(parentNodeData, '$template');\n\n  logger.debug(\n    'resolveTemplate',\n    `:\\n    - : ${JSON.stringify(inheritedContent)}\\n    - : ${JSON.stringify(\n      varsContent,\n    )}`,\n  );\n\n  // 2.  ( > )\n  let mergedContent: any = {};\n  mergedContent = mergeReplaceArray(mergedContent, inheritedContent);\n  mergedContent = mergeReplaceArray(mergedContent, varsContent);\n\n  logger.debug('resolveTemplate', `: ${JSON.stringify(mergedContent)}`);\n\n  if (_.isEmpty(mergedContent)) {\n    return null;\n  }\n\n  return mergedContent;\n}\n\n/**\n * ****\n *\n *  (`$template`)  (`key`)\n *  `key` \n *\n * @example\n * // :\n * const parentTplContent = {\n *   \"$template\": { \"hp\": 10, \"mana\": 100, \"a\": { \"d\": 1 } },\n *   \"lili\": { \"hp\": 15, \"class\": \"warrior\", \"a\": { \"c\": 1 } }\n * };\n * const key = \"lili\";\n * //  ():\n * // { \"hp\": 15, \"mana\": 100, \"class\": \"warrior\", \"a\": { \"c\": 1, \"d\": 1 } }\n *\n * @param parentTplContent -  `$template`  `key` \n * @param key - \n * @returns {any} -  `undefined`\n */\nexport function getInheritedTemplateContent(parentTplContent: any, key: string): any {\n  if (!parentTplContent) return undefined;\n\n  //  1: \n  const prototypeContent = _.get(parentTplContent, '$template');\n\n  //  2:  key \n  const specificContent = _.get(parentTplContent, key);\n\n  //  3: \n  if (_.isPlainObject(prototypeContent) && _.isPlainObject(specificContent)) {\n    logger.debug(\n      'getInheritedTemplateContent',\n      ` \"${key}\" \\n      - : ${JSON.stringify(\n        prototypeContent,\n      )}\\n      - : ${JSON.stringify(specificContent)}`,\n    );\n    //  mergeReplaceArray \n    const merged = mergeReplaceArray(_.cloneDeep(prototypeContent), specificContent);\n    logger.debug('getInheritedTemplateContent', `  - : ${JSON.stringify(merged)}`);\n    return merged;\n  } else if (_.isPlainObject(specificContent)) {\n    logger.debug(\n      'getInheritedTemplateContent',\n      ` \"${key}\" : ${JSON.stringify(specificContent)}`,\n    );\n    return specificContent;\n  } else if (_.isPlainObject(prototypeContent)) {\n    logger.debug(\n      'getInheritedTemplateContent',\n      ` \"${key}\" : ${JSON.stringify(prototypeContent)}`,\n    );\n    return prototypeContent;\n  }\n\n  logger.debug('getInheritedTemplateContent', ` \"${key}\" `);\n  return undefined;\n}\n\n/**\n * ****\n *\n * \n *\n * @param tplContent - \n * @param patchObj - \n * @returns {any} - \n */\nexport function applyTemplateToPatch(tplContent: any, patchObj: any): any {\n  logger.debug(\n    'applyTemplateToPatch',\n    `[] : ${JSON.stringify(tplContent)}, : ${JSON.stringify(patchObj)}`,\n  );\n\n  if (!_.isPlainObject(patchObj)) {\n    logger.debug('applyTemplateToPatch', `[] `);\n    return patchObj;\n  }\n  if (!tplContent) {\n    logger.debug('applyTemplateToPatch', `[] `);\n    return patchObj;\n  }\n\n  // \n  if (_.isEmpty(patchObj)) {\n    logger.debug('applyTemplateToPatch', ``);\n    return _.cloneDeep(tplContent);\n  }\n\n  // \n  const composed = mergeReplaceArray(_.cloneDeep(tplContent), patchObj);\n  logger.debug('applyTemplateToPatch', `: ${JSON.stringify(composed)}`);\n  return composed;\n}\n","/**\n * @file ERA  - \n * @description\n *  `<VariableInsert>`  `EditLog`\n *\n * ****:\n * - ****: \n * - ****: `applyInsertAtLevel` \n *   \n * - ****: \n *   \n */\n'use strict';\n\nimport { sanitizeArrays } from '../../../utils/data';\nimport { updateEraStatData } from '../../../utils/era_data';\nimport { Logger } from '../../../utils/log';\nimport { applyTemplateToPatch, getInheritedTemplateContent, resolveTemplate } from './template';\n\nconst logger = new Logger();\n\n/**\n * ****\n *  `<VariableInsert>` ****\n *\n * ****:\n * 1. ****\n * 2. **** `player.inventory` `inventory`\n *     `insert` \n * 3. ****\n * 4. **** `$template` \n *\n * @param {any} statData -  ( `stat_data`)\n * @param {string} basePath - \n * @param {any} patchObj - \n * @param {any[]} editLog - \n * @param {any} inheritedContent - \n * @param {any} parentData -  `statData` \n */\nexport function applyInsertAtLevel(\n  statData: any,\n  basePath: string,\n  patchObj: any,\n  editLog: any[],\n  inheritedContent: any,\n  parentData: any, // \n) {\n  // --- 1.  ---\n  //  resolveTemplate parentData\n  const localTplContent = resolveTemplate(inheritedContent, parentData);\n  logger.debug('applyInsertAtLevel', `[] basePath: \"${basePath || 'root'}\"`, {\n    statData: _.cloneDeep(statData),\n  });\n\n  // --- 2.  ---\n  const currentNodeInVars = basePath ? _.get(statData, basePath) : statData;\n  logger.debug(\n    'applyInsertAtLevel',\n    `[] at path: \"${basePath || 'root'}\". currentNodeInVars :`,\n    currentNodeInVars,\n  );\n\n  // ** (Atomic Insert)**\n  // \n  if (basePath && currentNodeInVars === undefined) {\n    //  applyTemplateToPatch \n    const composed = applyTemplateToPatch(localTplContent, patchObj);\n\n    const finalValue = sanitizeArrays(composed); //  null \n    logger.debug('applyInsertAtLevel', ` at ${basePath}:\\n${JSON.stringify(finalValue, null, 2)}`);\n    _.set(statData, basePath, finalValue); // \n    editLog.push({ op: 'insert', path: basePath, value_new: _.cloneDeep(finalValue) });\n    logger.debug('applyInsertAtLevel', `: ${basePath}`);\n    return; // \n  }\n\n  // ** (Recursive Supplement)**\n  // \n  if (_.isPlainObject(currentNodeInVars) && _.isPlainObject(patchObj)) {\n    logger.debug(\n      'applyInsertAtLevel',\n      `[] at path: \"${basePath || 'root'}\"\n      -  (localTplContent): ${JSON.stringify(localTplContent)}`,\n    );\n    for (const key of Object.keys(patchObj)) {\n      const subPath = basePath ? `${basePath}.${key}` : key;\n      const subPatch = patchObj[key];\n      //  getInheritedTemplateContent\n      const subInheritedContent = getInheritedTemplateContent(localTplContent, key);\n      logger.debug(\n        'applyInsertAtLevel',\n        `  - : \"${key}\"\n      -  (subInheritedContent): ${JSON.stringify(subInheritedContent)}`,\n      );\n      //  currentNodeInVars  parentData \n      applyInsertAtLevel(statData, subPath, subPatch, editLog, subInheritedContent, currentNodeInVars);\n    }\n  } else if (basePath) {\n    // ****\n    // \n    // insert \n    logger.warn('applyInsertAtLevel', `VariableInsert  -> ${basePath}`);\n  }\n  //  basePath  patch \n}\n\n/**\n *  `<VariableInsert>` \n *\n * @param {any[]} allInserts -  insert \n * @param {any[]} editLog - \n */\nexport async function processInsertBlocks(allInserts: any[], editLog: any[]) {\n  if (allInserts.length > 0) {\n    await updateEraStatData(async stat => {\n      logger.debug('processInsertBlocks', '[]  processInsertBlocks  statData:', _.cloneDeep(stat));\n      return stat;\n    });\n    /*\n     * N.B.  insertRoot  updateVariablesWith\n     *  <VariableInsert> \n     *  <VariableInsert>  <VariableEdit> \n     *  await updateVariablesWith \n     */\n    for (const insertRoot of allInserts) {\n      if (!_.isPlainObject(insertRoot) || _.isEmpty(insertRoot)) continue;\n      try {\n        await updateEraStatData(stat => {\n          logger.debug('processInsertBlocks', ` insertRoot: ${JSON.stringify(insertRoot)}`);\n          //  ''  null\n          applyInsertAtLevel(stat, '', insertRoot, editLog, null, null);\n          return stat;\n        });\n      } catch (e: any) {\n        logger.error('processInsertBlocks', ` insertRoot : ${e?.message || e}`, e);\n      }\n    }\n    logger.log('processInsertBlocks', ' VariableInsert ');\n  }\n}\n","/**\n * @file ERA  - \n * @description\n *  ERA  `EditLog` \n * \n *\n * ****:\n * - ****: `rollbackByMk`  `EditLog`\n *   `insert` -> `unset`, `update` -> `set to value_old`\n * - ****: `EditLog` `findLatestNewValue` \n *    `EditLog` \n *   \n */\n\n'use strict';\n\nimport { CHAT_SCOPE, LOGS_PATH, META_DATA_PATH, STAT_DATA_PATH } from '../utils/constants';\nimport { J, parseEditLog } from '../utils/data';\nimport { getEraData } from '../utils/era_data';\nimport { Logger } from '../utils/log';\nimport { getMessageContent, isUserMessage } from '../utils/message';\nimport { readMessageKey } from './key/mk';\n\nconst logger = new Logger();\n\n/**\n * ****\n * MK\n *\n * @param {string} MK - \n * @param {boolean} [silent=false] - \n *    `resyncStateOnHistoryChange` \n */\nexport async function rollbackByMk(MK: string, silent = false) {\n  try {\n    logger.log('rollbackByMk', `, MK=${MK}`);\n    await updateVariablesWith(v => {\n      const meta = _.get(v, META_DATA_PATH, {});\n      const stat = _.get(v, STAT_DATA_PATH, {});\n\n      const raw = _.get(meta, [LOGS_PATH, MK]);\n      const arr = parseEditLog(raw);\n      if (!arr || !arr.length) {\n        logger.debug('rollbackByMk', `EditLog `);\n        return v;\n      }\n\n      //  EditLog \n      // \n      for (let i = arr.length - 1; i >= 0; i--) {\n        const e = arr[i];\n        const op = String(e?.op || '').toLowerCase();\n        const path = String(e?.path || '');\n        if (!path) continue;\n\n        if (op === 'insert') {\n          // \n          _.unset(stat, path);\n          continue;\n        }\n        if (op === 'update' || op === 'delete') {\n          // \n          if (typeof e?.value_old === 'undefined') {\n            // \n            _.unset(stat, path);\n          } else {\n            _.set(stat, path, _.cloneDeep(e.value_old));\n          }\n        }\n      }\n\n      _.set(v, STAT_DATA_PATH, stat);\n      return v;\n    }, CHAT_SCOPE);\n    logger.log('rollbackByMk', `MK=${MK}`);\n  } catch (e: any) {\n    logger.error('rollbackByMk', `MK=${MK}  ${e?.message || e}`, e);\n  }\n}\n\n/**\n * ****\n *  (`value_new`)\n *  `applyEditAtLevel`  `update` \n *  `value_old`\n *\n * @param {string} path - \n * @param {number} startMessageId -  ID ****\n * @returns {Promise<any>}  `value_new` `null`\n */\nexport async function findLatestNewValue(path: string, startMessageId: number): Promise<any> {\n  logger?.debug('findLatestNewValue', ` <${path}> ID <${startMessageId}> ...`);\n  const messages = getChatMessages('0-{{lastMessageId}}', { include_swipes: false });\n  if (!messages || messages.length < 1) {\n    logger?.debug('findLatestNewValue', ``);\n    return null;\n  }\n\n  const startIndex = messages.findIndex(m => m.message_id === startMessageId);\n  if (startIndex === -1) {\n    logger?.warn('findLatestNewValue', `ID: ${startMessageId}`);\n    return null;\n  }\n\n  // \n  for (let i = startIndex - 1; i >= 0; i--) {\n    const message = messages[i];\n    const msgId = message?.message_id;\n    logger?.debug(\n      'findLatestNewValue',\n      `[]  (ID: ${msgId}): \"${(getMessageContent(message) || '').substring(0, 100)}...\"`,\n    );\n\n    //  isUserMessage  message_id\n    if (isUserMessage(message) || typeof msgId !== 'number') {\n      continue;\n    }\n\n    const mk = readMessageKey(message);\n    if (!mk) {\n      logger?.debug('findLatestNewValue', `[]  (ID: ${msgId})  MK`);\n      continue; //  MK  AI \n    }\n\n    const { meta: metaData } = getEraData();\n    const editLogRaw = _.get(metaData, [LOGS_PATH, mk]);\n    const editLog = parseEditLog(editLogRaw);\n\n    if (!editLog || editLog.length === 0) {\n      logger?.debug('findLatestNewValue', `[] MK ${mk}  EditLog `);\n      continue; //  EditLog \n    }\n    logger?.debug('findLatestNewValue', `[]  MK ${mk}  EditLog...\\n${J(editLog)}`);\n\n    //  EditLog\n    for (let j = editLog.length - 1; j >= 0; j--) {\n      const logEntry = editLog[j];\n      if (!logEntry || !logEntry.path) continue;\n\n      // Case 1: \n      if (logEntry.path === path) {\n        //  delete \n        //  applyEditAtLevel \n        //  null\n        if (logEntry.op === 'delete') {\n          logger?.error(\n            'findLatestNewValue',\n            `>> ! (ID:${message.message_id}, MK:${mk}) <${path}>  'delete'  update `,\n          );\n          return null;\n        }\n\n        logger?.debug(\n          'findLatestNewValue',\n          `>> ! (ID:${message.message_id}, MK:${mk}) <${path}> : ${J(logEntry.value_new)}`,\n        );\n        return _.cloneDeep(logEntry.value_new);\n      }\n\n      // Case 2:  ( logEntry.path )\n      // ,  \"a.b.c\",  \"a.b\" \n      if (path.startsWith(logEntry.path + '.')) {\n        const subPath = path.substring(logEntry.path.length + 1);\n        const parentNewVal = logEntry.value_new;\n        if (_.isPlainObject(parentNewVal) && _.has(parentNewVal, subPath)) {\n          const foundVal = _.get(parentNewVal, subPath);\n          logger?.debug(\n            'findLatestNewValue',\n            `>> ! (ID:${message.message_id}, MK:${mk}) <${logEntry.path}>,  <${subPath}> : ${J(foundVal)}`,\n          );\n          return _.cloneDeep(foundVal);\n        }\n      }\n    }\n  }\n\n  // \n  logger?.debug('findLatestNewValue', ` ${path}  null `);\n  return null;\n}\n\n/*\n *  calibrate  `resyncStateOnHistoryChange` \n *  ERA  SillyTavern \n *\n * ### \n *\n * @description\n *  ERA ** swipe **\n *\n * ** (Feature, not a bug):**\n *  swipe ( id=2 ) \n * 1. ****:  swipe (id=3) **** swipe (id=2) **** id=2 \n * 2. ****:  swipe 3 **** (id=3) \n * 3. ****:  swipe  swipe 3 **** (id=3)\n * 4. ****:  id=3 id=2  id=3 \n * 5. ****:  `chat_id_changed` \n *\n * **:**\n * \n * 1. `calibrate`  `chat_id_changed` \n * 2.  `oldMK`  ( MK id=2  MK)\n * 3. ****: `applyRollbackByMK(oldMK)`  id=2 \n * 4. ****: `eventEmit('rollback_done_reapply_var_start')` \n * 5. `ApplyVarChange` ******** ( id=3 )\n *\n * ****: (id=2)(id=3)\n */\n","/**\n * @file ERA  - \n * @description\n *  `<VariableEdit>`  `EditLog`\n *\n * ****:\n * - ****: \n * - ****: `EditLog` `applyEditAtLevel` \n *   \n * - ****: \n *   \n */\n'use strict';\n\nimport { sanitizeArrays } from '../../utils/data';\nimport { updateEraStatData } from '../../utils/era_data';\nimport { Logger } from '../../utils/log';\nimport { findLatestNewValue } from '../rollback';\n\nconst logger = new Logger();\n\n/**\n * ****\n *  `<VariableEdit>` ****\n *\n * ****:\n * 1. ****\n * 2. ****\n * 3. **** `EditLog`****\n *     `findLatestNewValue`  `EditLog` \n *    \n *\n * @param {any} statData -  ( `stat_data`)\n * @param {string} basePath - \n * @param {any} patchObj - \n * @param {any[]} editLog - \n * @param {number} messageId -  ID\n * @param {Map<string, any>} intraMessageState - ****\n */\nexport async function applyEditAtLevel(\n  statData: any,\n  basePath: string,\n  patchObj: any,\n  editLog: any[],\n  messageId: number,\n  intraMessageState: Map<string, any>,\n) {\n  // --- 1.  ---\n  const currentNodeInVars = basePath ? _.get(statData, basePath) : statData;\n  if (currentNodeInVars === undefined) {\n    logger.warn('applyEditAtLevel', `VariableEdit  -> ${basePath || '(root)'}`);\n    return;\n  }\n\n  // --- 2.  (`updatable`) ---\n  //  updatable  true ()\n  const isUpdatable = _.get(currentNodeInVars, ['$meta', 'updatable'], true);\n\n  //  updatable  false  true \n  const isBypassingProtection =\n    isUpdatable === false && // \n    _.get(patchObj, ['$meta', 'updatable']) === true; //  true\n\n  // \n  if (isUpdatable === false && !isBypassingProtection) {\n    logger.warn(\n      'applyEditAtLevel',\n      `VariableEdit  <${basePath}>  \"$meta.updatable: false\" `,\n    );\n    return; // \n  }\n\n  // --- 3.  ---\n  // \n  for (const key of Object.keys(patchObj)) {\n    const subPath = basePath ? `${basePath}.${key}` : key;\n    const valNew = patchObj[key];\n\n    // ****\n    // \n    if (_.isPlainObject(valNew)) {\n      await applyEditAtLevel(statData, subPath, valNew, editLog, messageId, intraMessageState);\n      continue; // \n    }\n\n    // ** ()**\n    // \n\n    // \n    if (!_.has(statData, subPath)) {\n      logger.warn('applyEditAtLevel', `VariableEdit  -> ${subPath}`);\n      continue;\n    }\n\n    // a.  (`valOld`)\n    // \n    logger.debug('applyEditAtLevel', `[]  <${subPath}>  ID <${messageId}> ...`);\n    let valOld = await findLatestNewValue(subPath, messageId);\n    if (valOld === null) {\n      valOld = _.get(statData, subPath);\n      logger.debug(\n        'applyEditAtLevel',\n        `[]  stat_data : ${JSON.stringify(valOld)}`,\n      );\n    } else {\n      logger.debug('applyEditAtLevel', `[] : ${JSON.stringify(valOld)}`);\n    }\n\n    const cleaned = sanitizeArrays(valNew); // \n\n    // b. \n    //  EditLog\n    // \n    _.set(statData, subPath, cleaned);\n    editLog.push({\n      op: 'update',\n      path: subPath,\n      value_old: _.cloneDeep(valOld),\n      value_new: _.cloneDeep(cleaned),\n    });\n    // c.  Map\n    intraMessageState.set(subPath, _.cloneDeep(cleaned));\n  }\n}\n\n/**\n *  `<VariableEdit>` \n *\n * @param {any[]} allEdits -  edit \n * @param {any[]} editLog - \n * @param {number} messageId -  ID\n */\nexport async function processEditBlocks(allEdits: any[], editLog: any[], messageId: number) {\n  if (allEdits.length > 0) {\n    const intraMessageState = new Map<string, any>(); // ****\n    // N.B. \n    for (const editRoot of allEdits) {\n      if (!_.isPlainObject(editRoot) || _.isEmpty(editRoot)) continue;\n      try {\n        await updateEraStatData(async stat => {\n          logger.debug('processEditBlocks', ` editRoot: ${JSON.stringify(editRoot)}`);\n          //  '' \n          await applyEditAtLevel(stat, '', editRoot, editLog, messageId, intraMessageState);\n          return stat;\n        });\n      } catch (e: any) {\n        logger.error('processEditBlocks', ` editRoot : ${e?.message || e}`, e);\n      }\n    }\n    logger.log('processEditBlocks', ' VariableEdit ');\n  }\n}\n","/**\n * @file ERA  - \n * @description\n *  ERA  `chat` \n *\n * ****:\n * \n * \n * 1. ****:  AI  `<VariableInsert>`  `<VariableEdit>` \n * 2. ****: \n * 3. ****:  `recursive.ts`  `EditLog`\n * 4. ****: MK `EditLog` \n *     `swipe` \n *\n * ****:\n * - ** MK** MK  `message_key.ts` \n * - `ApplyVarChangeForMessage` ** `EditLog`** `SelectedMks`\n *    `SelectedMks`  `ApplyVarChange` \n *   \n */\n\n'use strict';\n\nimport { readMessageKey } from '../../core/key/mk';\nimport { LOGS_PATH, SEL_PATH } from '../../utils/constants';\nimport { escapeEraData, parseEditLog, parseJsonl } from '../../utils/data';\nimport { updateEraMetaData } from '../../utils/era_data';\nimport { Logger } from '../../utils/log';\nimport { findLastAiMessage, getMessageContent, isUserMessage } from '../../utils/message';\nimport { createTagRegex, extractValidBlocks } from '../../utils/string';\nimport { processDeleteBlocks } from './delete';\nimport { processInsertBlocks } from './insert/insert';\nimport { processEditBlocks } from './update';\n\nconst logger = new Logger();\n\n/**\n * **** \n * \n *\n * @param {TavernMessage} msg - \n * @returns {Promise<string | null>}  MK null\n */\nexport const ApplyVarChangeForMessage = async (msg: any): Promise<string | null> => {\n  logger.debug('ApplyVarChangeForMessage', `...`, { msg });\n  try {\n    if (!msg || typeof msg.message_id !== 'number') {\n      logger.warn('ApplyVarChangeForMessage', ' message_id');\n      return null;\n    }\n\n    const messageId = msg.message_id;\n    //  MK `ensureMessageKey` \n    const MK = readMessageKey(msg);\n\n    //  MK MK\n    if (!MK) {\n      logger.debug('ApplyVarChangeForMessage', ` (ID: ${messageId})  MK`);\n      return null;\n    }\n\n    //  MK\n    if (isUserMessage(msg)) {\n      logger.debug('ApplyVarChangeForMessage', ` (ID: ${messageId})  MK`);\n      return MK;\n    }\n\n    const rawContent = getMessageContent(msg) || '';\n\n    // 1. \n    const insertBlocks = extractValidBlocks(rawContent, createTagRegex('VariableInsert', 'exact'));\n    const editBlocks = extractValidBlocks(rawContent, createTagRegex('VariableEdit', 'exact'));\n    const deleteBlocks = extractValidBlocks(rawContent, createTagRegex('VariableDelete', 'exact'));\n\n    // \n    logger.debug('ApplyVarChangeForMessage', 'delete', deleteBlocks);\n\n    if (!insertBlocks.length && !editBlocks.length && !deleteBlocks.length) {\n      logger.debug('ApplyVarChangeForMessage', ` (ID: ${messageId}) `);\n    }\n\n    const rawInserts = insertBlocks.flatMap((s: string) => parseJsonl(s));\n    const rawEdits = editBlocks.flatMap((s: string) => parseJsonl(s));\n    const rawDeletes = deleteBlocks.flatMap((s: string) => parseJsonl(s));\n\n    //  JSONL \n    //logger.debug('ERAJSONL', rawInserts);\n\n    // \n    const allInserts = escapeEraData(rawInserts);\n    const allEdits = escapeEraData(rawEdits);\n    const allDeletes = escapeEraData(rawDeletes);\n\n    logger.debug('ApplyVarChangeForMessage', '', {\n      before: { inserts: rawInserts, edits: rawEdits, deletes: rawDeletes },\n      after: { inserts: allInserts, edits: allEdits, deletes: allDeletes },\n    });\n\n    const editLog: any[] = []; // \n\n    // 2. ---  (`<VariableInsert>`) ---\n    await processInsertBlocks(allInserts, editLog);\n\n    // 3. ---  (`<VariableEdit>`) ---\n    await processEditBlocks(allEdits, editLog, messageId);\n\n    // 4. ---  (`<VariableDelete>`) ---\n    await processDeleteBlocks(allDeletes, editLog);\n\n    // 5. ---  EditLog ---\n    /*\n     *  editLog ()  EditLog\n     *\n     * \n     *\n     *  MK  EditLog****\n     *\n     * \n     * 1. A (MK_A)  EditLog_A\n     * 2. A swipeB (MK_B)\n     *\n     * B MK_B  EditLog \n     * \n     *\n     *  swipeBAA\n     *  MK_A  EditLog  EditLog_A\n     *\n     *  MK \n     * ****\n     *  `swipe`\n     *\n     *  editLog ( `[]`) \n     * \n     */\n    try {\n      await updateEraMetaData(meta => {\n        const newArr = Array.isArray(editLog) ? editLog : parseEditLog(editLog);\n        logger.debug(\n          'ApplyVarChangeForMessage',\n          ` MK=${MK} (MsgID=${messageId})  EditLog:\\n${JSON.stringify(newArr, null, 2)}`,\n        );\n        //  MK  `EditLogs` \n        _.set(meta, [LOGS_PATH, MK], JSON.stringify(newArr));\n        /*\n         * N.B.  SelectedMks \n         *  SelectedMks  (resyncStateOnHistoryChange  ApplyVarChange)\n         *  resync  oldSelectedMks \n         */\n        return meta;\n      });\n      logger.debug('ApplyVarChangeForMessage', ` MK=${MK}  EditLog`);\n    } catch (e: any) {\n      logger.error('ApplyVarChangeForMessage', ` MK=${MK}  EditLogs : ${e?.message || e}`, e);\n    }\n\n    return MK;\n  } catch (err: any) {\n    logger.error('ApplyVarChangeForMessage', `: ${err?.message || err}`, err);\n    return null;\n  }\n};\n\n/**\n * ****\n *  AI  `SelectedMks` \n *  AI \n */\nexport const ApplyVarChange = async () => {\n  logger.debug('ApplyVarChange', `...`);\n  // 1.  AI \n  const msg = findLastAiMessage();\n  if (!msg || typeof msg.message_id !== 'number') {\n    logger.log('ApplyVarChange', ' AI ');\n    return;\n  }\n\n  const messageId = msg.message_id;\n  logger.log('ApplyVarChange', ` AI  (ID: ${messageId})...`);\n\n  // 2.  EditLog \n  // EditLog  MK \n  const MK = await ApplyVarChangeForMessage(msg);\n\n  // 3.  SelectedMks\n  try {\n    await updateEraMetaData(meta => {\n      const selectedMks = _.get(meta, SEL_PATH, []);\n      //  AI  messageId \n      //  SelectedMks  MK \n      selectedMks[messageId] = MK;\n      _.set(meta, SEL_PATH, selectedMks);\n      return meta;\n    });\n  } catch (e: any) {\n    logger.error('ApplyVarChange', ` SelectedMks : ${e?.message || e}`, e);\n  }\n};\n","'use strict';\n\n/**\n * @file \n * @description  `resyncStateOnHistoryChange`  ERA \n *  (swipe) \n *\n * ###  (Feature, not a bug)\n *\n *  swipe ( id=2 ) \n * 1. ****:  swipe (id=3) **** swipe (id=2) **** id=2 \n * 2. ****:  swipe 3 **** (id=3) \n * 3. ****:  swipe  swipe 3 **** (id=3)\n * 4. ****:  id=3 id=2  id=3 \n *\n * ### \n *\n * `resyncStateOnHistoryChange` \n * 1.  `message_deleted`, `message_swiped` \n * 2.  `SelectedMks` \n * 3. \n * 4. ****:  `MK` \n * 5. ****: ****\n *\n * ****: \n */\n\nimport { LOGS_PATH, SEL_PATH } from '../utils/constants';\nimport { parseEditLog } from '../utils/data';\nimport { getEraData, updateEraMetaData } from '../utils/era_data';\nimport { Logger } from '../utils/log';\nimport { ApplyVarChangeForMessage } from './crud/patcher';\nimport { readMessageKey } from './key/mk';\nimport { rollbackByMk } from './rollback';\n\nconst logger = new Logger();\n\n/**\n * MKnull\n * @param msg \n * @returns MK  null\n */\nconst getMkFromMsg = (msg: any): string | null => {\n  const key = readMessageKey(msg);\n  if (!key) return null;\n\n  return key;\n};\n\n/**\n *  MK  EditLog \n * @param mks MK \n * @returns  EditLog  true\n */\nconst checkEditLogsAreEmpty = (mks: (string | null)[]): boolean => {\n  const { meta: metaData } = getEraData();\n  for (const mk of mks) {\n    if (!mk) continue; //  null ()\n    const editLogRaw = _.get(metaData, [LOGS_PATH, mk]);\n    const editLog = parseEditLog(editLogRaw);\n    if (editLog.length > 0) {\n      return false; //  log false\n    }\n  }\n  return true; //  log \n};\n\n/**\n * \n * \n * \n * @param {boolean} [forceFullResync=false] -  true\n */\nexport const resyncStateOnHistoryChange = async (forceFullResync = false) => {\n  if (forceFullResync) {\n    logger.warn('resyncStateOnHistoryChange', '');\n  } else {\n    logger.log('resyncStateOnHistoryChange', '...');\n  }\n\n  // getChatMessages  message_id 0 \n  const allMessages = getChatMessages('0-{{lastMessageId}}', { include_swipes: true });\n  logger.debug('resyncStateOnHistoryChange', ' allMessages:', allMessages);\n  const { meta: oldMetaData } = getEraData();\n  const oldSelectedMks: (string | null)[] = _.cloneDeep(_.get(oldMetaData, SEL_PATH, []));\n\n  logger.debug(\n    'resyncStateOnHistoryChange',\n    `: oldSelectedMks.length=${oldSelectedMks.length}, allMessages.length=${allMessages?.length ?? 0}`,\n  );\n\n  if (!allMessages || allMessages.length === 0) {\n    logger.log('resyncStateOnHistoryChange', '');\n    return;\n  }\n\n  let firstRecalcId = -1;\n\n  if (forceFullResync) {\n    firstRecalcId = 0;\n    logger.log('resyncStateOnHistoryChange', ' 0');\n  }\n  // Case 1:  ()\n  else if (allMessages.length < oldSelectedMks.length) {\n    logger.log('resyncStateOnHistoryChange', '');\n    //  \"currentMk === oldMk_at_same_index\" \n    for (let i = allMessages.length - 1; i >= 0; i--) {\n      const currentMk = getMkFromMsg(allMessages[i]);\n      const recordedMk = oldSelectedMks[i];\n      logger.debug(\n        'resyncStateOnHistoryChange',\n        `[-] i=${i}, currentMk=${currentMk}, recordedMk=${recordedMk}`,\n      );\n\n      if (currentMk === recordedMk) {\n        firstRecalcId = i + 1;\n        logger.log(\n          'resyncStateOnHistoryChange',\n          ` message_id=${i} (MK=${currentMk}) ID ${firstRecalcId} `,\n        );\n        break;\n      }\n    }\n    if (firstRecalcId === -1) {\n      firstRecalcId = 0;\n      logger.log('resyncStateOnHistoryChange', '');\n    }\n\n    //  MK \n    //  MK MK \n    const currentMkSequence = allMessages.map(getMkFromMsg).filter(mk => mk);\n    const oldMkSequence = oldSelectedMks.filter(mk => mk);\n    const deletedMks = _.difference(oldMkSequence, currentMkSequence);\n\n    logger.debug('resyncStateOnHistoryChange', `MK: [${oldMkSequence.join(', ')}]`);\n    logger.debug('resyncStateOnHistoryChange', `MK: [${currentMkSequence.join(', ')}]`);\n    logger.debug('resyncStateOnHistoryChange', `MK: [${deletedMks.join(', ')}]`);\n\n    if (deletedMks.length > 0 && checkEditLogsAreEmpty(deletedMks)) {\n      logger.log(\n        'resyncStateOnHistoryChange',\n        ` ${deletedMks.length} `,\n      );\n      const newSelectedMks: (string | null)[] = [];\n      for (let i = 0; i < allMessages.length; i++) {\n        newSelectedMks[i] = getMkFromMsg(allMessages[i]);\n      }\n      await updateEraMetaData(meta => {\n        _.set(meta, SEL_PATH, newSelectedMks);\n        return meta;\n      });\n      logger.log('resyncStateOnHistoryChange', ' SelectedMks ');\n      return;\n    }\n  }\n  // Case 2: / ()\n  else if (allMessages.length === oldSelectedMks.length) {\n    logger.log('resyncStateOnHistoryChange', '');\n    // \n    for (let i = allMessages.length - 1; i >= 0; i--) {\n      const currentMk = getMkFromMsg(allMessages[i]);\n      const recordedMk = oldSelectedMks[i];\n      logger.debug(\n        'resyncStateOnHistoryChange',\n        `[-] i=${i}, currentMk=${currentMk}, recordedMk=${recordedMk}`,\n      );\n      if (currentMk !== recordedMk) {\n        firstRecalcId = i;\n      }\n    }\n    if (firstRecalcId === -1) {\n      // N.B. MK \n      //  swipe MK \n      //  MK \n      // logger.log('resyncStateOnHistoryChange', 'MK');\n      // return; // \n\n      // \n      //  MK \n      // \n      //\n      //  Bug selectedMK  editLog \n      // \n      // selectedMks, editLogs\n      // \n      firstRecalcId = allMessages.length > 0 ? allMessages.length - 1 : 0;\n      logger.log(\n        'resyncStateOnHistoryChange',\n        `MK (ID: ${firstRecalcId})`,\n      );\n    } else {\n      logger.log('resyncStateOnHistoryChange', ` message_id=${firstRecalcId}`);\n    }\n  }\n  // Case 3:  ()\n  else {\n    logger.log('resyncStateOnHistoryChange', '');\n    // \n    firstRecalcId = oldSelectedMks.length;\n    logger.log(\n      'resyncStateOnHistoryChange',\n      ` (ID: ${firstRecalcId}) `,\n    );\n  }\n\n  // 3.  MK \n  if (firstRecalcId > -1) {\n    const mksToRollback = oldSelectedMks.slice(firstRecalcId).filter(mk => mk) as string[];\n    if (mksToRollback.length > 0) {\n      logger.log('resyncStateOnHistoryChange', ` ${mksToRollback.length} MK: [${mksToRollback.join(', ')}]`);\n      for (const mk of mksToRollback.reverse()) {\n        logger.debug('resyncStateOnHistoryChange', `[]  MK: ${mk}`);\n        await rollbackByMk(mk, true); // true \n      }\n      logger.log('resyncStateOnHistoryChange', '');\n    }\n  }\n\n  // 4.  selectedMks\n  logger.log('resyncStateOnHistoryChange', ` ID ${firstRecalcId} ...`);\n  const newSelectedMks: (string | null)[] = oldSelectedMks.slice(0, firstRecalcId); // \n\n  for (let i = firstRecalcId; i < allMessages.length; i++) {\n    const msg = allMessages[i];\n    logger.debug('resyncStateOnHistoryChange', `[] : ${i}`);\n    const newMk = await ApplyVarChangeForMessage(msg);\n    newSelectedMks[i] = newMk; //  message_id ( i) \n  }\n  logger.log('resyncStateOnHistoryChange', '');\n\n  // 5.  SelectedMks \n  await updateEraMetaData(meta => {\n    _.set(meta, SEL_PATH, newSelectedMks);\n    return meta;\n  });\n  logger.log('resyncStateOnHistoryChange', '');\n\n  // ==================================================================\n  //  -  2025/10/02 \n  //\n  // ****:\n  // - swipe \n  //  swipe  MK\n  //  MK \n  //  `oldSelectedMks` MK\n  // \n  //\n  // ****:\n  // MK  swipe MK \n  //  swipe \n  //\n  //  Bug\n  //  `oldSelectedMks`  MK\n  //  EditLog\n  //  EditLog\n  //\n  // \n  // ==================================================================\n  // logger.log('resyncStateOnHistoryChange', '...');\n  // const lastWrittenMk = [...oldSelectedMks].reverse().find(mk => mk);\n  // if (lastWrittenMk) {\n  //   logger.log('resyncStateOnHistoryChange', `MK: ${lastWrittenMk}...`);\n  //   await rollbackByMk(lastWrittenMk, true);\n  //   logger.log('resyncStateOnHistoryChange', '...');\n  //   await ApplyVarChange(); // ApplyVarChange \n  //   logger.log('resyncStateOnHistoryChange', '');\n  // } else {\n  //   logger.log('resyncStateOnHistoryChange', 'MK');\n  // }\n};\n\n/**\n * @deprecated  resyncStateOnHistoryChange \n * **AI**\n *  API  AI \n *  MK \n *\n * ****:\n * 1. ****:  AI \n * 2. ****:  MK MK \n * 3. ****: **** `EditLog`\n * 4. ****:  MK  `SelectedMks` \n *\n * ****:\n *  AI \n *  `resync` \n */\n// export const forceSyncLastAiMessage = async () => {\n//   logger.log('forceSyncLastAiMessage', ' AI ...');\n\n//   // 1. \n//   const msg = findLastAiMessage();\n//   if (!msg || typeof msg.message_id !== 'number') {\n//     logger.warn('forceSyncLastAiMessage', ' AI ');\n//     return;\n//   }\n\n//   const messageId = msg.message_id;\n//   const MK = readMessageKey(msg);\n\n//   if (!MK) {\n//     logger.warn('forceSyncLastAiMessage', ` (ID: ${messageId})  MK...`);\n//     //  MK\n//     await ApplyVarChangeForMessage(msg);\n//     return;\n//   }\n\n//   logger.log('forceSyncLastAiMessage', ` (ID: ${messageId}, MK: ${MK})`);\n\n//   // 2. \n//   logger.debug('forceSyncLastAiMessage', ` MK: ${MK}...`);\n//   await rollbackByMk(MK, true); // silent=true\n\n//   // 3. \n//   logger.debug('forceSyncLastAiMessage', ` MK: ${MK}...`);\n//   const newMK = await ApplyVarChangeForMessage(msg);\n\n//   // 4.  SelectedMks\n//   if (newMK) {\n//     try {\n//       await updateEraMetaData(meta => {\n//         const selectedMks = _.get(meta, SEL_PATH, []);\n//         selectedMks[messageId] = newMK;\n//         _.set(meta, SEL_PATH, selectedMks);\n//         return meta;\n//       });\n//       logger.log('forceSyncLastAiMessage', ` SelectedMks[${messageId}] = ${newMK}`);\n//     } catch (e: any) {\n//       logger.error('forceSyncLastAiMessage', ` SelectedMks : ${e?.message || e}`, e);\n//     }\n//   } else {\n//     logger.error('forceSyncLastAiMessage', ` MKSelectedMks `);\n//   }\n// };\n","/**\n * @file \n * @description UI, , \n */\n\nimport { Logger } from '../utils/log';\n\nconst log = new Logger();\n\n/*\n *  (UI)\n * @param messageId ID\n * @returns  Promise,  resolve\n */\n// function forceRenderMessage_backup_by_UI_event(messageId: number): Promise<void> {\n//   return new Promise(resolve => {\n//     const messageSelector = `div.mes[mesid=\"${messageId}\"]`;\n//     const $message = $(messageSelector);\n//\n//     if ($message.length === 0) {\n//       log.warn('forceRenderMessage_backup_by_UI_event', `ID ${messageId} div`);\n//       return resolve();\n//     }\n//\n//     const { state, buttons } = analyzeMessageUI($message);\n//\n//     if (state === 'editing') {\n//       // \n//       buttons.cancelEdit?.trigger('click');\n//       log.debug('forceRenderMessage_backup_by_UI_event', ` ${messageId} `);\n//       setTimeout(resolve, 50);\n//     } else {\n//       // \n//       buttons.edit?.trigger('click');\n//       log.debug('forceRenderMessage_backup_by_UI_event', ` ${messageId} `);\n//       setTimeout(() => {\n//         // \n//         const { buttons: updatedButtons } = analyzeMessageUI($message);\n//         updatedButtons.cancelEdit?.trigger('click');\n//         log.debug('forceRenderMessage_backup_by_UI_event', ` ${messageId} `);\n//         resolve();\n//       }, 50);\n//     }\n//   });\n// }\n\n/**\n * \n * @param messageId ID\n * @returns  Promise,  resolve\n */\nasync function forceRenderMessage(messageId: number): Promise<void> {\n  const messages = getChatMessages(messageId);\n\n  if (!messages || messages.length === 0) {\n    log.warn('forceRenderMessage', `ID ${messageId} `);\n    return;\n  }\n\n  const message = messages[0];\n\n  //  setChatMessages \n  await setChatMessages([{ message_id: messageId, message: message.message }]);\n  log.debug('forceRenderMessage', ` setChatMessages  ${messageId}`);\n}\n\n/**\n * N, \n * \n */\nexport async function forceRenderRecentMessages() {\n  const scriptVars = getVariables({ type: 'script', script_id: getScriptId() });\n\n  // \n  const forceReload = _.get(scriptVars, '', false);\n  if (!forceReload) {\n    log.debug('forceRenderRecentMessages', ', ');\n    return; // \n  }\n\n  // 1\n  const messageCount = _.get(scriptVars, '', 1);\n  log.log('forceRenderRecentMessages', `, : ${messageCount}`);\n\n  // , \n  await new Promise(resolve => setTimeout(resolve, 1000));\n\n  const allMessages = getChatMessages('0-{{lastMessageId}}');\n  if (!allMessages || allMessages.length === 0) {\n    log.warn('forceRenderRecentMessages', ', ');\n    return;\n  }\n\n  // \n  const recentMessages = allMessages.slice(-messageCount);\n\n  for (const message of recentMessages) {\n    log.debug('forceRenderRecentMessages', `: ${message.message_id}`);\n    await forceRenderMessage(message.message_id);\n    // , UI\n    await new Promise(resolve => setTimeout(resolve, 100));\n  }\n  log.log('forceRenderRecentMessages', '');\n}\n","'use strict';\n\nimport { updateLatestSelectedMk } from '../../core/key/mk';\nimport { resyncStateOnHistoryChange } from '../../core/sync';\nimport { forceRenderRecentMessages } from '../../ui/patch';\nimport { Logger } from '../../utils/log';\nimport { emitWriteDoneEvent } from '../emitters/events';\nimport { EventJob } from '../merger';\nimport { ActionsTaken, DispatcherPayload } from '../types';\n\nconst logger = new Logger();\n\nexport async function handleSyncEvent(\n  job: EventJob,\n  actionsTaken: ActionsTaken,\n  payload: DispatcherPayload,\n): Promise<void> {\n  const { type: eventType } = job;\n  logger.debug('handleSyncEvent', ` ${eventType} ...`);\n  const isFullSync = eventType === 'manual_full_sync';\n  await resyncStateOnHistoryChange(isFullSync);\n  actionsTaken.resync = true;\n  // \n  if (eventType != 'combo_sync') forceRenderRecentMessages();\n\n  // \n  await updateLatestSelectedMk();\n  emitWriteDoneEvent(payload);\n}\n","'use strict';\n\nimport { ensureMkForLatestMessage } from '../core/key/mk';\nimport { initializeExternalSettings } from '../scriptIniter/settings';\nimport { logContext, Logger } from '../utils/log';\nimport { handleApiEvent } from './handlers/api/dispatcher';\nimport { handleSyncEvent } from './handlers/sync';\nimport { handleUpdateMkOnlyEvent } from './handlers/updateMkOnly';\nimport { EventJob, getEventGroup } from './merger';\nimport { ActionsTaken, DispatcherPayload } from './types';\n\nconst logger = new Logger();\n\n/**\n * @constant {number} RENDER_EVENTS_TO_IGNORE_AFTER_MK_INJECTION\n * @description  `ensureMessageKey`  MK  `character_message_rendered` \n *  1\n */\nconst RENDER_EVENTS_TO_IGNORE_AFTER_MK_INJECTION = 1;\n\n/**\n * @interface IgnoreRule\n * @description  MK \n */\nexport interface IgnoreRule {\n  mk: string;\n  ignoreCount: number;\n}\n\n/**\n * @interface ConsecutiveMkState\n * @description  MK \n */\nexport interface ConsecutiveMkState {\n  mk: string | null;\n  count: number;\n}\n\n/**\n * @var {ConsecutiveMkState | null} consecutiveMkState\n * @description  MK \n * ****:  MK\n */\nlet consecutiveMkState: ConsecutiveMkState | null = null;\n\n/**\n * ** MK **\n * @param eventType - \n * @param currentMk -  MK\n * @param mkToIgnore - \n * @returns {{ shouldSkip: boolean; newIgnoreRule: IgnoreRule | null }} - \n */\nfunction handleRedundantRenderEvent(\n  eventType: string,\n  currentMk: string | null,\n  mkToIgnore: IgnoreRule | null,\n): { shouldSkip: boolean; newIgnoreRule: IgnoreRule | null } {\n  if (mkToIgnore && eventType === tavern_events.CHARACTER_MESSAGE_RENDERED && currentMk === mkToIgnore.mk) {\n    logger.log(\n      'handleRedundantRenderEvent',\n      ` MK (${mkToIgnore.mk}) : ${mkToIgnore.ignoreCount - 1}`,\n    );\n    mkToIgnore.ignoreCount--;\n    if (mkToIgnore.ignoreCount <= 0) {\n      mkToIgnore = null; // \n      logger.log('handleRedundantRenderEvent', ``);\n    }\n    return { shouldSkip: true, newIgnoreRule: mkToIgnore };\n  }\n  return { shouldSkip: false, newIgnoreRule: mkToIgnore };\n}\n\n/**\n * ****\n * @returns {number} - \n */\nfunction updateConsecutiveMkCount(): number {\n  const mk = logContext.mk;\n  if (mk && consecutiveMkState && consecutiveMkState.mk === mk) {\n    logger.debug(\n      'updateConsecutiveMkCount',\n      `/ MK: ${mk}: ${consecutiveMkState.count}: ${consecutiveMkState.count + 1}`,\n    );\n    consecutiveMkState.count++;\n  } else {\n    logger.debug(\n      'updateConsecutiveMkCount',\n      `/ MK: ${mk} 1 MK : ${consecutiveMkState?.mk}`,\n    );\n    consecutiveMkState = { mk: mk, count: 1 };\n  }\n  return consecutiveMkState.count;\n}\n\n/**\n * ****\n * \n * @param {EventJob} job - \n * @param {IgnoreRule | null} mkToIgnore - ****:  (event queue processing loop) \n * @returns {Promise<IgnoreRule | null>} - \n */\nexport async function dispatchAndExecuteTask(job: EventJob, mkToIgnore: IgnoreRule | null): Promise<IgnoreRule | null> {\n  const { type: eventType } = job;\n  const eventGroup = getEventGroup(eventType);\n  let message_id: number | null = null;\n\n  // \n  const actionsTaken: ActionsTaken = { rollback: false, apply: false, resync: false, api: false, apiWrite: false };\n\n  try {\n    // ****:  MK \n    const { mk, message_id: msgId, isNewKey } = await ensureMkForLatestMessage();\n    if (!mk || msgId === null) {\n      logger.warn('dispatchAndExecuteTask', ' MK  ID');\n      return mkToIgnore;\n    }\n    logContext.mk = mk;\n    message_id = msgId;\n\n    //  ensureMkForLatestMessage  MK\n    if (isNewKey && mk) {\n      mkToIgnore = {\n        mk: mk,\n        ignoreCount: RENDER_EVENTS_TO_IGNORE_AFTER_MK_INJECTION,\n      };\n    }\n\n    // ****:  MK \n    const { shouldSkip, newIgnoreRule } = handleRedundantRenderEvent(eventType, mk, mkToIgnore);\n    mkToIgnore = newIgnoreRule; // \n    if (shouldSkip) {\n      // \n      return mkToIgnore;\n    }\n\n    logger.log('dispatchAndExecuteTask', `: ${eventType} (: ${eventGroup})`);\n\n    // ****\n    // v3.1 payload \n    const payload: DispatcherPayload = {\n      mk: mk,\n      message_id: message_id,\n      actions: actionsTaken,\n      consecutiveProcessingCount: 1, // \n    };\n\n    switch (eventGroup) {\n      case 'INIT':\n        initializeExternalSettings();\n        // swipe\n        payload.consecutiveProcessingCount = updateConsecutiveMkCount();\n        await handleSyncEvent(job, actionsTaken, payload);\n        break;\n      case 'SYNC':\n        payload.consecutiveProcessingCount = updateConsecutiveMkCount();\n        await handleSyncEvent(job, actionsTaken, payload);\n        break;\n      case 'API':\n        handleApiEvent(job, actionsTaken, payload);\n        break;\n      case 'UPDATE_MK_ONLY':\n        await handleUpdateMkOnlyEvent();\n        break;\n    }\n  } catch (error) {\n    logger.error('dispatchAndExecuteTask', ` ${eventType} : ${error}`, error);\n  } finally {\n    // \n    logContext.mk = '';\n\n    // ****: \n    //\n    //await new Promise(resolve => setTimeout(resolve, 50));\n  }\n\n  return mkToIgnore;\n}\n","'use strict';\n\nimport { updateLatestSelectedMk } from '../../core/key/mk';\n\nexport async function handleUpdateMkOnlyEvent(): Promise<void> {\n  //  MK\n  await updateLatestSelectedMk();\n}\n","/**\n * @file ERA  - \n * @description\n *  ERA \n * \n *\n * ****:\n * 1. ****:  API `EventJob`  `eventQueue`\n * 2. ****: `processQueue`  `isProcessing` \n * 3. ****: \n * 4. ****:  `event_merger.ts` \n * 5. ****:  `task_dispatcher.ts` \n * 6. ****:  `mkToIgnore`  `consecutiveMkState`\n */\n\n'use strict';\n\nimport { Logger } from '../utils/log';\nimport { dispatchAndExecuteTask, IgnoreRule } from './dispatcher';\nimport { EVENT_DEBOUNCE_MAP, EventJob, getEventGroup, mergeEventBatch } from './merger';\n\nconst logger = new Logger();\n\n/**\n * @const {EventJob[]} eventQueue\n * @description \n */\nconst eventQueue: EventJob[] = [];\n\n/**\n * @let {boolean} isProcessing\n * @description  true  `processQueue` \n */\nlet isProcessing = false;\nlet isWaiting = false;\nlet unlockSignal: (() => void) | null = null;\n\n/**\n * ****\n * \n * @param {string} type -  (e.g., `tavern_events.MESSAGE_DELETED`)\n * @param {any} [detail] - \n */\nexport function pushToQueue(type: string, detail?: any) {\n  logger.debug('pushToQueue', `: ${type}`, { detail });\n  eventQueue.push({ type, detail, timestamp: Date.now() });\n  processQueue();\n}\n\n/**\n * ****\n * ---\n */\nasync function processQueue() {\n  // \n  if (isWaiting) {\n    logger.debug('processQueue', '');\n    return;\n  }\n\n  // \n  if (isProcessing) {\n    logger.debug('processQueue', '...');\n    isWaiting = true;\n    // \n    await new Promise<void>(resolve => {\n      unlockSignal = resolve;\n    });\n    isWaiting = false;\n    logger.debug('processQueue', '');\n  }\n\n  // \n  if (eventQueue.length === 0) {\n    logger.debug('processQueue', '');\n    return;\n  }\n\n  // \n  // \n  isProcessing = true;\n  logger.log('processQueue', '');\n\n  // \n  const firstJob = eventQueue[0];\n  const group = getEventGroup(firstJob.type);\n  if (group !== 'API') {\n    const debounceTime = EVENT_DEBOUNCE_MAP.get(firstJob.type) ?? 300;\n    logger.log('processQueue', ` ${debounceTime}ms...`);\n    await new Promise(resolve => setTimeout(resolve, debounceTime));\n  }\n\n  // \n  logger.debug('processQueue', ':', JSON.stringify(eventQueue.map(e => e.type)));\n\n  // \n  // \n  let mkToIgnore: IgnoreRule | null = null;\n  while (eventQueue.length > 0) {\n    const batchToProcess = eventQueue.splice(0, eventQueue.length);\n    const finalJobs = mergeEventBatch(batchToProcess);\n\n    logger.debug(\n      'processQueue',\n      ` ${batchToProcess.length}  ${finalJobs.length} `,\n    );\n\n    for (const job of finalJobs) {\n      const newIgnoreRule = await dispatchAndExecuteTask(job, mkToIgnore);\n      mkToIgnore = newIgnoreRule;\n    }\n    logger.debug('processQueue', '');\n  }\n\n  // \n  isProcessing = false;\n  logger.log('processQueue', '');\n\n  // \n  if (unlockSignal) {\n    logger.debug('processQueue', '');\n    const signal = unlockSignal;\n    unlockSignal = null;\n    signal();\n  }\n}\n","import { unescapeEraData } from '../utils/data';\nimport { getEraData, removeMetaFields } from '../utils/era_data';\nimport { Logger } from '../utils/log';\n\nconst logger = new Logger();\n\n/**\n *  ERA , \n * \n * @param text - \n * @returns - \n */\nexport function parseEraMacros(text: string): string {\n  const macroRegex = /{{\\s*ERA(-withmeta)?\\s*:\\s*([^}]+?)\\s*}}/gi;\n\n  // , \n  if (!text.includes('{{ERA')) {\n    return text;\n  }\n\n  //  stat_data\n  const { stat } = getEraData();\n  if (!stat) {\n    logger.warn('parseEraMacros', ' stat_data, .');\n    //  stat_data, , \n    return text;\n  }\n\n  return text.replace(macroRegex, (substring, withMeta, path) => {\n    const funcName = 'parseEraMacros';\n    const trimmedPath = path.trim();\n    const includeMeta = !!withMeta;\n\n    let data;\n    if (trimmedPath === '$ALLDATA') {\n      data = stat;\n    } else {\n      data = _.get(stat, trimmedPath);\n    }\n\n    if (data === undefined) {\n      logger.warn(funcName, ` stat_data  \"${trimmedPath}\", .`);\n      return ''; // , \n    }\n\n    //  withMeta  $meta \n    const dataBeforeUnescape = includeMeta ? data : removeMetaFields(data);\n\n    // \n    const finalData = unescapeEraData(dataBeforeUnescape);\n\n    logger.debug('parseEraMacros', `: ${trimmedPath}`, {\n      before: dataBeforeUnescape,\n      after: finalData,\n    });\n\n    // ,  JSON \n    if (typeof finalData === 'object' && finalData !== null) {\n      return JSON.stringify(finalData);\n    }\n\n    // , \n    return String(finalData);\n  });\n}\n\n$(() => {\n  /**\n   *  ERA ,  AI \n   *\n   * - `{{ERA:path.to.data}}`: **** `$meta` \n   *   - `{{ERA:$ALLDATA}}`  `$meta`  `stat_data` \n   * - `{{ERA-withmeta:path.to.data}}`: **** `$meta` \n   *   - `{{ERA-withmeta:$ALLDATA}}`  `stat_data` \n   */\n  registerMacroLike(/{{\\s*ERA(-withmeta)?\\s*:\\s*([^}]+?)\\s*}}/gi, (context, substring, withMeta, path) => {\n    //  parseEraMacros \n    // substring ,  \"{{ERA:path.to.data}}\"\n    return parseEraMacros(substring);\n  });\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n    class: \"action-buttons-card\",\n    role: \"complementary\",\n    \"aria-label\": \"ERA \"\n};\nconst _hoisted_2 = { class: \"btns\" };\nimport { Logger } from '../../utils/log'; // \nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ActionButtons',\n    setup(__props) {\n        const logger = new Logger('ui-ActionButtons'); // \n        function onFullSync() {\n            // \n            logger.log('onFullSync', ' manual_full_sync '); // \n            eventEmit('manual_full_sync'); // \n        }\n        function onLastSync() {\n            // \n            logger.log('onLastSync', ' manual_sync '); // \n            eventEmit('manual_sync'); // \n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(_Fragment, null, [\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"section\", _hoisted_1, [\n                    _createCommentVNode(\"  \"),\n                    _cache[4] || (_cache[4] = _createElementVNode(\"h4\", { class: \"card-title\" }, \"\", -1 /* CACHED */)),\n                    _createCommentVNode(\"  \"),\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"button\", {\n                            class: \"btn primary\",\n                            title: \"\",\n                            onClick: _withModifiers(onFullSync, [\"stop\"])\n                        }, [\n                            _createCommentVNode(\"  \"),\n                            _cache[0] || (_cache[0] = _createElementVNode(\"span\", {\n                                class: \"ico\",\n                                \"aria-hidden\": \"true\"\n                            }, \"\", -1 /* CACHED */)),\n                            _createCommentVNode(\"  \"),\n                            _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"label\" }, \"\", -1 /* CACHED */)),\n                            _createCommentVNode(\"  \")\n                        ]),\n                        _createElementVNode(\"button\", {\n                            class: \"btn subtle\",\n                            title: \"\",\n                            onClick: _withModifiers(onLastSync, [\"stop\"])\n                        }, [\n                            _createCommentVNode(\"  \"),\n                            _cache[2] || (_cache[2] = _createElementVNode(\"span\", {\n                                class: \"ico\",\n                                \"aria-hidden\": \"true\"\n                            }, \"\", -1 /* CACHED */)),\n                            _createCommentVNode(\"  \"),\n                            _cache[3] || (_cache[3] = _createElementVNode(\"span\", { class: \"label\" }, \"\", -1 /* CACHED */)),\n                            _createCommentVNode(\"  \")\n                        ])\n                    ])\n                ])\n            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ActionButtons.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ActionButtons.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ActionButtons.vue?vue&type=style&index=0&id=5766043a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5766043a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, vModelText as _vModelText, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, vShow as _vShow } from \"vue\";\nconst _hoisted_1 = {\n    class: \"settings-card\",\n    role: \"region\",\n    \"aria-label\": \"ERA \"\n};\nconst _hoisted_2 = [\"aria-expanded\"];\nconst _hoisted_3 = {\n    class: \"chev\",\n    \"aria-hidden\": \"true\"\n};\nconst _hoisted_4 = { class: \"content\" };\nconst _hoisted_5 = { class: \"toolbar\" };\nconst _hoisted_6 = { class: \"vars\" };\nconst _hoisted_7 = [\"title\"];\nconst _hoisted_8 = { class: \"var-editor\" };\nconst _hoisted_9 = {\n    key: 0,\n    class: \"switch\"\n};\nconst _hoisted_10 = [\"onUpdate:modelValue\"];\nconst _hoisted_11 = [\"onUpdate:modelValue\", \"placeholder\"];\nconst _hoisted_12 = [\"onUpdate:modelValue\", \"placeholder\"];\nconst _hoisted_13 = [\"onUpdate:modelValue\", \"placeholder\", \"onInput\"];\nconst _hoisted_14 = { class: \"type-chip\" };\nimport { reactive, ref } from 'vue'; // Vue  API\nimport { getScriptSettings, updateScriptSettings } from '../../utils/era_data';\nimport { Logger } from '../../utils/log'; // \nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'EraSettingsPanel',\n    setup(__props) {\n        /* \n           - \n           -  boolean/number/string/json \n           - \n        */\n        const logger = new Logger(); // \n        // ===  ===\n        const isOpen = ref(false); // \n        // ===  ===\n        const rows = ref([]); // \n        const edits = reactive({}); // //\n        const jsonBuffers = reactive({}); //  JSON \n        const jsonState = reactive({}); // JSON \n        // ===  ===\n        function detectType(v) {\n            // \n            if (typeof v === 'boolean')\n                return 'boolean'; // \n            if (typeof v === 'number' && Number.isFinite(v))\n                return 'number'; // \n            if (typeof v === 'string')\n                return 'string'; // \n            return 'json'; //  json//null/\n        }\n        function humanType(t) {\n            // \n            return t === 'boolean' ? '' : t === 'number' ? '' : t === 'string' ? '' : 'JSON'; // \n        }\n        function safeStringify(v) {\n            //  JSON \n            try {\n                return JSON.stringify(v, null, 2);\n            }\n            catch {\n                return String(v);\n            } // \n        }\n        // ===  ===\n        function loadVars() {\n            try {\n                logger.debug('loadVars', '...');\n                const obj = getScriptSettings();\n                logger.debug('loadVars', ':', obj);\n                if (!obj || Object.keys(obj).length === 0) {\n                    logger.warn('loadVars', 'UI ');\n                    rows.value = [];\n                    return;\n                }\n                // \n                rows.value = [];\n                for (const k of Object.keys(edits))\n                    delete edits[k];\n                for (const k of Object.keys(jsonBuffers))\n                    delete jsonBuffers[k];\n                for (const k of Object.keys(jsonState))\n                    delete jsonState[k];\n                // \n                Object.entries(obj)\n                    .filter(([key]) => key !== '')\n                    .forEach(([key, value]) => {\n                    const t = detectType(value);\n                    rows.value.push({ key, value, type: t });\n                    if (t === 'json') {\n                        jsonBuffers[key] = safeStringify(value);\n                    }\n                    else {\n                        edits[key] = value;\n                    }\n                });\n            }\n            catch (e) {\n                logger.error('loadVars', ':', e);\n                alert(' ERA ');\n            }\n        }\n        // ===  ===\n        function onToggle() {\n            // \n            isOpen.value = !isOpen.value; // \n            if (isOpen.value && rows.value.length === 0)\n                loadVars(); // \n        }\n        // === JSON  +  ===\n        function markJsonTouched(key) {\n            //  JSON \n            const txt = jsonBuffers[key] ?? ''; // \n            if (txt.trim() === '') {\n                // \n                jsonState[key] = { bad: true, ok: false, msg: ' null  null' }; // \n                return; // \n            }\n            try {\n                JSON.parse(txt);\n                jsonState[key] = { ok: true, bad: false, msg: 'JSON ' };\n            }\n            catch (e) {\n                // \n                jsonState[key] = { bad: true, ok: false, msg: `JSON ${e?.message ?? ''}` };\n            } // \n        }\n        // ===  ===\n        function discardEdits() {\n            // \n            loadVars(); // \n        }\n        // ===  ===\n        async function saveEdits() {\n            // \n            try {\n                await updateScriptSettings(currentSettings => {\n                    const next = { ...currentSettings };\n                    // //\n                    Object.entries(edits).forEach(([k, v]) => {\n                        const key = k;\n                        next[key] = v;\n                    });\n                    //  JSON \n                    Object.entries(jsonBuffers).forEach(([k, txt]) => {\n                        if (txt != null) {\n                            if (jsonState[k]?.bad)\n                                throw new Error(` ${k}  JSON `);\n                            const key = k;\n                            next[key] = JSON.parse(txt);\n                        }\n                    });\n                    return next;\n                });\n                logger.log('saveEdits', '');\n                loadVars();\n            }\n            catch (e) {\n                logger.error('saveEdits', '', e);\n                alert(`${e?.message ?? e}`);\n            }\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(_Fragment, null, [\n                _createCommentVNode(\"  ActionButtons  \"),\n                _createElementVNode(\"section\", _hoisted_1, [\n                    _createCommentVNode(\"  \"),\n                    _createCommentVNode(\" / \"),\n                    _createElementVNode(\"button\", {\n                        class: \"card-header\",\n                        \"aria-expanded\": isOpen.value,\n                        onClick: onToggle\n                    }, [\n                        _createCommentVNode(\"  \"),\n                        _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"title\" }, \"ERA \", -1 /* CACHED */)),\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"span\", _hoisted_3, _toDisplayString(isOpen.value ? '' : ''), 1 /* TEXT */),\n                        _createCommentVNode(\"  \")\n                    ], 8 /* PROPS */, _hoisted_2),\n                    _createCommentVNode(\"  \"),\n                    _withDirectives(_createElementVNode(\"div\", _hoisted_4, [\n                        _createCommentVNode(\"  \"),\n                        _createCommentVNode(\" // \"),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            _createCommentVNode(\"  \"),\n                            _createElementVNode(\"button\", {\n                                class: \"mini-btn\",\n                                title: \"\",\n                                onClick: _withModifiers(loadVars, [\"stop\"])\n                            }, \" \"),\n                            _createCommentVNode(\"  \"),\n                            _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"spacer\" }, null, -1 /* CACHED */)),\n                            _createCommentVNode(\"  \"),\n                            _createElementVNode(\"button\", {\n                                class: \"mini-btn subtle\",\n                                title: \"\",\n                                onClick: _withModifiers(discardEdits, [\"stop\"])\n                            }, \" \"),\n                            _createCommentVNode(\"  \"),\n                            _createElementVNode(\"button\", {\n                                class: \"mini-btn primary\",\n                                title: \"\",\n                                onClick: _withModifiers(saveEdits, [\"stop\"])\n                            }, \" \"),\n                            _createCommentVNode(\"  \")\n                        ]),\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            (rows.value.length > 0)\n                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                    _createCommentVNode(\"  \"),\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(rows.value, (row) => {\n                                        return (_openBlock(), _createElementBlock(\"div\", {\n                                            key: row.key,\n                                            class: \"var-row\"\n                                        }, [\n                                            _createCommentVNode(\"  \"),\n                                            _createElementVNode(\"label\", {\n                                                class: \"var-key\",\n                                                title: row.key\n                                            }, _toDisplayString(row.key), 9 /* TEXT, PROPS */, _hoisted_7),\n                                            _createCommentVNode(\"  \"),\n                                            _createCommentVNode(\"  \"),\n                                            _createElementVNode(\"div\", _hoisted_8, [\n                                                _createCommentVNode(\"  \"),\n                                                _createCommentVNode(\"  \"),\n                                                (row.type === 'boolean')\n                                                    ? (_openBlock(), _createElementBlock(\"label\", _hoisted_9, [\n                                                        _createCommentVNode(\"  \"),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": ($event) => ((edits[row.key]) = $event),\n                                                            type: \"checkbox\"\n                                                        }, null, 8 /* PROPS */, _hoisted_10), [\n                                                            [_vModelCheckbox, edits[row.key]]\n                                                        ]),\n                                                        _createCommentVNode(\"  \"),\n                                                        _cache[2] || (_cache[2] = _createElementVNode(\"span\", { class: \"track\" }, null, -1 /* CACHED */)),\n                                                        _createCommentVNode(\"  \")\n                                                    ]))\n                                                    : (row.type === 'number')\n                                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                                            _createCommentVNode(\" number  \"),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": ($event) => ((edits[row.key]) = $event),\n                                                                type: \"number\",\n                                                                class: \"ipt\",\n                                                                placeholder: String(row.value)\n                                                            }, null, 8 /* PROPS */, _hoisted_11), [\n                                                                [\n                                                                    _vModelText,\n                                                                    edits[row.key],\n                                                                    void 0,\n                                                                    { number: true }\n                                                                ]\n                                                            ]),\n                                                            _createCommentVNode(\"  \")\n                                                        ], 64 /* STABLE_FRAGMENT */))\n                                                        : (row.type === 'string')\n                                                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                                                                _createCommentVNode(\" text  \"),\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": ($event) => ((edits[row.key]) = $event),\n                                                                    type: \"text\",\n                                                                    class: \"ipt\",\n                                                                    placeholder: String(row.value)\n                                                                }, null, 8 /* PROPS */, _hoisted_12), [\n                                                                    [_vModelText, edits[row.key]]\n                                                                ]),\n                                                                _createCommentVNode(\"  \")\n                                                            ], 64 /* STABLE_FRAGMENT */))\n                                                            : (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                                                                _createCommentVNode(\" //null/JSON  \"),\n                                                                _withDirectives(_createElementVNode(\"textarea\", {\n                                                                    \"onUpdate:modelValue\": ($event) => ((jsonBuffers[row.key]) = $event),\n                                                                    class: \"ipt ta\",\n                                                                    placeholder: safeStringify(row.value),\n                                                                    onInput: ($event) => (markJsonTouched(row.key))\n                                                                }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_13), [\n                                                                    [_vModelText, jsonBuffers[row.key]]\n                                                                ]),\n                                                                _createCommentVNode(\" JSON  \"),\n                                                                _createElementVNode(\"span\", {\n                                                                    class: _normalizeClass([\"hint\", { ok: jsonState[row.key]?.ok, bad: jsonState[row.key]?.bad }])\n                                                                }, _toDisplayString(jsonState[row.key]?.msg ?? ' JSON '), 3 /* TEXT, CLASS */),\n                                                                _createCommentVNode(\" JSON  \")\n                                                            ], 64 /* STABLE_FRAGMENT */))\n                                            ]),\n                                            _createCommentVNode(\"  \"),\n                                            _createElementVNode(\"span\", _hoisted_14, _toDisplayString(humanType(row.type)), 1 /* TEXT */),\n                                            _createCommentVNode(\"  \")\n                                        ]));\n                                    }), 128 /* KEYED_FRAGMENT */))\n                                ], 64 /* STABLE_FRAGMENT */))\n                                : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                    _createCommentVNode(\"  \"),\n                                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"placeholder\" }, [\n                                        _createElementVNode(\"p\", null, \"\"),\n                                        _createCommentVNode(\"  \"),\n                                        _createElementVNode(\"p\", { class: \"dim\" }, [\n                                            _createTextVNode(\"  \"),\n                                            _createElementVNode(\"code\", null, \"app_ready\"),\n                                            _createTextVNode(\"  \"),\n                                            _createElementVNode(\"code\", null, \"initializeExternalSettings()\"),\n                                            _createTextVNode(\"  \")\n                                        ]),\n                                        _createCommentVNode(\"  \")\n                                    ], -1 /* CACHED */))\n                                ], 64 /* STABLE_FRAGMENT */))\n                        ])\n                    ], 512 /* NEED_PATCH */), [\n                        [_vShow, isOpen.value]\n                    ])\n                ])\n            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./EraSettingsPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EraSettingsPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EraSettingsPanel.vue?vue&type=style&index=0&id=1944c88c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1944c88c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport { onMounted } from 'vue';\nimport { Logger } from '../../utils/log';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'FloatingBall',\n    emits: ['click'],\n    setup(__props) {\n        const logger = new Logger('ui-FloatingBall');\n        onMounted(() => {\n            logger.log('onMounted', 'FloatingBall.vue ');\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"floating-ball\",\n                onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('click')))\n            }, [\n                _cache[1] || (_cache[1] = _createElementVNode(\"span\", {\n                    class: \"era-logo\",\n                    \"aria-hidden\": \"true\"\n                }, \"ERA\", -1 /* CACHED */)),\n                _createCommentVNode(\"  \")\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./FloatingBall.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FloatingBall.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FloatingBall.vue?vue&type=style&index=0&id=ee0f5b22&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ee0f5b22\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"acc\" };\nconst _hoisted_2 = [\"aria-expanded\"];\nconst _hoisted_3 = { class: \"title\" };\nconst _hoisted_4 = { class: \"hint\" };\nconst _hoisted_5 = { class: \"inner\" };\nimport { ref } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'EraAccordion',\n    props: {\n        title: {},\n        defaultOpen: { type: Boolean, default: false }\n    },\n    setup(__props) {\n        const props = __props;\n        const open = ref(props.defaultOpen);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"button\", {\n                    class: \"acc-head\",\n                    \"aria-expanded\": open.value ? 'true' : 'false',\n                    onClick: _cache[0] || (_cache[0] = ($event) => (open.value = !open.value))\n                }, [\n                    _createElementVNode(\"span\", {\n                        class: _normalizeClass([\"caret\", { open: open.value }])\n                    }, \"\", 2 /* CLASS */),\n                    _createCommentVNode(\"  \"),\n                    _createElementVNode(\"span\", _hoisted_3, _toDisplayString(__props.title), 1 /* TEXT */),\n                    _createCommentVNode(\"  \"),\n                    _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"spacer\" }, null, -1 /* CACHED */)),\n                    _createCommentVNode(\"  \"),\n                    _createElementVNode(\"span\", _hoisted_4, _toDisplayString(open.value ? '' : ''), 1 /* TEXT */),\n                    _createCommentVNode(\"  \")\n                ], 8 /* PROPS */, _hoisted_2),\n                _createCommentVNode(\"  CSS Grid \"),\n                _createElementVNode(\"div\", {\n                    class: _normalizeClass([\"acc-body\", { open: open.value }])\n                }, [\n                    _createElementVNode(\"div\", _hoisted_5, [\n                        _renderSlot(_ctx.$slots, \"default\")\n                    ])\n                ], 2 /* CLASS */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./EraAccordion.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EraAccordion.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EraAccordion.vue?vue&type=style&index=0&id=cb8a53de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cb8a53de\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"meta\" };\nconst _hoisted_2 = { class: \"kv\" };\nconst _hoisted_3 = { class: \"item\" };\nconst _hoisted_4 = [\"title\"];\nconst _hoisted_5 = { class: \"item\" };\nconst _hoisted_6 = { class: \"v\" };\nimport { onMounted, watch } from 'vue';\nimport { Logger } from '../../../../utils/log';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'MetaHeader',\n    props: {\n        mk: {},\n        messageId: {}\n    },\n    setup(__props) {\n        const logger = new Logger('ui-MetaHeader');\n        // \n        const props = __props; // \n        onMounted(() => {\n            logger.log('onMounted', '', { props });\n        });\n        watch(() => props, newProps => {\n            logger.debug('watch:props', 'Props ', { newProps });\n        }, { deep: true });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _cache[2] || (_cache[2] = _createElementVNode(\"h4\", { class: \"meta-title\" }, \"\", -1 /* CACHED */)),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"k\" }, \"mk\", -1 /* CACHED */)),\n                        _createCommentVNode(\" mk \"),\n                        _createElementVNode(\"span\", {\n                            class: \"v\",\n                            title: __props.mk\n                        }, _toDisplayString(__props.mk || ''), 9 /* TEXT, PROPS */, _hoisted_4),\n                        _createCommentVNode(\" mk \")\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                        _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"k\" }, \"message_id\", -1 /* CACHED */)),\n                        _createCommentVNode(\" message_id \"),\n                        _createElementVNode(\"span\", _hoisted_6, _toDisplayString(__props.messageId ?? ''), 1 /* TEXT */),\n                        _createCommentVNode(\" message_id \")\n                    ])\n                ]),\n                _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"glow\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  \")\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./MetaHeader.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MetaHeader.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MetaHeader.vue?vue&type=style&index=0&id=56f5fbd7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56f5fbd7\"]])\n\nexport default __exports__","import { createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, normalizeStyle as _normalizeStyle, renderList as _renderList, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"node\" };\nconst _hoisted_2 = { class: \"key\" };\nconst _hoisted_3 = { class: \"brace\" };\nconst _hoisted_4 = {\n    key: 0,\n    class: \"summary\"\n};\nconst _hoisted_5 = {\n    key: 0,\n    class: \"json-children\"\n};\nconst _hoisted_6 = { class: \"brace\" };\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n    const _component_JsonNode = _resolveComponent(\"JsonNode\", true);\n    return (_openBlock(), _createElementBlock(_Fragment, null, [\n        _createCommentVNode(\"  \"),\n        _createElementVNode(\"div\", _hoisted_1, [\n            _createCommentVNode(\"  /  \"),\n            _createElementVNode(\"div\", {\n                class: \"json-line\",\n                style: _normalizeStyle({ paddingLeft: _ctx.level * 14 + 'px' })\n            }, [\n                _createCommentVNode(\" + \"),\n                (_ctx.foldable)\n                    ? (_openBlock(), _createElementBlock(\"button\", {\n                        key: 0,\n                        class: _normalizeClass([\"caret\", { open: _ctx.open }]),\n                        \"aria-label\": \"toggle\",\n                        onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.open = !_ctx.open))\n                    }, \"\", 2 /* CLASS */))\n                    : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"span\", _hoisted_2, _toDisplayString(_ctx.k), 1 /* TEXT */),\n                _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"colon\" }, \":\", -1 /* CACHED */)),\n                _createCommentVNode(\"  \"),\n                _createCommentVNode(\"  children  \"),\n                (_ctx.foldable)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.isArray ? '[' : '{'), 1 /* TEXT */),\n                        _createCommentVNode(\"  \"),\n                        (!_ctx.open)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(_ctx.summary), 1 /* TEXT */))\n                            : _createCommentVNode(\"v-if\", true),\n                        _createCommentVNode(\"  \")\n                    ], 64 /* STABLE_FRAGMENT */))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"span\", {\n                            class: _normalizeClass([\"val\", _ctx.type])\n                        }, _toDisplayString(_ctx.primitiveText), 3 /* TEXT, CLASS */),\n                        _createCommentVNode(\"  \")\n                    ], 64 /* STABLE_FRAGMENT */))\n            ], 4 /* STYLE */),\n            _createCommentVNode(\"  \"),\n            (_ctx.foldable && _ctx.open)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                    _createCommentVNode(\"  JsonNode name: 'JsonNode'  \"),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.childEntries, (childVal, childKey) => {\n                        return (_openBlock(), _createBlock(_component_JsonNode, {\n                            key: _ctx.path + '/' + String(childKey),\n                            k: String(childKey),\n                            v: childVal,\n                            path: _ctx.path + '/' + String(childKey),\n                            level: _ctx.level + 1,\n                            \"default-collapsed\": _ctx.defaultCollapsed,\n                            \"max-depth\": _ctx.maxDepth\n                        }, null, 8 /* PROPS */, [\"k\", \"v\", \"path\", \"level\", \"default-collapsed\", \"max-depth\"]));\n                    }), 128 /* KEYED_FRAGMENT */)),\n                    _createElementVNode(\"div\", {\n                        class: \"json-line\",\n                        style: _normalizeStyle({ paddingLeft: _ctx.level * 14 + 'px' })\n                    }, [\n                        _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_ctx.isArray ? ']' : '}'), 1 /* TEXT */),\n                        _createCommentVNode(\"  \")\n                    ], 4 /* STYLE */)\n                ]))\n                : _createCommentVNode(\"v-if\", true)\n        ])\n    ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */));\n}\n","import { computed, defineComponent, onMounted, ref, watch } from 'vue'; // /\nimport { Logger } from '../../../../utils/log';\nexport default defineComponent({\n    name: 'JsonNode', // \n    props: {\n        k: { type: [String, Number], required: true }, // \n        v: { required: true }, // \n        path: { type: String, required: true }, //  key/\n        level: { type: Number, required: true }, // \n        defaultCollapsed: { type: Boolean, default: true }, // \n        maxDepth: { type: Number, default: 3 }, // \n    },\n    setup(p) {\n        const logger = new Logger();\n        onMounted(() => {\n            logger.debug('onMounted', '', { props: p });\n        });\n        // \n        const type = computed(() => {\n            const val = p.v;\n            if (val === null)\n                return 'null';\n            if (Array.isArray(val))\n                return 'array';\n            const t = typeof val;\n            if (t === 'object')\n                return 'object';\n            if (t === 'undefined')\n                return 'undefined';\n            return t;\n        });\n        // /\n        const isArray = computed(() => type.value === 'array');\n        const isObject = computed(() => type.value === 'object');\n        // \n        const foldable = computed(() => isArray.value || isObject.value);\n        //  maxDepth  defaultCollapsed\n        const open = ref(p.level <= (p.maxDepth ?? 3) ? true : !p.defaultCollapsed);\n        watch(open, newOpenState => {\n            logger.debug('watch:open', `: ${newOpenState ? '' : ''}`);\n        });\n        //  undefined / bigint / symbol\n        const primitiveText = computed(() => {\n            const val = p.v;\n            switch (type.value) {\n                case 'string':\n                    return JSON.stringify(val);\n                case 'number':\n                    return String(val);\n                case 'boolean':\n                    return val ? 'true' : 'false';\n                case 'null':\n                    return 'null';\n                case 'undefined':\n                    return 'undefined';\n                case 'bigint':\n                    return String(val) + 'n';\n                case 'symbol':\n                    return String(val);\n                case 'function':\n                    return '()';\n                default:\n                    return '';\n            }\n        });\n        // \n        const summary = computed(() => {\n            if (isArray.value)\n                return `Array[${p.v.length}]`;\n            if (isObject.value)\n                return `Object{${Object.keys(p.v || {}).length}}`;\n            return '';\n        });\n        //    entries  \n        const childEntries = computed(() => {\n            if (isObject.value)\n                return p.v;\n            if (isArray.value) {\n                const out = {};\n                p.v.forEach((cv, idx) => {\n                    out[String(idx)] = cv;\n                });\n                return out;\n            }\n            return {};\n        });\n        return { type, isArray, foldable, open, primitiveText, summary, childEntries };\n    },\n});\n","/* unplugin-vue-components disabled */import { render } from \"./JsonNode.vue?vue&type=template&id=34fc6c00&scoped=true&ts=true\"\nimport script from \"./JsonNode.vue?vue&type=script&lang=ts\"\nexport * from \"./JsonNode.vue?vue&type=script&lang=ts\"\n\nimport \"./JsonNode.vue?vue&type=style&index=0&id=34fc6c00&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-34fc6c00\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"json-root\" };\nconst _hoisted_2 = { class: \"json-line\" };\nconst _hoisted_3 = { class: \"brace\" };\nconst _hoisted_4 = { class: \"json-children\" };\nconst _hoisted_5 = {\n    key: 1,\n    class: \"json-line\",\n    style: { paddingLeft: 1 * 14 + 'px' }\n};\nconst _hoisted_6 = { class: \"json-line\" };\nconst _hoisted_7 = { class: \"brace\" };\nimport { computed } from 'vue'; // \nimport { Logger } from '../../../../utils/log';\nimport JsonNode from './JsonNode.vue'; //   SFC \nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'PrettyJsonViewer',\n    props: {\n        value: {},\n        defaultCollapsed: { type: Boolean, default: true },\n        maxDepth: { default: 3 }\n    },\n    setup(__props) {\n        const logger = new Logger();\n        const props = __props;\n        const isPlainObjectOrArray = computed(() => {\n            const v = props.value; // \n            const result = v !== null && typeof v === 'object'; // /\n            logger.debug('isPlainObjectOrArray', `: ${result}${result ? '' : ''}`, {\n                : v,\n            });\n            return result;\n        }); // /\n        const primitiveType = computed(() => {\n            const v = props.value; // \n            let result;\n            if (v === null) {\n                result = 'null';\n            }\n            else if (Array.isArray(v)) {\n                result = 'array'; //  isPlainObjectOrArray \n            }\n            else {\n                const t = typeof v; // \n                result = t === 'undefined' ? 'undefined' : t;\n            }\n            logger.debug('primitiveType', `: ${result}`, { : v });\n            return result;\n        }); // \n        const primitiveText = computed(() => {\n            const v = props.value; // \n            let result;\n            switch (primitiveType.value // \n            ) {\n                case 'string':\n                    result = JSON.stringify(v); // \n                    break;\n                case 'number':\n                    result = String(v); // \n                    break;\n                case 'boolean':\n                    result = v ? 'true' : 'false'; // \n                    break;\n                case 'null':\n                    result = 'null'; // null\n                    break;\n                case 'undefined':\n                    result = 'undefined'; // undefined\n                    break;\n                case 'bigint':\n                    result = String(v) + 'n'; // bigint\n                    break;\n                case 'symbol':\n                    result = String(v); // symbol\n                    break;\n                case 'function':\n                    result = '()'; // \n                    break;\n                default:\n                    result = ''; // \n                    break;\n            }\n            logger.debug('primitiveText', `: \"${result}\"`, {\n                : v,\n                : primitiveType.value,\n            });\n            return result;\n        }); // \n        const isArrayRoot = computed(() => {\n            const result = Array.isArray(props.value);\n            logger.debug('isArrayRoot', `: ${result}`, { : props.value });\n            return result;\n        }); // \n        const rootOpen = computed(() => (isArrayRoot.value ? '[' : '{')); // \n        const rootClose = computed(() => (isArrayRoot.value ? ']' : '}')); // \n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"span\", _hoisted_3, _toDisplayString(rootOpen.value), 1 /* TEXT */),\n                    _createCommentVNode(\" { / [ \")\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    (isPlainObjectOrArray.value)\n                        ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(__props.value, (v, k) => {\n                            return (_openBlock(), _createBlock(JsonNode, {\n                                key: String(k),\n                                k: String(k),\n                                v: v,\n                                path: String(k),\n                                level: 1,\n                                \"default-collapsed\": __props.defaultCollapsed,\n                                \"max-depth\": __props.maxDepth\n                            }, null, 8 /* PROPS */, [\"k\", \"v\", \"path\", \"default-collapsed\", \"max-depth\"]));\n                        }), 128 /* KEYED_FRAGMENT */))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"key\" }, \"value\", -1 /* CACHED */)),\n                            _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"colon\" }, \":\", -1 /* CACHED */)),\n                            _createElementVNode(\"span\", {\n                                class: _normalizeClass([\"val\", primitiveType.value])\n                            }, _toDisplayString(primitiveText.value), 3 /* TEXT, CLASS */)\n                        ]))\n                ]),\n                _createElementVNode(\"div\", _hoisted_6, [\n                    _createElementVNode(\"span\", _hoisted_7, _toDisplayString(rootClose.value), 1 /* TEXT */),\n                    _createCommentVNode(\" } / ] \")\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./PrettyJsonViewer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PrettyJsonViewer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PrettyJsonViewer.vue?vue&type=style&index=0&id=036df356&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-036df356\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderSlot as _renderSlot } from \"vue\";\nconst _hoisted_1 = { class: \"tabs\" };\nconst _hoisted_2 = {\n    class: \"tab-bar\",\n    role: \"tablist\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = { class: \"tab-content\" };\nconst _hoisted_5 = { key: 0 };\nconst _hoisted_6 = { key: 1 };\nimport { onMounted, ref, watch } from 'vue'; // \nimport { Logger } from '../../../../utils/log';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'TabSwitch',\n    props: {\n        tabs: {},\n        active: {}\n    },\n    emits: [\"update:active\"],\n    setup(__props, { emit: __emit }) {\n        const logger = new Logger('ui-TabSwitch');\n        const props = __props; //  tabs  active\n        const emit = __emit; // v-model:active\n        const innerActive = ref(props.active ?? 'pure'); // \n        watch(() => props.active, v => {\n            if (v) {\n                logger.debug('watch:active', ` active tab : ${v}`);\n                innerActive.value = v;\n            }\n        }); // \n        function setActive(k) {\n            logger.log('setActive', ` tab : ${k}`);\n            innerActive.value = k;\n            emit('update:active', k);\n        } // \n        onMounted(() => {\n            logger.log('onMounted', '', { props });\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.tabs, (t) => {\n                        return (_openBlock(), _createElementBlock(\"button\", {\n                            key: t.key,\n                            class: _normalizeClass([\"tab-btn\", { active: t.key === innerActive.value }]),\n                            role: \"tab\",\n                            onClick: ($event) => (setActive(t.key))\n                        }, _toDisplayString(t.label), 11 /* TEXT, CLASS, PROPS */, _hoisted_3));\n                    }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    (innerActive.value === 'pure')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                            _renderSlot(_ctx.$slots, \"pure\"),\n                            _createCommentVNode(\"  \")\n                        ]))\n                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                            _renderSlot(_ctx.$slots, \"full\"),\n                            _createCommentVNode(\"  \")\n                        ]))\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./TabSwitch.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TabSwitch.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TabSwitch.vue?vue&type=style&index=0&id=7ab146e6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7ab146e6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"era-app-container\" };\nconst _hoisted_2 = { class: \"era-expanded-layer\" };\nconst _hoisted_3 = { class: \"era-shell\" };\nconst _hoisted_4 = { class: \"era-panel\" };\nconst _hoisted_5 = { class: \"panel-top\" };\nconst _hoisted_6 = { class: \"panel-body\" };\nconst _hoisted_7 = { style: { \"display\": \"flex\", \"flex-direction\": \"column\", \"gap\": \"8px\" } };\nconst _hoisted_8 = { class: \"right-rail\" };\nimport { computed, onMounted, ref, watch } from 'vue';\nimport { Logger } from '../utils/log';\nimport ActionButtons from './components/ActionButtons.vue';\nimport EraSettingsPanel from './components/EraSettingsPanel.vue';\nimport FloatingBall from './components/FloatingBall.vue';\n//  EraDataPanel  imports\nimport EraAccordion from './components/era-panel/parts/EraAccordion.vue';\nimport MetaHeader from './components/era-panel/parts/MetaHeader.vue';\nimport PrettyJsonViewer from './components/era-panel/parts/PrettyJsonViewer.vue';\nimport TabSwitch from './components/era-panel/parts/TabSwitch.vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    props: {\n        initialView: {\n            type: String,\n            required: true,\n            default: 'FloatingBall',\n        },\n        eventData: {\n            type: Object,\n            default: () => null,\n        },\n    },\n    setup(__props) {\n        const logger = new Logger('ui-App');\n        // App.vue  props\n        const props = __props;\n        // App.vue \n        const currentComponent = ref(props.initialView);\n        const requestSwitchView = (viewName) => {\n            logger.debug('requestSwitchView', `: ${viewName}`);\n            if (window.eraUiSwitchView) {\n                window.eraUiSwitchView(viewName);\n            }\n            else {\n                logger.warn('requestSwitchView', ' eraUiSwitchView ');\n            }\n        };\n        //  EraDataPanel \n        const dataRef = computed(() => props.eventData || null);\n        const tabs = [\n            { key: 'pure', label: '' },\n            { key: 'full', label: '' },\n        ];\n        const activeTab = ref('pure');\n        onMounted(() => {\n            logger.log('onMounted', 'App.vue ', { props: props });\n        });\n        watch(() => props.eventData, (newData, oldData) => {\n            logger.debug('watch:eventData', 'eventData prop ', {\n                newData,\n                oldData,\n            });\n        }, { deep: true });\n        watch(() => props.initialView, newView => {\n            logger.debug('watch:initialView', `initialView prop : ${newView}`);\n            currentComponent.value = newView;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _withDirectives(_createVNode(FloatingBall, {\n                    onClick: _cache[0] || (_cache[0] = ($event) => (requestSwitchView('ExpandedView')))\n                }, null, 512 /* NEED_PATCH */), [\n                    [_vShow, currentComponent.value === 'FloatingBall']\n                ]),\n                _withDirectives(_createElementVNode(\"div\", _hoisted_2, [\n                    _createCommentVNode(\"  \"),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createCommentVNode(\"  +  \"),\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createCommentVNode(\"  \"),\n                            _createCommentVNode(\"  ERA  \"),\n                            _createCommentVNode(\"  +  \"),\n                            _createCommentVNode(\"  \"),\n                            _createElementVNode(\"header\", _hoisted_5, [\n                                _createCommentVNode(\"  \"),\n                                _cache[3] || (_cache[3] = _createElementVNode(\"h3\", { class: \"panel-title\" }, \"ERA \", -1 /* CACHED */)),\n                                _createCommentVNode(\"  \"),\n                                _createElementVNode(\"button\", {\n                                    class: \"btn-close\",\n                                    \"aria-label\": \"\",\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (requestSwitchView('FloatingBall')))\n                                }, \"\"),\n                                _createCommentVNode(\"  \")\n                            ]),\n                            _createCommentVNode(\"  \"),\n                            _createCommentVNode(\"  \"),\n                            _createElementVNode(\"div\", _hoisted_6, [\n                                _createCommentVNode(\"  \"),\n                                (dataRef.value)\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                        _createCommentVNode(\"  \"),\n                                        _createVNode(MetaHeader, {\n                                            mk: dataRef.value.mk,\n                                            \"message-id\": dataRef.value.message_id\n                                        }, null, 8 /* PROPS */, [\"mk\", \"message-id\"]),\n                                        _createCommentVNode(\"  \"),\n                                        _createVNode(EraAccordion, {\n                                            title: \"ERA \",\n                                            \"default-open\": false\n                                        }, {\n                                            default: _withCtx(() => [\n                                                _createCommentVNode(\"  \"),\n                                                _createElementVNode(\"div\", _hoisted_7, [\n                                                    _createCommentVNode(\"  \"),\n                                                    _createVNode(EraAccordion, {\n                                                        title: \"SelectedMks\",\n                                                        \"default-open\": false\n                                                    }, {\n                                                        default: _withCtx(() => [\n                                                            _createCommentVNode(\"  \"),\n                                                            _createVNode(PrettyJsonViewer, {\n                                                                value: dataRef.value.selectedMks,\n                                                                \"default-collapsed\": true,\n                                                                \"max-depth\": 3\n                                                            }, null, 8 /* PROPS */, [\"value\"]),\n                                                            _createCommentVNode(\" JSON  \")\n                                                        ]),\n                                                        _: 1 /* STABLE */\n                                                    }),\n                                                    _createVNode(EraAccordion, {\n                                                        title: \"EditLogs\",\n                                                        \"default-open\": false\n                                                    }, {\n                                                        default: _withCtx(() => [\n                                                            _createCommentVNode(\"  \"),\n                                                            _createVNode(PrettyJsonViewer, {\n                                                                value: dataRef.value.editLogs,\n                                                                \"default-collapsed\": true,\n                                                                \"max-depth\": 2\n                                                            }, null, 8 /* PROPS */, [\"value\"]),\n                                                            _createCommentVNode(\" JSON  \")\n                                                        ]),\n                                                        _: 1 /* STABLE */\n                                                    })\n                                                ])\n                                            ]),\n                                            _: 1 /* STABLE */\n                                        }),\n                                        _createVNode(TabSwitch, {\n                                            active: activeTab.value,\n                                            \"onUpdate:active\": _cache[2] || (_cache[2] = ($event) => ((activeTab).value = $event)),\n                                            tabs: tabs\n                                        }, {\n                                            pure: _withCtx(() => [\n                                                _createCommentVNode(\"  \"),\n                                                _createVNode(PrettyJsonViewer, {\n                                                    value: dataRef.value.statWithoutMeta,\n                                                    \"default-collapsed\": true,\n                                                    \"max-depth\": Infinity\n                                                }, null, 8 /* PROPS */, [\"value\"]),\n                                                _createCommentVNode(\" JSON  \")\n                                            ]),\n                                            full: _withCtx(() => [\n                                                _createCommentVNode(\"  \"),\n                                                _createVNode(PrettyJsonViewer, {\n                                                    value: dataRef.value.stat,\n                                                    \"default-collapsed\": true,\n                                                    \"max-depth\": Infinity\n                                                }, null, 8 /* PROPS */, [\"value\"]),\n                                                _createCommentVNode(\" JSON  \")\n                                            ]),\n                                            _: 1 /* STABLE */\n                                        }, 8 /* PROPS */, [\"active\"])\n                                    ], 64 /* STABLE_FRAGMENT */))\n                                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                        _createCommentVNode(\"  \"),\n                                        _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"empty\" }, \" era:writeDone \", -1 /* CACHED */)),\n                                        _createCommentVNode(\"  \")\n                                    ], 64 /* STABLE_FRAGMENT */))\n                            ])\n                        ]),\n                        _createCommentVNode(\" / \"),\n                        _createElementVNode(\"aside\", _hoisted_8, [\n                            _createCommentVNode(\"  \"),\n                            _createVNode(ActionButtons),\n                            _createCommentVNode(\"  \"),\n                            _createVNode(EraSettingsPanel)\n                        ])\n                    ])\n                ], 512 /* NEED_PATCH */), [\n                    [_vShow, currentComponent.value === 'ExpandedView']\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=57305d87&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=57305d87&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.22_typescript@6.0.0-dev.20250807__webpack@5.102.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-57305d87\"]])\n\nexport default __exports__","import { createPinia } from 'pinia';\nimport { createApp, App as VueApp } from 'vue';\nimport { getScriptSettings } from '../utils/era_data';\nimport { Logger } from '../utils/log';\nimport App from './App.vue';\nimport { createMountPoint, destroyMountPoint, deteleportStyle, teleportStyle } from './utils/dom';\n\nconst logger = new Logger('ui-index');\nlet vueApp: VueApp | null = null;\nlet mountPoint: JQuery<HTMLDivElement> | null = null;\nlet currentView: 'FloatingBall' | 'ExpandedView' = 'FloatingBall';\nlet lastEventData: any = null;\n\n/**\n *  App \n * @param viewToShow  App \n */\nfunction renderApp(viewToShow: 'FloatingBall' | 'ExpandedView', dataToPass: any) {\n  logger.debug('renderApp', ` App: ${viewToShow}`, { dataToPass });\n  if (!mountPoint) {\n    logger.warn('renderApp', '');\n    return;\n  }\n\n  // 1.  app\n  unmountVueApp();\n\n  // 2.  app  props \n  vueApp = createApp(App, {\n    initialView: viewToShow,\n    eventData: dataToPass,\n  });\n  vueApp.use(createPinia());\n  vueApp.mount(mountPoint[0]);\n\n  // 3. \n  teleportStyle();\n  logger.debug('renderApp', '');\n}\n\n/**\n * \n * @param viewName \n */\nfunction switchView(viewName: 'FloatingBall' | 'ExpandedView') {\n  logger.debug('switchView', `: ${viewName}`);\n  if (currentView !== viewName) {\n    currentView = viewName;\n    logger.log('switchView', ` App`);\n    renderApp(viewName, lastEventData);\n  } else {\n    logger.debug('switchView', ` ${viewName}`);\n  }\n}\n\n//  window\n(window as any).eraUiSwitchView = switchView;\n\nfunction unmountVueApp() {\n  if (vueApp) {\n    logger.debug('unmountVueApp', ' Vue ');\n    vueApp.unmount();\n    vueApp = null;\n  }\n}\n\nfunction unloadUI() {\n  logger.log('unloadUI', 'UI ');\n  unmountVueApp();\n  deteleportStyle();\n  if (mountPoint) {\n    logger.debug('unloadUI', '');\n    destroyMountPoint();\n    mountPoint = null;\n  }\n  logger.log('unloadUI', 'UI ');\n}\n\n// \n$(() => {\n  const settings = getScriptSettings();\n  if (settings[''] === false) {\n    logger.log('initialize', 'UI ahow ball disabled, attempting to unload...');\n    unloadUI();\n    return;\n  }\n  logger.log('initialize', 'UI ');\n  // \n  mountPoint = createMountPoint();\n  logger.debug('$(document).ready', '', mountPoint);\n\n  //  body\n  $('body').append(mountPoint);\n  logger.debug('$(document).ready', ' body');\n\n  //  App\n  renderApp(currentView, lastEventData);\n\n  //  era:writeDone \n  eventOn('era:writeDone', (data: any) => {\n    logger.log('era:writeDone', ' era:writeDone  UI', data);\n    lastEventData = data;\n    // \n    renderApp(currentView, lastEventData);\n  });\n  logger.debug('$(document).ready', ' era:writeDone ');\n});\n\n// \n$(window).on('pagehide', unloadUI);\n","export function createMountPoint(): JQuery<HTMLDivElement> {\n  return $('<div>').attr('id', `era-ui-mount-point-${getScriptId()}`).css({\n    position: 'fixed',\n    bottom: '20px',\n    left: '20px',\n    'z-index': 10000,\n  }) as JQuery<HTMLDivElement>;\n}\n\nexport function destroyMountPoint(): void {\n  $(`div#era-ui-mount-point-${getScriptId()}`).remove();\n}\n\nexport function teleportStyle(): void {\n  const scriptId = getScriptId();\n  // \n  $(`head > div[script_id=\"${scriptId}\"]`).remove();\n\n  const $div = $('<div>').attr('script_id', scriptId).append($('head > style', document).clone());\n  $('head').append($div);\n}\n\nexport function deteleportStyle(): void {\n  $(`head > div[script_id=\"${getScriptId()}\"]`).remove();\n}\n","/**\n * @file ERA  - \n * @description\n *  ERA \n * 1. ****: \n * 2. ****: \n * 3. ****: \n *     `event_queue.ts`\n *    \n *\n * ****`index.ts`  `event_queue.ts`\n * \n */\n\n'use strict';\n\nimport { EVENT_GROUPS } from './events/merger';\nimport { pushToQueue } from './events/queue';\n\n// ,  {{ERA:...}} \nimport './macro/parser';\n\n//  UI \nimport './ui';\n\n// ===============================\n// \n// ===============================\n\n/**\n * @const {string[]} eventsToListen\n * @description  ERA \n */\nconst eventsToListen = [\n  ...EVENT_GROUPS.INIT,\n  ...EVENT_GROUPS.SYNC,\n  ...EVENT_GROUPS.API,\n  ...EVENT_GROUPS.UPDATE_MK_ONLY,\n  ...EVENT_GROUPS.COLLISION_DETECTORS,\n  ...EVENT_GROUPS.COMBO_STARTERS,\n];\n\n// \n// \neventsToListen.forEach(ev => {\n  // `eventOn` \n  //  `ev`  `ev`  `detail` \n  eventOn(ev, (detail: any) => pushToQueue(ev, detail));\n});\n\n// \n// \neventOn(getButtonEvent(''), () => pushToQueue('manual_write'));\neventOn(getButtonEvent(''), () => pushToQueue('manual_sync'));\neventOn(getButtonEvent(''), () => pushToQueue('manual_full_sync'));\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","__esModule","default","locals","add","listToStyles","parentId","styles","newStyles","part","css","sourceMap","parts","hasDocument","document","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","options","ssrIdKey","isOldIE","navigator","test","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","type","appendChild","obj","update","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","bind","applyToTag","newObj","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","sources","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","sfc","props","target","__vccOpts","key","val","cssMapping","base64","data","sourceMapping","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","z","SettingsSchema","object","boolean","number","CHAT_SCOPE","META_DATA_PATH","STAT_DATA_PATH","LOGS_PATH","ERA_DATA_TAG","ERA_DATA_REGEX","RegExp","ERA_API_EVENTS","INSERT_BY_OBJECT","UPDATE_BY_OBJECT","INSERT_BY_PATH","UPDATE_BY_PATH","DELETE_BY_OBJECT","DELETE_BY_PATH","GET_CURRENT_VARS","ERA_EVENT_EMITTER","DEBUG_CONFIG_LS_KEY","enabledPatterns","disabledPatterns","loadDebugConfig","configStr","globalThis","localStorage","getItem","config","parse","toRegex","p","replace","enabled","disabled","e","console","error","updateConfig","newConfig","uniqueConfig","Set","setItem","log","eraDebug","pattern","delete","Array","from","status","clear","logContext","mk","Logger","moduleName","constructor","_getModuleNameFromStack","callerLine","stack","split","find","line","includes","match","path","formatMessage","funcName","message","String","debug","some","re","formattedMessage","warn","errorObj","logger","EVENT_GROUPS","INIT","tavern_events","APP_READY","SYNC","MESSAGE_RECEIVED","MESSAGE_DELETED","MESSAGE_SWIPED","CHAT_CHANGED","API","values","UPDATE_MK_ONLY","MESSAGE_SENT","COLLISION_DETECTORS","GENERATION_STARTED","COMBO_STARTERS","MESSAGE_UPDATED","EVENT_COLLISION_MAP","Map","next","maxInterval","EVENT_COMBO_MAP","resultType","EVENT_DEBOUNCE_MAP","getEventGroup","eventType","mergeEventBatch","batchToProcess","originalEvents","_","cloneDeep","finalJobs","currentJob","prevJob","timeDifference","timestamp","comboRule","pop","detail","collisionRule","prevGroup","filteredJobs","job","group","isOrphanedDetector","isOrphanedComboStarter","before","after","removeMetaFields","recurse","current","isArray","forEach","startsWith","getEraData","chatVars","getVariables","meta","stat","async","updateEraStatData","updater","updateVariablesWith","v","currentStat","newStat","currentMeta","newMeta","getScriptSettings","rawSettings","script_id","getScriptId","updateScriptSettings","currentSettings","parseCharacterMacros","text","result","SillyTavern","name1","name2","getMessageContent","msg","mes","swipes","sid","Number","swipe_id","isUserMessage","messageContent","customFormatBlock","keyMatch","typeMatch","eraData","parseEraData","role","updateMessageContent","newContent","oldContent","updatePayload","message_id","newSwipes","setChatMessages","refresh","stripCodeFence","s","t","trim","createTagRegex","keyword","mode","escapedKeyword","findTagFromEndByRegex","tagNameRegex","endIndex","closeTagRegex","source","currentMatch","lastMatch","exec","tagName","closeIndex","openTag","openIndex","lastIndexOf","startIndex","substring","containsXMLTags","extractValidBlocks","targetTagNameRegex","processedText","found","slice","removeTagsByRegex","extracted","blocks","searchIndex","unshift","extractBlocksByRegex","validBlocks","block","cleanedBlock","readMessageKey","ensureMessageKey","isNew","existingMk","newMk","Date","now","Math","random","messageType","dataString","updateLatestSelectedMk","getChatMessages","include_swipes","MK","selectedMks","set","initializeExternalSettings","settings","$","ESCAPE_MAP","UNESCAPE_MAP","invert","escapeRegex","keys","escapeRegExp","unescapeRegex","escapeEraData","isPlainObject","unescapeEraData","sanitizeArrays","J","mergeReplaceArray","base","patch","mergeWith","b","parseEditLog","raw","arr","parseJsonl","str","objects","strWithoutComments","inString","char","nextChar","endOfLine","indexOf","endOfComment","stripComments","trimmedStr","braceCount","jsonString","debouncedEmitApiWrite","debounce","eventEmit","leading","trailing","emitWriteDoneEvent","payload","statWithoutMeta","fullPayload","editLogs","inputPayload","actions","consecutiveProcessingCount","performApiWrite","contentString","blockContent","blockTag","lastAiMessage","messages","handleApiEvent","actionsTaken","api","updateByObject","updateByPath","deleteByObject","deleteByPath","getCurrentVars","applyDeleteAtLevel","statData","basePath","patchObj","editLog","currentNodeInVars","necessary","metaPatch","isBypassingProtection","isEmpty","has","valOld","unset","op","value_old","getInheritedTemplateContent","parentTplContent","prototypeContent","specificContent","merged","applyInsertAtLevel","inheritedContent","parentData","localTplContent","parentNodeData","varsContent","mergedContent","resolveTemplate","composed","tplContent","applyTemplateToPatch","finalValue","value_new","subPath","subPatch","subInheritedContent","rollbackByMk","silent","findLatestNewValue","startMessageId","findIndex","m","msgId","metaData","logEntry","parentNewVal","foundVal","applyEditAtLevel","messageId","intraMessageState","isUpdatable","valNew","cleaned","ApplyVarChangeForMessage","rawContent","insertBlocks","editBlocks","deleteBlocks","rawInserts","flatMap","rawEdits","rawDeletes","allInserts","allEdits","allDeletes","inserts","edits","deletes","insertRoot","processInsertBlocks","editRoot","processEditBlocks","deleteRoot","processDeleteBlocks","newArr","err","getMkFromMsg","resyncStateOnHistoryChange","forceFullResync","allMessages","oldMetaData","oldSelectedMks","firstRecalcId","currentMk","recordedMk","currentMkSequence","oldMkSequence","deletedMks","difference","mks","checkEditLogsAreEmpty","newSelectedMks","mksToRollback","reverse","forceRenderMessage","handleSyncEvent","isFullSync","resync","scriptVars","messageCount","Promise","resolve","setTimeout","recentMessages","forceRenderRecentMessages","consecutiveMkState","updateConsecutiveMkCount","count","dispatchAndExecuteTask","mkToIgnore","eventGroup","rollback","apply","apiWrite","isNewKey","ensureMkForLatestMessage","ignoreCount","shouldSkip","newIgnoreRule","CHARACTER_MESSAGE_RENDERED","handleRedundantRenderEvent","handleUpdateMkOnlyEvent","eventQueue","isProcessing","isWaiting","unlockSignal","pushToQueue","firstJob","debounceTime","splice","signal","processQueue","registerMacroLike","context","withMeta","trimmedPath","includeMeta","dataBeforeUnescape","finalData","parseEraMacros","Vue","_hoisted_1","class","_hoisted_2","__name","setup","__props","onFullSync","onLastSync","_ctx","_cache","title","onClick","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","isOpen","ref","rows","reactive","jsonBuffers","jsonState","safeStringify","loadVars","entries","isFinite","alert","onToggle","discardEdits","saveEdits","txt","bad","row","$event","placeholder","onInput","ok","emits","onMounted","$emit","defaultOpen","open","$slots","watch","newProps","deep","defineComponent","name","required","level","defaultCollapsed","maxDepth","computed","isObject","foldable","newOpenState","primitiveText","summary","childEntries","out","cv","idx","$props","$setup","$data","$options","_component_JsonNode","style","paddingLeft","childVal","childKey","isPlainObjectOrArray","primitiveType","isArrayRoot","rootOpen","rootClose","JsonNode","tabs","active","emit","__emit","innerActive","label","initialView","eventData","currentComponent","requestSwitchView","viewName","window","eraUiSwitchView","dataRef","activeTab","newData","oldData","newView","FloatingBall","MetaHeader","EraAccordion","PrettyJsonViewer","TabSwitch","pure","Infinity","full","ActionButtons","EraSettingsPanel","vueApp","mountPoint","currentView","lastEventData","renderApp","viewToShow","dataToPass","unmountVueApp","createApp","App","use","mount","scriptId","$div","attr","append","clone","teleportStyle","unmount","unloadUI","position","bottom","left","eventOn","on","ev","getButtonEvent"],"sourceRoot":""}
