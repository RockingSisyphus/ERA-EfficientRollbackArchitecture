<template>
  <!-- å³ä¾§æ“ä½œå¡ï¼šå¤–å±‚è‡ªåŒ…å«ï¼Œä¸ä¾èµ–çˆ¶ç»„ä»¶æ ·å¼ -->
  <section class="action-buttons-card" role="complementary" aria-label="ERA å¿«æ·æ“ä½œ">
    <!-- ä¸­æ–‡æ³¨é‡Šï¼šæ“ä½œå¡å®¹å™¨ -->
    <h4 class="card-title">å¿«æ·æ“ä½œ</h4>
    <!-- ä¸­æ–‡æ³¨é‡Šï¼šå¡ç‰‡æ ‡é¢˜ -->
    <div class="btns">
      <!-- ä¸­æ–‡æ³¨é‡Šï¼šæŒ‰é’®å‚ç›´æ ˆ -->
      <div class="btn-group">
        <button class="btn primary" title="é‡æ–°è®¡ç®—æ‰€æœ‰å˜é‡" @click.stop="onFullSync">
          <!-- ä¸­æ–‡æ³¨é‡Šï¼šä¸»æŒ‰é’® -->
          <span class="ico" aria-hidden="true">ğŸ”„</span>
          <!-- ä¸­æ–‡æ³¨é‡Šï¼šå›¾æ ‡ -->
          <span class="label">å®Œå…¨é‡ç®—å˜é‡</span>
          <!-- ä¸­æ–‡æ³¨é‡Šï¼šæ–‡å­— -->
        </button>
        <p class="btn-desc">
          å½“å˜é‡ä¸é¢„æœŸä¸ç¬¦æ—¶ï¼Œç‚¹å‡»æ­¤æŒ‰é’®å¯ä»**ç¬¬ä¸€æ¡æ¶ˆæ¯**å¼€å§‹é‡æ–°è®¡ç®—æ‰€æœ‰æ¶ˆæ¯ï¼Œä»¥ç¡®ä¿æ•°æ®å®Œå…¨åŒæ­¥ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„æ“ä½œã€‚
        </p>
      </div>

      <div class="btn-group">
        <button class="btn subtle" title="åªé‡ç®—æœ€æ–°ä¸€æ¥¼çš„å˜é‡" @click.stop="onLastSync">
          <!-- ä¸­æ–‡æ³¨é‡Šï¼šæ¬¡æŒ‰é’® -->
          <span class="ico" aria-hidden="true">â™»ï¸</span>
          <!-- ä¸­æ–‡æ³¨é‡Šï¼šå›¾æ ‡ -->
          <span class="label">é‡ç®—æœ€åä¸€æ¥¼å˜é‡</span>
          <!-- ä¸­æ–‡æ³¨é‡Šï¼šæ–‡å­— -->
        </button>
        <p class="btn-desc">
          ä»…æ ¹æ®æœ€æ–°ä¸€æ¡æ¶ˆæ¯é‡æ–°è®¡ç®—å˜é‡ï¼Œé€Ÿåº¦è¾ƒå¿«ã€‚é€‚ç”¨äºä¿®å¤æœ€è¿‘ä¸€æ¬¡æ“ä½œå¯¼è‡´çš„å°é—®é¢˜æˆ–åœ¨æ‰‹åŠ¨ç¼–è¾‘äº†æœ€åä¸€æ¡æ¶ˆæ¯åé‡æ–°å†™å…¥å˜é‡ï¼ˆæ³¨æ„ï¼Œeraä¼šæ— è§†æ‰€æœ‰**ç”¨æˆ·å‘é€çš„æ¶ˆæ¯**ä¸­çš„å˜é‡æ›´æ–°è¯­å¥ï¼‰ã€‚
        </p>
      </div>

      <!-- æ–°å¢ï¼šæ—¶é—´æ—…è¡Œ/å›æ»šåŠŸèƒ½ -->
      <div class="btn-group">
        <div class="input-btn-combo">
          <input
            v-model.number="rollbackId"
            type="number"
            class="input-field"
            placeholder="æ¶ˆæ¯ ID"
            aria-label="è¦å›æ»šåˆ°çš„æ¶ˆæ¯ ID"
          />
          <button class="btn subtle combo-btn" title="å°†å˜é‡çŠ¶æ€å›æ»šåˆ°æŒ‡å®šæ¶ˆæ¯" @click.stop="onRollbackTo">
            <span class="ico" aria-hidden="true">â³</span>
            <span class="label">å›æ»šåˆ°</span>
          </button>
        </div>
        <p class="btn-desc">è¾“å…¥ä¸€ä¸ªæ¶ˆæ¯ IDï¼Œç‚¹å‡»æŒ‰é’®å¯å°†å˜é‡çŠ¶æ€â€œæ—¶é—´æ—…è¡Œâ€å›è¯¥æ¶ˆæ¯å¤„ç†å®Œæ¯•åçš„é‚£ä¸€åˆ»ã€‚</p>
      </div>

      <div class="btn-group">
        <button class="btn danger" title="ä¸ºè§’è‰²å¡æ³¨å…¥ ERA è§„åˆ™" @click.stop="onInjectRegex">
          <span class="ico" aria-hidden="true">ğŸ¥½</span>
          <span class="label">ERA å¿«é€Ÿåˆå§‹åŒ–</span>
        </button>
        <p class="btn-desc">
          ã€è§’è‰²å¡ä½œè€…ä¸“ç”¨ã€‘ç‚¹å‡»åï¼Œä¼šå‘å½“å‰è§’è‰²å¡æ³¨å…¥å››æ¡è§„åˆ™ï¼š<br />
          1. æ·»åŠ â€œERA æ•°æ®éšè—æ­£åˆ™â€ä»¥éšè—èŠå¤©ä¸­çš„æ•°æ®æ ‡ç­¾ã€‚<br />
          2. æ·»åŠ â€œERAçŠ¶æ€æ æ¨¡æ¿â€ä»¥å°†æ¨¡æ¿çŠ¶æ€æ æ›¿æ¢è‡³æ¶ˆæ¯ã€‚<br />
          3. å‘è§’è‰²ä¸»ä¸–ç•Œä¹¦ä¸­æ·»åŠ â€œERAå˜é‡æ“ä½œè§„åˆ™â€æ¡ç›®ä»¥ä»¤aiæ˜ç™½eraå˜é‡çš„æ“ä½œè§„åˆ™ã€‚<br />
          4. å‘è§’è‰²ä¸»ä¸–ç•Œä¹¦ä¸­æ·»åŠ â€œERAå˜é‡æ„å›¾è¯´æ˜â€æ¡ç›®ä»¥å­˜æ”¾å˜é‡æ„å›¾è¯´æ˜ã€‚<br />
          æ³¨æ„ï¼šä½œè€…å¯ä»¥ç”¨è¯¥åŠŸèƒ½å¿«é€Ÿæ³¨å…¥ä½¿ç”¨eraçš„å‡ ä¸ªåŸºç¡€é…ç½®ã€‚ä½†ä½ ä»æ—§éœ€è¦ï¼š<br />
          1. è‡ªå·±è®¾è®¡è§’è‰²å¡ç”¨åˆ°çš„å˜é‡ç»“æ„å¹¶å†™å…¥è§’è‰²çš„å¼€åœºç™½ã€‚<br />
          2. åœ¨è§’è‰²ä¸»ä¸–ç•Œä¹¦ä¸­â€˜ERAå˜é‡æ„å›¾è¯´æ˜â€™æ¡ç›®ä¸­æ·»åŠ å‘aiè¯´æ˜å„ä¸ªå˜é‡çš„æ„å›¾çš„æç¤ºè¯ã€‚<br />
          3. ä¿®æ”¹â€˜ERAçŠ¶æ€æ æ¨¡æ¿â€™æ­£åˆ™ä¸­çš„çŠ¶æ€æ ä»£ç ï¼Œä»¤å…¶ä¸**ä½ è®¾è®¡çš„å˜é‡ç³»ç»ŸåŒ¹é…**ã€‚
        </p>
      </div>
    </div>
  </section>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import toastr from 'toastr';
import { initEraCharacterRegexes } from '../../../initer/manual/regex';
import { initEraWorldbookEntries } from '../../../initer/manual/worldbook';
import { Logger } from '../../../utils/log'; // ä¸­æ–‡æ³¨é‡Šï¼šæ—¥å¿—å·¥å…·
import { ui } from 'jquery';

const logger = new Logger(); // ä¸­æ–‡æ³¨é‡Šï¼šå®ä¾‹åŒ–æ—¥å¿—
const rollbackId = ref<number | null>(null);

async function onInjectRegex() {
  logger.log('onInjectRegex', 'ç‚¹å‡»â€œERA å¿«é€Ÿåˆå§‹åŒ–â€ï¼Œå¼€å§‹æ³¨å…¥...');
  try {
    // æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç¬¬ 0 æ¡æ¶ˆæ¯
    try {
      const firstMessage = getChatMessages(0);
      if (!firstMessage || firstMessage.length === 0) {
        throw new Error('No messages found');
      }
    } catch (e) {
      toastr.error('ç„¶åå†æ¬¡ç‚¹å‡»å¿«é€Ÿåˆå§‹åŒ–', 'è¯·åœ¨è§’è‰²å¡çš„å¼€åœºç™½ä¸­æ·»åŠ ä»»æ„å†…å®¹ã€‚');
      logger.warn('onInjectRegex', 'è·å–ç¬¬ 0 æ¡æ¶ˆæ¯å¤±è´¥ï¼Œå¯èƒ½æ˜¯å› ä¸ºèŠå¤©è®°å½•ä¸ºç©ºã€‚', e);
      return;
    }

    // åˆå§‹åŒ–æ­£åˆ™
    const regexResult = await initEraCharacterRegexes();
    if (!regexResult.success) {
      toastr.error(regexResult.reason ?? 'æœªçŸ¥é”™è¯¯', 'æ­£åˆ™åˆå§‹åŒ–å¤±è´¥');
      logger.error('onInjectRegex', 'æ­£åˆ™æ³¨å…¥å¤±è´¥:', regexResult.reason);
      return;
    } else {
      const injectedCount = regexResult.details.filter(d => d.status === 'injected').length;
      const existsCount = regexResult.details.filter(d => d.status === 'exists').length;
      let message = '';
      if (injectedCount > 0) {
        message += `æˆåŠŸæ³¨å…¥ ${injectedCount} ä¸ªæ–°æ­£åˆ™ã€‚`;
      }
      if (existsCount > 0) {
        message += ` ${existsCount} ä¸ªæ­£åˆ™å·²å­˜åœ¨ã€‚`;
      }
      if (message) {
        toastr.success(message.trim(), 'æ­£åˆ™åˆå§‹åŒ–å®Œæˆ');
      }
    }

    // åˆå§‹åŒ–ä¸–ç•Œä¹¦
    const worldbookResult = await initEraWorldbookEntries();
    if (!worldbookResult.success) {
      toastr.error(worldbookResult.reason ?? 'ä¸€ä¸ªæˆ–å¤šä¸ªä¸–ç•Œä¹¦æ¡ç›®æ³¨å…¥å¤±è´¥ã€‚', 'ä¸–ç•Œä¹¦åˆå§‹åŒ–å¤±è´¥');
      logger.error('onInjectRegex', 'ä¸–ç•Œä¹¦æ³¨å…¥å¤±è´¥:', worldbookResult);
    } else {
      const injectedCount = worldbookResult.details.filter(d => d.status === 'injected').length;
      const existsCount = worldbookResult.details.filter(d => d.status === 'exists').length;
      let message = '';
      if (injectedCount > 0) {
        message += `æˆåŠŸæ³¨å…¥ ${injectedCount} ä¸ªæ–°æ¡ç›®ã€‚`;
      }
      if (existsCount > 0) {
        message += ` ${existsCount} ä¸ªæ¡ç›®å·²å­˜åœ¨ã€‚`;
      }
      toastr.success(message.trim(), 'ä¸–ç•Œä¹¦åˆå§‹åŒ–å®Œæˆ');
    }

    logger.log('onInjectRegex', 'åˆå§‹åŒ–æµç¨‹å®Œæˆã€‚');
  } catch (error) {
    logger.error('onInjectRegex', 'æ‰§è¡Œåˆå§‹åŒ–æ—¶å‘ç”Ÿæ„å¤–é”™è¯¯:', error);
    toastr.error('å‘ç”Ÿæ„å¤–é”™è¯¯ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°è·å–è¯¦ç»†ä¿¡æ¯ã€‚', 'åˆå§‹åŒ–å¤±è´¥');
  }
}

function onFullSync() {
  logger.log('onFullSync', 'ç‚¹å‡»â€œå®Œå…¨é‡ç®—å˜é‡â€ï¼Œå‘é€ era:forceSync äº‹ä»¶ (mode: full)ã€‚');
  try {
    eventEmit('era:forceSync', { mode: 'full' });
    toastr.success('å·²å‘é€â€œå®Œå…¨é‡ç®—å˜é‡â€è¯·æ±‚ã€‚', 'æ“ä½œæˆåŠŸ');
  } catch (error) {
    logger.error('onFullSync', 'å‘é€ era:forceSync äº‹ä»¶æ—¶å‡ºé”™:', error);
    toastr.error('å‘é€è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°ã€‚', 'æ“ä½œå¤±è´¥');
  }
}

function onLastSync() {
  logger.log('onLastSync', 'ç‚¹å‡»â€œé‡ç®—æœ€åä¸€æ¥¼å˜é‡â€ï¼Œå‘é€ era:forceSync äº‹ä»¶ (mode: latest)ã€‚');
  try {
    eventEmit('era:forceSync', { mode: 'latest' });
    toastr.success('å·²å‘é€â€œé‡ç®—æœ€åä¸€æ¥¼å˜é‡â€è¯·æ±‚ã€‚', 'æ“ä½œæˆåŠŸ');
  } catch (error) {
    logger.error('onLastSync', 'å‘é€ era:forceSync äº‹ä»¶æ—¶å‡ºé”™:', error);
    toastr.error('å‘é€è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°ã€‚', 'æ“ä½œå¤±è´¥');
  }
}

function onRollbackTo() {
  if (rollbackId.value === null || rollbackId.value < 0) {
    toastr.warning('è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„ã€éè´Ÿçš„æ¶ˆæ¯ IDã€‚', 'è¾“å…¥æ— æ•ˆ');
    return;
  }
  logger.log(
    'onRollbackTo',
    `ç‚¹å‡»â€œå›æ»šåˆ°â€ï¼Œå‘é€ era:forceSync äº‹ä»¶ (mode: rollbackTo, message_id: ${rollbackId.value})ã€‚`,
  );
  try {
    eventEmit('era:forceSync', { mode: 'rollbackTo', message_id: rollbackId.value });
    toastr.success(`å·²å‘é€å›æ»šåˆ°æ¶ˆæ¯ #${rollbackId.value} çš„è¯·æ±‚ã€‚`, 'æ“ä½œæˆåŠŸ');
  } catch (error) {
    logger.error('onRollbackTo', 'å‘é€ era:forceSync äº‹ä»¶æ—¶å‡ºé”™:', error);
    toastr.error('å‘é€è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°ã€‚', 'æ“ä½œå¤±è´¥');
  }
}
</script>

<style scoped>
/* === æ–°å¢ï¼šè¾“å…¥æ¡†ä¸æŒ‰é’®ç»„åˆ === */
.input-btn-combo {
  display: flex;
  gap: 8px;
}

.input-field {
  flex-grow: 1;
  width: 0; /* è®© flex-grow ç”Ÿæ•ˆ */
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid var(--settings-border-input, var(--border-soft));
  background: var(--settings-bg-btn-subtle, var(--actions-btn-bg));
  color: var(--settings-text-input, var(--text-normal));
  font-size: 13px;
  font-weight: 600;
  text-align: center;
  transition: all 0.3s ease;
  box-shadow: var(--settings-shadow-inset);
}
.input-field::placeholder {
  color: var(--text-soft);
  font-weight: 500;
}
.input-field:focus {
  outline: none;
  border-color: var(--actions-outline-focus);
  box-shadow:
    var(--settings-shadow-inset),
    0 0 0 3px var(--snapshot-accent-soft);
}
/* éšè— number input çš„åŸç”Ÿç®­å¤´ */
.input-field::-webkit-outer-spin-button,
.input-field::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.input-field[type='number'] {
  -moz-appearance: textfield;
}

.combo-btn {
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
  padding-left: 12px;
  padding-right: 12px;
}

/* === å¤–å±‚å¡ç‰‡ï¼šä¸å·¦ä¾§ ERA é¢æ¿åŒé£æ ¼ï¼ˆç»ç’ƒå¡ + è½»æµ®é›•ï¼‰ === */
.action-buttons-card {
  /* ä¸­æ–‡æ³¨é‡Šï¼šå¡ç‰‡å®¹å™¨ */
  width: 100%; /* å æ»¡ä¾§æ  */ /* ä¸­æ–‡æ³¨é‡Šï¼šè‡ªé€‚åº”å®½åº¦ */
  padding: 12px; /* å†…è¾¹è· */ /* ä¸­æ–‡æ³¨é‡Šï¼šç•™ç™½ */
  background: var(--actions-bg-glass);
  border: 1px solid var(--border-strong);
  border-radius: 16px; /* ä¸­æ–‡æ³¨é‡Šï¼šåœ†è§’ */
  backdrop-filter: blur(10px); /* ä¸­æ–‡æ³¨é‡Šï¼šæ¯›ç»ç’ƒæ•ˆæœ */
  box-shadow: var(--actions-shadow-card), var(--shadow-inset);
  display: flex; /* ä¸­æ–‡æ³¨é‡Šï¼šçºµå‘å¸ƒå±€ */
  flex-direction: column; /* ä¸­æ–‡æ³¨é‡Šï¼šå‚ç›´æ’åˆ— */
  gap: 10px; /* ä¸­æ–‡æ³¨é‡Šï¼šå…ƒç´ é—´è· */
  transition:
    background 0.3s ease,
    border-color 0.3s ease;
}

/* æ ‡é¢˜ï¼šä¸é¢æ¿æ ‡é¢˜æƒé‡æ¥è¿‘ä½†ç•¥è½» */
.card-title {
  /* ä¸­æ–‡æ³¨é‡Šï¼šå¡ç‰‡æ ‡é¢˜ */
  margin: 0 0 4px; /* ä¸­æ–‡æ³¨é‡Šï¼šåº•éƒ¨ç•™ç™½ */
  font-size: 14px; /* ä¸­æ–‡æ³¨é‡Šï¼šå­—å· */
  font-weight: 800; /* ä¸­æ–‡æ³¨é‡Šï¼šåŠ ç²— */
  letter-spacing: 0.3px; /* ä¸­æ–‡æ³¨é‡Šï¼šå­—è· */
  color: var(--text-title);
  transition: color 0.3s ease;
}

/* æŒ‰é’®æ ˆï¼šç«–ç›´æ’åˆ— */
.btns {
  /* ä¸­æ–‡æ³¨é‡Šï¼šæŒ‰é’®å®¹å™¨ */
  display: flex; /* ä¸­æ–‡æ³¨é‡Šï¼šflex å¸ƒå±€ */
  flex-direction: column; /* ä¸­æ–‡æ³¨é‡Šï¼šå‚ç›´æ’åˆ— */
  gap: 16px; /* ä¸­æ–‡æ³¨é‡Šï¼šä¸Šä¸‹é—´è· */
}

.btn-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.btn-desc {
  font-size: 11px;
  color: var(--text-soft);
  padding: 0 4px;
  line-height: 1.5;
  margin: 0;
  transition: color 0.3s ease;
}

/* é€šç”¨æŒ‰é’®é€ å‹ï¼šå¤§å·ã€æ˜“ç‚¹ã€å¯èšç„¦ */
.btn {
  /* ä¸­æ–‡æ³¨é‡Šï¼šé€šç”¨æŒ‰é’® */
  display: grid; /* ä¸­æ–‡æ³¨é‡Šï¼šç½‘æ ¼æ–¹ä¾¿å¯¹é½å›¾æ ‡ä¸æ–‡å­— */
  grid-template-columns: 22px 1fr; /* ä¸­æ–‡æ³¨é‡Šï¼šå·¦ 22px å›¾æ ‡ + å³ä¾§æ–‡å­— */
  align-items: center; /* ä¸­æ–‡æ³¨é‡Šï¼šå‚ç›´å±…ä¸­ */
  column-gap: 8px; /* ä¸­æ–‡æ³¨é‡Šï¼šå›¾æ ‡ä¸æ–‡å­—é—´è· */
  padding: 10px 12px; /* ä¸­æ–‡æ³¨é‡Šï¼šè§¦æ§å‹å¥½å°ºå¯¸ */
  border-radius: 12px; /* ä¸­æ–‡æ³¨é‡Šï¼šåœ†è§’ */
  border: 1px solid var(--border-soft);
  background: var(--actions-btn-bg);
  color: var(--actions-btn-text);
  font-weight: 700; /* ä¸­æ–‡æ³¨é‡Šï¼šå­—é‡ */
  font-size: 13px; /* ä¸­æ–‡æ³¨é‡Šï¼šå­—å· */
  cursor: pointer; /* ä¸­æ–‡æ³¨é‡Šï¼šå¯ç‚¹å‡» */
  box-shadow: var(--settings-shadow-inset), var(--shadow-button);
  transition:
    transform 0.12s ease,
    box-shadow 0.12s ease,
    background 0.2s ease,
    color 0.3s ease,
    border-color 0.3s ease;
  text-align: left; /* ä¸­æ–‡æ³¨é‡Šï¼šé å·¦ */
}

/* ä¸»æŒ‰é’®ï¼šç•¥å¸¦å“ç‰Œè‰²è°ƒï¼ˆè“é’ï¼‰ */
.btn.primary {
  /* ä¸­æ–‡æ³¨é‡Šï¼šä¸»æŒ‰é’® */
  background: var(--actions-btn-primary-bg);
  border-color: var(--actions-btn-primary-border);
  color: var(--actions-btn-primary-text);
}

/* æ¬¡æŒ‰é’®ï¼šæ›´ç´ é›… */
.btn.subtle {
  /* ä¸­æ–‡æ³¨é‡Šï¼šæ¬¡æŒ‰é’® */
  background: var(--actions-btn-subtle-bg);
  border-color: var(--actions-btn-subtle-border);
}

/* å±é™©æŒ‰é’®ï¼šç”¨äºç‰¹æ®Šæˆ–ç ´åæ€§æ“ä½œ */
.btn.danger {
  background: var(--actions-btn-danger-bg);
  border-color: var(--actions-btn-danger-border);
  color: var(--actions-btn-danger-text);
}

/* æ‚¬åœä¸æŒ‰å‹åé¦ˆ */
.btn:hover {
  /* ä¸­æ–‡æ³¨é‡Šï¼šæ‚¬åœæ€ */
  transform: translateY(-1px); /* ä¸­æ–‡æ³¨é‡Šï¼šè½»æµ®èµ· */
  box-shadow: var(--settings-shadow-inset), var(--shadow-button-hover);
}
.btn:active {
  /* ä¸­æ–‡æ³¨é‡Šï¼šæŒ‰ä¸‹æ€ */
  transform: translateY(0); /* ä¸­æ–‡æ³¨é‡Šï¼šå›è½ */
  box-shadow: var(--settings-shadow-inset), var(--actions-shadow-btn-active);
}

/* ç„¦ç‚¹å¯è§æ€§ï¼ˆæ— éšœç¢ï¼‰ */
.btn:focus-visible {
  /* ä¸­æ–‡æ³¨é‡Šï¼šé”®ç›˜èšç„¦æ€ */
  outline: 2px solid var(--actions-outline-focus);
  outline-offset: 2px; /* ä¸­æ–‡æ³¨é‡Šï¼šæè¾¹åç§» */
}

/* å›¾æ ‡ä¸æ–‡å­— */
.ico {
  /* ä¸­æ–‡æ³¨é‡Šï¼šå›¾æ ‡æ¡† */
  display: inline-grid; /* ä¸­æ–‡æ³¨é‡Šï¼šç½‘æ ¼æ”¾ç½® */
  place-items: center; /* ä¸­æ–‡æ³¨é‡Šï¼šå±…ä¸­ */
  width: 22px; /* ä¸­æ–‡æ³¨é‡Šï¼šå®½åº¦ */
  height: 22px; /* ä¸­æ–‡æ³¨é‡Šï¼šé«˜åº¦ */
  filter: saturate(0.95); /* ä¸­æ–‡æ³¨é‡Šï¼šè½»é¥±å’Œ */
}
.label {
  /* ä¸­æ–‡æ³¨é‡Šï¼šæ–‡å­— */
  white-space: nowrap; /* ä¸­æ–‡æ³¨é‡Šï¼šä¸æ¢è¡Œï¼ˆæ–‡å­—çŸ­ï¼‰ */
  overflow: hidden; /* ä¸­æ–‡æ³¨é‡Šï¼šæº¢å‡ºè£å‰ª */
  text-overflow: ellipsis; /* ä¸­æ–‡æ³¨é‡Šï¼šçœç•¥å· */
}
</style>
